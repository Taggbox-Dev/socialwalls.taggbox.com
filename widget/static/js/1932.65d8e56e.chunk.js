"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1932],{91932:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var s=a(72791),n=a(2703),l=a(80184);const o=s.lazy((()=>Promise.all([a.e(9705),a.e(7122)]).then(a.bind(a,37122))));var i;class h extends s.PureComponent{constructor(){super(...arguments),this.state={columns:[],activeID:null,data:[],cardData:[]},this.componentDidMount=()=>{i=setInterval((()=>this.onUpdateTimeInterVal()),3e3),this.props.heightUpdate()},this.onLoadData=()=>{const{cardData:t}=this.state;if(t&&t.length){const e=t.map(((t,e)=>({id:e,referenceData:null})));this.setState({columns:e,data:t})}},this.postDataFilter=()=>{let{postData:t,completeDataObject:e,wall:a}=this.props,s=[];const l=t.map((t=>e[t])),o=(0,n.tf)(),i=a.ThemeRule.numberOfCoumn,h=a.isEditor||1!==o?a.isEditor||2!==o?i||5:3:2;for(let n=0;n<l.length;n++){const t=n%h;s[t]||(s[t]=[]),s[t].push(l[n])}for(let n=0;n<s.length;n++)if(s[n].length<3){const t=3-s[n].length;for(let e=0;e<t;e++)s[n]=[...s[n],s[Math.floor(Math.random()*s.length)][Math.floor(Math.random()*s[n].length)]]}this.setState({cardData:s},(()=>this.onLoadData()))},this.onUpdateTimeInterVal=()=>{const{activeID:t,columns:e}=this.state;if(t||0==t){let a=parseInt(t)+1;a>=e.length&&(a=0),e[a]&&this.setState({activeID:a})}else{let t=0;e[t]&&this.setState({activeID:t})}},this.onUpdateRef=(t,e)=>{let{columns:a}=this.state;a&&a.length>0&&a[t]&&(a[t].referenceData=e),this.setState({columns:a})},this.CONVERT_OBJ_TO_ARRAY=t=>Object.values(t).map((t=>({...t})))}componentWillMount(){this.postDataFilter()}componentDidUpdate(t,e){this.state.data!==e.data&&this.onLoadData(),this.props.heightUpdate(),setTimeout((()=>window.dispatchEvent(new Event("resize"))),1e3)}componentWillUnmount(){i&&clearInterval(i)}render(){let{themeHeight:t,wall:e}=this.props;const{activeID:a,cardData:n}=this.state;return(0,l.jsx)("div",{id:"falling-container",className:"tb_wall_wrap__ ".concat(64==e.ThemeRule.themeId?"theme64 card".concat(e.ThemeRule.numberOfCoumn," ").concat(e.isDisplay?"display":""):"atmosphereReels69 embed"),style:{height:"calc(100vh - ".concat(t+4,"px)")},children:n&&n.length?n.map(((t,e)=>(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,s.createElement)(o,{...this.props,key:"update_".concat(e),pItem:this.CONVERT_OBJ_TO_ARRAY(t),pIndex:e,postData:n,onUpdateRef:this.onUpdateRef,activeID:a})}))):null})}}const c=h}}]);
//# sourceMappingURL=1932.65d8e56e.chunk.js.map