"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4194],{74194:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(72791),i=s(77581),n=s(79200),o=s(2703),l=s(70188),c=s(58290),d=s(80184);const r=e=>{let{height:t}=e;return(0,d.jsxs)("div",{className:"post",children:[(0,d.jsx)("div",{className:"tb_slide_w_half",children:(0,d.jsx)("div",{className:"makeBgImg",children:(0,d.jsx)(c.Z,{style:{height:"calc(85vh - 80px)",marginTop:"5vh"}})})}),(0,d.jsx)("div",{className:"tb_slide_w_half",children:(0,d.jsx)("div",{className:"skeletonContent",children:(0,d.jsxs)("div",{className:"skeltoncss",children:[(0,d.jsxs)("div",{className:"section-one-skel",children:[(0,d.jsx)(c.Z,{circle:!0,height:100,width:100}),(0,d.jsx)("h4",{children:(0,d.jsxs)("div",{className:"skel-span-m",children:[(0,d.jsx)("p",{children:(0,d.jsx)(c.Z,{height:15})}),(0,d.jsx)("p",{children:(0,d.jsx)(c.Z,{height:15})}),(0,d.jsx)("p",{className:"s-sket-m",children:(0,d.jsx)(c.Z,{height:15})})]})})]}),(0,d.jsxs)("div",{className:"section-two-skel",children:[(0,d.jsx)(c.Z,{circle:!0,height:80,width:80}),(0,d.jsxs)("div",{className:"skel-span-m2",children:[(0,d.jsx)("p",{children:(0,d.jsx)(c.Z,{height:15})}),(0,d.jsx)("p",{className:"sket-two-m",children:(0,d.jsx)(c.Z,{height:15})})]})]})]})})})]})};var h=s(68329),m=s(49671),g=s(42308),p=s(19036);class u extends a.Component{constructor(){super(...arguments),this.state={id:this.props.activeData.id},this.onZoomStyleLoad=()=>{const{mediaClass:e}=this.state,{ThemeRule:t}=this.props;this.setState({fade:"fade-in"}),setTimeout((()=>{"makeBgImg"===e&&this.setState({mediaClass:"".concat(e," ").concat(74==t.themeId?" zoom2x":"")})}),3e3)},this.addNetwork=e=>{let t=document.querySelector(".scrlBarComan");t&&t.setAttribute("data-network",e)}}componentDidMount(){const{mediaClass:e,activeData:t}=this.props;this.setState({mediaClass:e,id:t.id},(()=>this.onZoomStyleLoad()))}componentDidUpdate(e,t){if(e.activeData.id!==t.id){const{mediaClass:t,activeData:s}=e;this.setState({mediaClass:t,id:s.id,fade:"",active:""},(()=>this.onZoomStyleLoad()))}}render(){const{activeData:e,typeClass:t,blurStyle:s,blurClass:i,columnLeftClass:n,columnRightClass:o,active:l,wall:c,network:r,Personalization:u,ThemeRule:w}=this.props,x=2===e.type||3===e.type||4===e.type||5===e.type,v=e.rating>0?"tb_mwf_rating_content":"tb_mwf_content",b=1===e.type&&u.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",{mediaClass:_}=this.state,C=e.rating>0;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{id:'"postId'.concat(e.id),className:"feedId".concat(e.feedId," postItem item ").concat(t," flatCard animated in autoBold appliedchLimit ").concat(l),children:[76==w.themeId?(0,d.jsx)("div",{className:"blur-bg tb_slide_bg_color__",style:{background:0===w.transparent?""==w.backgroundColor?2==e.networkId?"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)":r.color:w.backgroundColor:2==e.networkId?"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)":r.color}}):null,74==w.themeId?(0,d.jsx)("div",{className:"blur-bg tb_slide_bg_img_full__",style:s}):null,74==w.themeId?(0,d.jsx)("div",{className:"blur-bg tb_slide_bg_img_vid__ ".concat(i),style:s}):null,(0,d.jsxs)("div",{className:"post",children:[(0,d.jsx)("div",{className:n,style:1==e.type?{display:"none"}:2===e.networkId||18===e.networkId?{textAlign:"center"}:{},children:(0,d.jsx)("div",{className:_,style:s,children:(0,a.createElement)(h.Z,{...this.props,key:e.id,itemData:e,wallID:c.id})})}),!w.hideContent||u.postTime||u.postAuthor?(0,d.jsx)("div",{className:o,children:(0,d.jsx)("div",{className:"postContentCard",style:{backgroundColor:"".concat(74!=w.themeId?c.ThemeRule.cardColor:"")},children:(0,d.jsxs)("div",{className:"postContentClasic classicSlideshow",style:{padding:"".concat(c.ThemeRule.spacing,"px")},children:[(0,d.jsx)("div",{className:"socialIcons fadeInDown",children:(0,d.jsx)(m.Z,{ownerId:c.Wall.owner,mediaType:x,postTime:e.createdAt,author:e.author,network:r,font:w.iconColor,personalization:u,ThemeRule:w})}),C?(0,d.jsx)(p.Z,{rating:e.rating,network:e.network}):null,(0,d.jsxs)("div",{className:"fadeInUp",children:[w.hideContent?null:(0,d.jsx)(g.Z,{item:e,contentClass:"".concat(v," ").concat(b),font:w.font,ThemeRule:w,personalization:u,contentTitle:e.contentTitle},e.id),(0,d.jsx)("div",{className:"autherDetails",children:(0,d.jsx)(m.Z,{ownerId:c.Wall.owner,mediaType:x,postTime:e.createdAt,author:e.author,network:r,font:e.font,personalization:u,ThemeRule:w})})]})]})})}):null]})]})})}}const w=u;class x extends a.PureComponent{constructor(){super(...arguments),this.state={isLoading:!0,isAnimation:!0,isActiveIndex:-1,activeData:null,activeVideoLength:0,active:"",newImage:"",getHeight:0,wHeight:window.innerHeight,BannerImageHeight:0,checkThemeheight:!1},this.onFullscreenChange=()=>{const{heightUpdate:e}=this.props;e(),setTimeout((()=>{this.setState({checkThemeheight:!0})}),300)},this.onLoad=()=>{const{wall:e}=this.props,t=document.querySelector(".bannerTop");let s=t?t.clientHeight:"",a=e.CustomBanner&&Object.keys(e.CustomBanner).length>0?(1===e.CustomBanner.status?e.CustomBanner.banner_height:0)+(1===e.CustomTicker.status?e.CustomTicker.ticker_height:0):0;e.BannerImage&&1===e.BannerImage.status&&(a+=s||0),this.setState({getHeight:Number(a)},(()=>(0,o.OX)()))},this.onChangeNextData=()=>{const{postData:e,completeDataObject:t,wall:s}=this.props,{Personalization:a,ThemeRule:i}=s,n=e.postData;let l=[];n&&n.length>0&&e.postData.map((e=>{(a.postAuthor||a.postTime||!i.hideContent||t[e].filename)&&l.push(t[e])}));const{isActiveIndex:c,activeVideoLength:d}=this.state;if(0===d)if(c>=l.length-1){const e=l[0],t=(0,o.V2)(e.networkId,e.carausel,e.file,e.postFileNew);this.setState({isActiveIndex:0,activeData:e,active:"",newImage:t},(()=>{this.onRepeatLoad(),(0,o.OX)()}))}else{const e=l[c+1],t=(0,o.V2)(e.networkId,e.carausel,e.file,e.postFileNew);this.setState({isAnimation:c+1!==0,isActiveIndex:c+1,activeData:e,active:"",newImage:t},(()=>{this.onRepeatLoad(),(0,o.OX)()}))}},this.onRepeatLoad=()=>{const{wall:e}=this.props,t=e.Personalization.slideDelay?e.Personalization.slideDelay:10,s=e.Personalization.slideDelay?1e3*t:5e3,{activeVideoLength:a}=this.state;0===a&&(setTimeout((()=>this.setState({active:"active"})),200),setTimeout((()=>this.setState({isAnimation:!1})),700),setTimeout((()=>{this.setState({isLoading:!1},(()=>this.onChangeNextData()))}),s))},this.getVideoProgressDuration=e=>{const{activeVideoLength:t}=this.state;t-1===Math.floor(e.playedSeconds)&&this.setState({activeVideoLength:0},(()=>this.onChangeNextData()))},this.getVideoDuration=e=>{const{wall:t}=this.props,{activeData:s}=this.state;1!==t.Personalization.playFullVideo||3!==s.type&&5!==s.type||this.setState({activeVideoLength:Math.floor(e)})},this.updateNewImage=e=>{this.setState({newImage:e.target.src})}}componentDidMount(){this.onChangeNextData();const{themeHeight:e,heightUpdate:t}=this.props;window.addEventListener("resize",(()=>{this.setState({wHeight:window.innerHeight},(()=>{this.onLoad(),this.onFullscreenChange()})),(0,o.OX)()})),this.onLoad(),(0,o.OX)(),this.onFullscreenChange()}componentDidUpdate(e,t){this.onFullscreenChange()}render(){const{wall:e,themeHeight:t}=this.props,{Personalization:s,ThemeRule:i}=e,{activeData:n,isActiveIndex:o,active:c,newImage:h,wHeight:m,checkThemeheight:g}=this.state;var p="",u={},x="".concat(!i.hideContent||s.postTime||s.postAuthor?"tb_slide_w_half":"tb_slide_w_full"),v="tb_slide_w_half";if(n&&n.id){1===n.type?(x="hidden",v="tb_slide_w_full",p="onlyTextPost"):4!==n.type&&5!==n.type||(p="postTypeImg");var b="makeBgImg";3!==n.type&&5!==n.type||(b="blackBgVideo"),u=n.file?([2,18].includes(n.networkId)&&n.carausel,{backgroundImage:"url(".concat(h,"),url(").concat(l.V4,")")}):{backgroundImage:"url(".concat(l.do,"/images/blank.jpg)")};var _="";0===i.blurBackground&&(u={backgroundColor:i.blurColor,filter:"blur(0px)",WebkitFilter:"blur(0px)",MozFilter:"blur(0px)",opacity:1},_="blurRemoved")}return g?e&&(0,d.jsx)("div",{id:"wPosts",className:"theme".concat(s.signageTheme," themeSlidShows zoomSlidShow"),style:{height:m-t,backgroundColor:e.Background.transparent?"#000":e.Background.color},children:(0,d.jsxs)("div",{className:"".concat([74,76].includes(i.themeId)?"tb_slide_show_wrapper":"tb_slide_show_wrapper_no_padding"),children:[(0,d.jsx)("div",{className:"grid-sizer flatCard"}),n&&n.id&&(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(r,{}),children:c?(0,d.jsx)(w,{updateNewImage:this.updateNewImage,activeData:n,Personalization:s,ThemeRule:i,network:n.network,typeClass:p,blurStyle:u,blurClass:_,mediaClass:b,columnLeftClass:x,columnRightClass:v,wall:e,getVideoProgressDuration:this.getVideoProgressDuration,getVideoDuration:this.getVideoDuration,activeIndex:o,active:c}):null})]})}):null}}const v=(0,i.$j)(null,(e=>({managePostHeight:t=>e((0,n.B0)(t)),getDataNextSteps:(t,s,a,i,o,l,c,d)=>e((0,n.Sx)(t,s,a,i,o,l,c,d))})))(x)}}]);
//# sourceMappingURL=4194.3ffa5f1c.chunk.js.map