"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9142],{19142:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var s=a(47313),i=a(92789),n=a.n(i),o=a(98255),l=a(33305),r=a(32929),p=a(80381),h=a(17739),d=a(46417);class c extends s.PureComponent{constructor(){var t;super(...arguments),t=this,this.state={themeHeightMange:this.props.themeHeight,randomkey:0,themeHeightCheck:!this.props.wall.isDisplay},this.onFullscreenChange=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{themeHeight:a,heightUpdate:s}=t.props;e&&t.setState({themeHeightCheck:!0}),setTimeout((()=>{s(),t.setState({themeHeightMange:a,randomkey:Math.random()})}),100)}}componentDidMount(){const{wall:t,themeHeight:e}=this.props;t.isDisplay&&(window.addEventListener("resize",(()=>this.setState({themeHeightMange:e})),(()=>this.onFullscreenChange)),document.addEventListener("fullscreenchange",(()=>this.setState({themeHeightMange:e})),(()=>this.onFullscreenChange),!1),this.setState({themeHeightMange:e},(()=>this.onFullscreenChange(1))))}componentDidUpdate(t,e){const{wall:a,themeHeight:s}=this.props;a.isDisplay&&((0,h.hz)()?a.product==t.wall.product&&a.Banner.bannerUpdate==t.wall.Banner.bannerUpdate&&a.Banner.banner_position==t.wall.Banner.banner_position&&a.BannerImage.status==t.wall.BannerImage.status||this.onFullscreenChange():this.setState({themeHeightMange:s}))}render(){const{itemData:t,ThemeRule:e,personalization:a,clickToShowPopUp:i,itemIndex:n,wall:h,keyRender:c,id:m,intractiveData:u}=this.props,{themeHeightMange:D,themeHeightCheck:g}=this.state;let C=!![2,3,4,5].includes(t.type);const w={backgroundColor:e.cardColor},y=32==e.numberOfCoumn?4:8==e.numberOfCoumn?2:3,b=h.Personalization.interactive,v={padding:"".concat(e.padding/2,"px"),height:h.isDisplay?"".concat((window.innerHeight-D)/y,"px"):""},_={borderRadius:"".concat(e.borderRadius,"px")};return(0,d.jsxs)(d.Fragment,{children:[" ",g?(0,d.jsx)("div",{id:m,className:"tb_ap_post_wrapper ".concat(b?"intractive_on":""," "),"tb-network":t.network.id,style:v,children:(0,d.jsx)("div",{className:"tb_ap_post_in","data-aos":null!==t&&void 0!==t&&t.stopAnimation||!h.isDisplay?null:"zoom-in-up","data-aos-delay":"0","data-aos-duration":"2000","data-aos-offset":"0",onClick:i(n,t),children:(0,d.jsxs)("div",{className:"tb_ap_post_media_wrapp",style:_,children:[C?(0,d.jsx)(r.Z,{keyRender:c,itemData:t,wall:h},"".concat(c,"-media")):"",(0,d.jsx)("div",{className:"overlay-main","data-aos":null!==t&&void 0!==t&&t.stopAnimation||!h.isDisplay?null:"zoom-in","data-aos-easing":"ease-out-cubic","data-aos-delay":"2000","data-aos-duration":"2000","data-aos-offset":"0",children:(0,d.jsxs)("div",{className:"tb_ap_post_overlay",style:w,children:[e.captionStatus||65==e.themeId?null:(0,d.jsxs)("div",{className:"tb_mwf_contant_wrapper",children:[66==e.themeId?(0,d.jsx)(o.Z,{ThemeRule:e,postData:t}):null,e.hideContent||63==e.themeId?null:(0,d.jsx)(l.Z,{item:t,wall:h,ThemeRule:e,personalization:a,contentTitle:t.contentTitle},t.id)]}),66!=e.themeId?(0,d.jsx)(o.Z,{ThemeRule:e,postData:t}):null,(0,d.jsx)("div",{})]})}),!h.isDisplay&&b?(0,s.createElement)(p.Z,{isCard:!0,postId:t.id,intractiveData:u,userDetail:h.UserDetail,wallId:h.Wall,interactiveCount:t.interactiveCount,isDisplay:h.isDisplay,interactive:b,interactiveStatus:h.Personalization.interactiveStatus,key:Math.random()*t.id}):null]},"".concat(n,"-media"))})}):null," "]})}}class m extends s.PureComponent{constructor(){super(...arguments),this.loadData=null,this.state={postData:[],postDataUpdate:[],postDataContent:[],tempArray:[],rowCount:0,slideData:0},this.dataFilter=t=>{const{wall:e}=this.props,a=t&&t.length>0&&t.map(((t,e)=>this.props.completeDataObject[t])),s=e.ThemeRule.numberOfCoumn&&e.ThemeRule.numberOfCoumn>5?e.ThemeRule.numberOfCoumn:6,i=a&&a.map(((t,e)=>e<s&&t.postFileNew?{...t,stopAnimation:!0}:t)),n=i&&i.filter((t=>t.file&&""!=t.file&&t));e.isDisplay?this.setState({postDataContent:n.filter(((t,e)=>e<s)),tempArray:a.slice(0,s),postDataUpdate:n,rowCount:s},(()=>this.addClass())):this.setState({postDataContent:n,tempArray:a.slice(0,s),postDataUpdate:n,rowCount:s})},this.clearData=()=>this.setState({slideData:1}),this.addClass=()=>{const{postDataUpdate:t,rowCount:e,slideData:a}=this.state,{postData:s,wall:i}=this.props;if(e<t.length&&!a)for(let n=1;n<=t.length;n++)setTimeout((()=>{const{postDataContent:t,postDataUpdate:a,tempArray:i}=this.state;let o=[...a];const l=(n-1)%e,r=a.length-n;let p=a[r];if(r<t.length&&(p=i.pop()),o[l]=p,a[l]=p,this.setState((t=>({...t,postDataContent:o.slice(0,e),postDataUpdate:a}))),n==a.length){const t=s&&s.length>0&&s.map(((t,e)=>this.props.completeDataObject[t])),a=t.map(((t,a)=>a<e?{...t,stopAnimation:!0}:t));this.setState({postDataContent:a.filter(((t,a)=>a<e)),tempArray:t.slice(0,e),postDataUpdate:a,rowCount:e},(()=>this.addClass()))}}),i.ThemeRule.slideDelay?1e3*i.ThemeRule.slideDelay*n:1e4*n)}}componentDidMount(){window.clearData=this.clearData;const{postData:t,wall:e}=this.props;e.isDisplay&&n().init(),this.dataFilter(t)}componentWillUnmount(){this.loadData&&clearTimeout(this.loadData)}componentWillReceiveProps(t){const{postData:e}=t;e&&this.setState({postData:e},(()=>{this.props.wall.isDisplay||this.dataFilter(this.state.postData)}))}render(){const{wall:t,clickToShowPopUp:e,onClickToCTA:a,heightUpdate:s,themeHeight:i,intractiveData:n}=this.props,{postDataContent:o}=this.state,l=t.ThemeRule.numberOfCoumn&&t.ThemeRule.numberOfCoumn>5?t.ThemeRule.numberOfCoumn:8;return o&&o.length>0?(0,d.jsx)("div",{id:"".concat(66==t.ThemeRule.themeId?"squre":67==t.ThemeRule.themeId?"pixel":"reels","_").concat(t.ThemeRule.themeId),className:"tb_ap_post_container clearfix ".concat(t.isDisplay?"display":"embed"),children:(0,d.jsx)("div",{className:"tb_ap_post_row",children:(0,d.jsx)("div",{className:"tb_ap_post_small ".concat(6==l?"size3x2":18==l?"size6x3":32==l?"size8x6":"size4x2"),children:o.map(((o,l)=>(0,d.jsx)(c,{heightUpdate:s,themeHeight:i,ownerId:t.Wall.owner,itemData:o,itemIndex:l,personalization:t.Personalization,ThemeRule:t.ThemeRule,wall:t,clickToShowPopUp:e,onClickToCTA:a,intractiveData:n},o.id)))})})},o):null}}const u=m}}]);