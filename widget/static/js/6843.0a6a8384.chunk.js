"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6843],{7138:(t,e,a)=>{a.d(e,{Z:()=>s});var i=a(47313),n=a(46417);class o extends i.PureComponent{render(){const{cta:t,ctaClass:e,postCta:a,onClickToCTA:i,item:o}=this.props,s=!(!a||1!==a.status),r={color:s?a.color:t.color,backgroundColor:s?a.background:t.background};return(0,n.jsxs)("div",{className:e,style:r,onClick:e=>{e.stopPropagation(),i(o),window.open("".concat(s?a.url:t.url),"_blank")},children:[" ",s?a.text:t.text]})}}const s=o},24816:(t,e,a)=>{a.d(e,{d:()=>s});var i=a(47313),n=a(17739),o=a(46417);function s(t){return class extends i.Component{constructor(t){super(t),this.cardRef=i.createRef(null),this.startLoadingVideo=t=>{const{itemData:e,wall:a}=this.props;if(a&&a.ThemeRule&&Object.keys(a.ThemeRule).length>0&&3==e.type||5==e.type){const e=a.ThemeRule.themeId,o=!(0,n.eN)();try{if(o&&window.innerWidth>920&&e&&[62,63,64,65,66,69,70,73].includes(parseInt(e))){let e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.setState({autoplay:!0}):this.setState({autoplay:!1})}))}),{rootMargin:"50px",threshold:1});t.current&&e.observe(t.current)}else this.setState({autoplay:!0})}catch(i){this.setState({autoplay:!0})}}},this.state={autoplay:!1}}componentDidMount(){this.startLoadingVideo(this.cardRef)}render(){return(0,o.jsx)(t,{...this.state,...this.props,cardRef:this.cardRef})}}}},90905:(t,e,a)=>{a.d(e,{Z:()=>s});var i=a(47313),n=a(46417);const o=t=>{let{network:e}=t;const{className:a,color:i}={3:{className:"tb_rating_ico__ tb__icon tb-rating",color:"#1b74e4"},4:{className:"tb_rating_ico__ tb__icon tb-rating tb-google-rating",color:"#F8B90C"},19:{className:"tb_rating_ico__ tb__icon tb-rating tb-yelp-rating",color:"#e00707"},23:{className:"tb_rating_ico__ tb__icon tb-rating tb-airbnb-rating",color:"#ff385c"},29:{className:"tb_rating_ico__ tb__icon tb-rating",color:"#613983"}}[e.id]||{className:"tb_rating_ico__ tb__icon tb-rating",color:"#F8B90C"};return(0,n.jsx)("div",{className:a,style:{color:i},"tb-network":e.id})};class s extends i.PureComponent{render(){const{rating:t,network:e}=this.props;return(0,n.jsx)("div",{className:"tb__rating__","aria-hidden":!0,children:t?[...Array(t)].map(((t,a)=>(0,n.jsx)(o,{network:e},a))):null})}}},56843:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var i=a(47313),n=a(34862),o=a(43411),s=a(98255),r=a(7138),l=a(90905),c=a(17739),p=a(33305),d=a(32929),h=a(80381),u=a(46417);class m extends i.PureComponent{constructor(t){super(t),this.getSwiper=()=>{const t=document.getElementById("swiper-row");setTimeout((()=>{if(t){const e=t.clientHeight,a=20*e/100;this.setState({swiper:e-a})}}),10)},this.state={swiper:0},this.mediaHeight=i.createRef()}componentDidMount(){this.getSwiper(),window.addEventListener("resize",(()=>{this.getSwiper()}))}componentDidUpdate(t,e){this.props.wall.ThemeRule.themeId!=t.wall.ThemeRule.themeId&&this.getSwiper()}render(){var t;const{itemData:e,autoplay:a,cardRef:n,clickToShowPopUp:o,itemIndex:m,wall:_,ownerId:g,onClickToCTA:w,themeHeight:b,row:f,intractiveData:D}=this.props,{ThemeRule:v,Personalization:x}=_,C=_.Personalization.interactive,{themeId:y}=v,{swiper:I}=this.state,k=2===e.type||3===e.type||4===e.type||5===e.type,T=!!(e.rating&&e.rating>0),S={padding:v.padding/2,height:[71].includes(y)&&2==f?"50vh":""},j={backgroundColor:v.cardColor,padding:[67,68].includes(v.themeId)?v.spacing:[73].includes(v.themeId)?0:v.spacing,borderRadius:v.borderRadius},N=70!=v.themeId||e.file||T?null:"calc(100vh - ".concat(b+100,"px)"),R=e.rating>0?"tb_fc_rating_content":"tb_fc_content",P=1===e.type?"tb_fc_text_post":"",H=1===e.type&&x.textDecorate?"tb_fc_text_decoration":"",M=!!(null!==x&&void 0!==x&&x.cta.ctaStatus||null!==e&&void 0!==e&&null!==(t=e.cta)&&void 0!==t&&t.status),W=v.trimcontent?(0,c.Sv)(e.content,140):e.content,U=!(!v.postAuthor||e.author.isInstaUser),z=e.network;return(0,u.jsxs)(u.Fragment,{children:[!v.hideContent||e.postFileNew||T?(0,u.jsx)("div",{"item-id":e.id,id:"tb-hc-post-".concat(e.id),className:"tb_fc_post_wrapper ".concat(e.filename?"":"textPostCard","  ").concat(e.file||T||70!=v.themeId?"":"snapHeight"," ").concat(C?"intractive_on":""),onClick:o(m,e),"aria-label":"Wrapper",style:S,ref:n,children:(0,u.jsxs)("div",{className:"tb_fc_post_in",style:j,"aria-label":"Card Post",children:[k?(0,u.jsx)("div",{className:"tb_fc_post_media_wrapp",role:"img","aria-label":"Media Wrapper",children:(0,u.jsx)(d.Z,{ThemeRule:v,themeHeight:b,itemData:e,wall:_,autoplayVideo:a})}):null,T?(0,u.jsx)("div",{className:"tb_fc_rating__",style:{height:N,aspectRatio:e.file||70!=v.themeId?"auto":"1/1"},children:(0,u.jsx)(l.Z,{rating:e.rating,network:e.network})}):null,v.captionStatus?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"tb_fc_contant_wrapper ".concat(P),"aria-label":"Post Content Wrapper",children:[U||v.postTime||z.id&&v.socialAction?(0,u.jsx)(s.Z,{ownerId:g,postTime:e.createdAt,author:e.author,ThemeRule:v,rating:e.rating,postData:e}):null,M?(0,u.jsxs)("div",{className:"tb_fc_post_cta","aria-label":"CTA Wrapper",children:[(0,u.jsx)(r.Z,{ctaClass:"tb_fc_post_cta_btn",cta:x.cta,postCta:e.cta,item:e,onClickToCTA:w})," "]}):"",v.hideContent?null:(0,u.jsx)("div",{className:"tb_fc_content_wrapper__","aria-label":"Content Wrapper",style:{height:70!=v.themeId?N:!I||e.file||T||70!=v.themeId?"auto":I-10},children:(0,u.jsx)(p.Z,{contentClass:"".concat(R," ").concat(H),item:e,content:W,font:v.font,wall:_,ThemeRule:v,personalization:x,contentTitle:e.contentTitle})})]}),!_.isDisplay&&C?(0,i.createElement)(h.Z,{isCard:!0,postId:e.id,intractiveData:D,userDetail:_.UserDetail,wallId:_.Wall,interactiveCount:e.interactiveCount,isDisplay:_.isDisplay,interactive:C,interactiveStatus:_.Personalization.interactiveStatus,key:Math.random()*e.id}):null]})]})}):null," "]})}}var _=a(64516),g=a(83912),w=a(60807),b=a(24816);const f=t=>{const{inputRefs:e,inputName:a,themeId:i,row:n,numberOfCoumn:o,manageItemCount:s,slideDuration:r,mobileColumn:l,secondSildeData:c,trimContent:p,firstSildeData:d,completeDataObject:h,themeHeight:_,wall:f,postSizeInPx:D,clickToShowPopUp:v,onClickToCTA:x,type:C,isDisplay:y,postData:I,intractiveData:k}=t,T=2===C&&71==i&&y&&2==n?[1,2]:[1];return(0,u.jsx)(u.Fragment,{children:T.map(((t,C)=>{const T=0==C?d:c;return(0,u.jsx)(g.tq,{id:0==C&&"swiper-row",ref:t=>e[a]=t,style:{width:"100%"},navigation:{nextEl:".arrow-right",prevEl:".arrow-left"},speed:y&&71==i?8e3:1e3,loop:!f.product||71!=i,grid:{rows:!y&&71==i&&2==n&&I.length>15?2:1},edgeSwipeDetection:!0,slidesPerView:o>0?o:s,allowTouchMove:!y,passiveListeners:!0,autoplay:{delay:71==i?1:r?1e3*r:5e3,disableOnInteraction:!1,reverseDirection:0!=C},breakpoints:{320:{slidesPerView:l>0?l:1,perMove:l>0?l:1},560:{slidesPerView:l>0?l:1,perMove:l>0?l:1},767:{slidesPerView:o>0?o-3:s,perMove:o>0?o-3:s},991:{slidesPerView:o>0?o:s,perMove:o>0?o:s}},modules:y?[w.pt,w.Gk,w.Rv]:[w.Gk,w.Rv,w.W_,w.rj],className:"tb_fc_post_slider splide2 ".concat(p?"tb_fc_fixed_height":""),children:T&&T.length>0&&T.map(((t,e)=>{const a=h[t],o=f.isDisplay&&133693!=f.Wall.owner?(0,b.d)(m):m;return(a.file||70==i)&&(0,u.jsx)(g.o5,{style:{margin:0,padding:0,height:2==n?"calc(".concat(100/n,"vh - ").concat(_/2,"px)"):"100%"},children:(0,u.jsx)(o,{wall:f,itemData:a,themeHeight:_,row:n,itemIndex:e,clickToShowPopUp:v,onClickToCTA:x,postSizeInPx:D,intractiveData:k},"hr_".concat(e))},"splide".concat(e))}))},C)}))})};class D extends i.PureComponent{constructor(t){super(t),this.requestData=()=>{const{appendData:t,wall:e,preRender:a,hasMoreData:i}=this.props;(0,c.fv)()||i&&this.props.getDataNextSteps(e.Wall.id,Math.floor(Date.now()/1e3),e.ThemeRule.numberOfPosts,t.networkID,t.after,a,t.heightEvent)},this.state={parent_id:"",checkextraHeight:this.props.isDisplay?0:1,wHeight:0},this.inputRefs={}}componentDidMount(){const{isDisplay:t}=this.props;this.updatethemHeight(),t&&window.addEventListener("resize",(()=>{this.updatethemHeight(),this.props.heightUpdate()}))}updatethemHeight(){this.props.heightUpdate(),this.setState({wHeight:window.innerHeight}),setTimeout((()=>this.setState({checkextraHeight:!0})),500)}componentWillMount(){const{renderId:t}=this.props.renderId;this.setState({windowWidth:t?document.getElementById(t).clientWidth:window.innerWidth}),this.props.isDisplay&&setTimeout((()=>this.setState({wHeight:Math.random()})),500)}componentDidUpdate(t,e){const{wall:a}=this.props;0==a.product&&this.updatethemHeight(),!a.isEditor||this.props.themeUpdate==t.themeUpdate&&a.product==t.wall.product&&a.id==t.wall.id&&a.Banner.bannerUpdate==t.wall.Banner.bannerUpdate&&a.Banner.banner_position==t.wall.Banner.banner_position&&a.BannerImage.status==t.wall.BannerImage.status||this.updatethemHeight()}render(){const{postData:t,completeDataObject:e,wall:a,clickToShowPopUp:i,hasMoreData:o,onClickToCTA:s,parentID:r,postSizeInPx:l,themeHeight:c,intractiveData:p}=this.props,{isDisplay:d,ThemeRule:h,Personalization:m}=a,{checkextraHeight:_,wHeight:g}=this.state,{themeId:w,numberOfCoumn:b,mobileColumn:D}=h,v=10==m.slideDelay?5:m.slideDelay,x=!!h.trimcontent,C=!!(window.innerWidth<768||n.tq),y=t&&t.length?C?1:t.length>3?3:t.length:3,I=r,k=71==h.themeId?h.multiRow?h.multiRow:2:1,T=Math.floor(t.postData.length>0?t.postData.length/2:[]);let S=71==w&&2==k&&d&&t.postData.length>15?t.postData&&t.postData.length>0&&t.postData.slice(0,T):t.postData,j=t.postData&&t.postData.length>15&&t.postData.slice(T);if(b>=S.length){const t=b-S.length+1;for(let e=0;e<=t;e++)S=[...S,S[e]]}if(b>=j.length&&71==w&&2==k){const t=b-j.length+1;for(let e=0;e<t;e++)j=[...j,j[e]]}if(b)var N=0;const R=document.querySelector(".onsiteupload_top_position");return R&&(N=R.clientHeight+10),_?(0,u.jsx)("div",{className:"horizontal_slider_relative",style:{height:1==k&&71==w||t.postData.length<15?"":"calc(100vh - ".concat(c,"px)")},children:(0,u.jsxs)("div",{id:"".concat(70==w?"horizontal":71==w?"motion":72==w?"vertical":"reels","_").concat(w),className:"tb_fc_post_container ".concat(d?"display":"widget"),ref:this.sliderHeight,style:{paddingTop:"".concat(N,"px"),height:1==k&&71==w||t.postData.length<15?"":70==w?"auto":"calc(100vh - ".concat(c,"px)")},children:[(0,u.jsx)(f,{inputRefs:this.inputRefs,inputName:I,themeId:w,row:k,numberOfCoumn:b,manageItemCount:y,slideDuration:v,mobileColumn:D,postData:t,trimContent:x,firstSildeData:S,secondSildeData:j,completeDataObject:e,themeHeight:c,parentID:r,wall:a,postSizeInPx:l,clickToShowPopUp:i,onClickToCTA:s,type:71==w&&d&&2==k?2:1,isDisplay:d,postData:t.postData,intractiveData:p,requestData:this.requestData},g),d?null:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_fc_arrow_wrapper_",role:"navigation","aria-label":"Slider Navigation Wrapper",children:[(0,u.jsx)("div",{role:"navigation",className:"tb_fc_arrow splide__arrow arrow-left arrow tb_fc_arrow_left__ tb__icon tb-arrow-left-alt","aria-labelledby":"Navigation Previous Slide",children:" "}),(0,u.jsx)("div",{role:"navigation",className:"tb_fc_arrow splide__arrow arrow-right arrow tb_fc_arrow_right__ tb__icon tb-arrow-right-alt",onClick:o?this.requestData:null,"aria-labelledby":"Navigation Next Slide",children:" "})]})})]},c)}):null}}const v=(0,o.$j)(null,(t=>({getDataNextSteps:(e,a,i,n,o,s,r,l)=>t((0,_.Sx)(e,a,i,n,o,s,r,l))})))(D)}}]);