"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6638],{66638:(t,e,a)=>{a.r(e),a.d(e,{default:()=>T});var o=a(72791),s=a(97234),n=a(27668),i=a(70757),l=a(80184);class r extends o.PureComponent{render(){const{author:t,personalization:e,postTime:a,network:o,ThemeRule:r,font:c,ownerId:h}=this.props,p=t.username&&t.username.length>0?"@".concat(t.username):"",d={color:r.authorColor,FontFamily:r.authorFont,FontStyle:r.authorFontVariant},m={backgroundColor:r.authorColor},u=!!e.postAuthor,_=!(!e.postAuthor||!e.postTime);return(0,l.jsxs)("div",{className:"tb_ap_author_wrapper",children:[(0,l.jsxs)("div",{className:"tb_ap_author",children:[u||100231===h?(0,l.jsx)(s.default,{author:t,network:o,authorClass:"tb_ap_author_profile"}):"",(0,l.jsxs)("div",{className:"tb_ap_author_info",children:[u||100231===h?(0,l.jsx)("div",{className:"tb_ap_authorname sGFfonte-".concat(r.authorFontVariant),style:d,children:t.name}):"",(0,l.jsxs)("div",{className:"tb_ap_post_info",children:[u||100231===h?(0,l.jsx)("div",{className:"tb_ap_username sGFfonte-".concat(r.authorFontVariant),style:d,children:p}):"",_?(0,l.jsx)("div",{className:"tb_ap_seprator",style:m,children:" "}):"",e.postTime?(0,l.jsx)(n.default,{postTime:a,timeClass:"tb_ap_time",authorNameStyle:d}):""]})]})]}),(0,l.jsx)("div",{className:"tb_ap_social_",children:(0,l.jsx)(i.default,{networkClass:"tb_ap_social__ico",network:o,ThemeRule:r,font:c})})]})}}var c=a(42308),h=a(2703),p=a(68329);const d=(0,h.oF)(),m=(0,h.hz)();class u extends o.PureComponent{constructor(){super(...arguments),this.state={themeHeightMange:this.props.themeHeight,randomkey:0},this.onFullscreenChange=()=>{const{themeHeight:t,heightUpdate:e}=this.props;setTimeout((()=>{this.setState({themeHeightMange:t,randomkey:Math.random()}),e()}),100)}}componentDidMount(){if(d){const{themeHeight:t,heightUpdate:e}=this.props;window.addEventListener("resize",(()=>this.onFullscreenChange)),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),this.setState({themeHeightMange:t}),e()}}componentDidUpdate(){if(d)if(m)this.onFullscreenChange();else{const{themeHeight:t}=this.props;this.setState({themeHeightMange:t})}}render(){const{itemData:t,personalization:e,ThemeRule:a,clickToShowPopUp:o,itemIndex:s,wallID:n,ownerId:i,largeBlock:m}=this.props,{themeHeightMange:u}=this.state,_=2===t.type||3===t.type||4===t.type||5===t.type,g=a.trimcontent?(0,h.Sv)(t.content,200):t.content,x={backgroundColor:a.cardColor},b=d?[17,13].includes(a.numberOfCoumn)?4:[5,7].includes(a.numberOfCoumn)?2:3:0,f=d?(window.innerHeight-u)/b:0,C=(0,h.tf)(),k={padding:"".concat(a.padding/2,"px"),height:f?s||C?"".concat(f,"px"):"calc(100vh - ".concat(u,"px)"):""};return t&&t.id?(0,l.jsx)("div",{id:"tb-sp-post-".concat(t.id),className:"tb_ap_post_wrapper ".concat(d?"in-left":""),"tb-network":t.network.id,style:k,children:(0,l.jsx)("div",{className:"tb_ap_post_in",onClick:o(s,t),children:(0,l.jsxs)("div",{className:"tb_ap_post_media_wrapp",style:{borderRadius:"".concat(a.borderRadius,"px")},children:[_?(0,l.jsx)(p.Z,{...this.props,itemData:t,wallID:n}):"",(0,l.jsxs)("div",{className:"overlay-main",children:[a.captionStatus?null:(0,l.jsxs)("div",{className:"tb_ap_post_details postContentCard",children:[(0,l.jsx)(r,{ownerId:i,postTime:t.createdAt,author:t.author,network:t.network,font:t.font,personalization:e,ThemeRule:a}),(0,l.jsx)("div",{className:"tb_ap_contant_wrapper post-card-outer",style:{padding:"".concat(a.spacing,"px")},children:t.hideContent?"":(0,l.jsx)(c.Z,{largeBlock:m,contentClass:"tb_ap_content",item:t,content:g,font:t.font,ThemeRule:a,personalization:e,contentTitle:t.contentTitle})})]}),(0,l.jsx)("div",{className:"tb_ap_post_overlay",style:x,children:(0,l.jsx)("div",{})})]})]})})}):null}}var _=a(77581),g=a(79200),x=a(67945),b=a.n(x);a(24655);const f=(0,h.oF)();function C(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}const k=t=>{let{children:e,id:a,index:s,addClass:n,completeAnimation:i,speed:r}=t;return(0,o.useEffect)((()=>{f&&((t,e,a,o,s)=>{const n=document.getElementById("tb-sp-post-".concat(t)).querySelector(".tb_ap_post_in .tb_ap_post_media_wrapp"),i=setTimeout((()=>{Array.from(document.querySelectorAll(".tb_ap_post_media_wrapp")).map((t=>t.classList.remove("zoom-in-effect"))),Array.from(document.querySelectorAll(".overlay-main")).map((t=>t.classList.remove("aos-init","start"))),setTimeout((()=>{n.classList.add("zoom-in-effect"),n.children[1].classList.add("aos-init","start"),(0,h.OX)(t,1)}),1e3),e==o&&a()}),e*(s.slideDelay?1e3*s.slideDelay:3e3))})(a,s,n,i,r)}),[]),(0,l.jsx)(l.Fragment,{children:e})},w=t=>{let{wall:e,itemIndex:a,clickToShowPopUp:o,onClickToCTA:s,itemData:n,largeBlock:i,heightUpdate:r,themeHeight:c}=t;return(0,l.jsx)(u,{ownerId:e.Wall.owner,heightUpdate:r,themeHeight:c,itemData:n,largeBlock:i,itemIndex:a,personalization:e.Personalization,ThemeRule:e.ThemeRule,wallID:e.Wall.id,clickToShowPopUp:o,onClickToCTA:s},a)};class v extends o.PureComponent{constructor(){super(...arguments),this.state={postData:[],postDataUpdate:[],postDataContent:[],count:1,key:1},this.dataFilter=()=>{const{postData:t,wall:e}=this.props;let a=(0,h.tf)();const o=f?1==a?4:2==a?6:e.ThemeRule.numberOfCoumn?e.ThemeRule.numberOfCoumn:7:7,s=t&&t.length>0&&t.map(((t,e)=>this.props.completeDataObject[t])),n=s&&Object.keys(s).length>0&&s.map(((t,e)=>e<o?{...t,stopAnimation:!0}:t)),i=n&&Object.keys(n).length>0&&n.filter(((t,e)=>t.file&&""!=t.file&&t));let l=(0,h.td)(i,o),r=l.length>0?l[l.length-1]:0;if(i&&r.length<o){const t=((t,e)=>{let a=[];for(let o=0;o<e;o++)a.push(t[C(0,t.length-1)]);return a})(i,o-r.length);l[l.length-1]=[...r,...t]}f?(b().init(),this.setState({postDataContent:Object.keys(l.slice(0,1)).length>0?l.slice(0,1)[0]:[],postDataUpdate:l})):this.setState({postDataUpdate:i})},this.addClass=()=>{const{postDataUpdate:t,count:e,key:a}=this.state,{wall:o}=this.props;let s=(0,h.tf)();const n=1==s?4:2==s?6:o.ThemeRule.numberOfCoumn?o.ThemeRule.numberOfCoumn:7;let i=e>1?e==t.length?0:e:1;for(;i<t.length;i++){setTimeout((()=>{this.setState({postDataContent:t[i].length==n?t[i]:t[0],count:0==i||t[i].length!=n?1:e+1,key:a+1})}),5e3*i);break}},this.onLoadMasonry=()=>{var t=document.querySelector(".tb_ap_post_container");t&&this.props.managePostHeight(t.style.height)}}componentDidMount(){const{postData:t}=this.props;this.setState({postData:t},(()=>this.onLoadMasonry())),this.dataFilter()}componentWillReceiveProps(t){const{postData:e}=t;this.setState({postData:e},(()=>{this.onLoadMasonry(),f||this.dataFilter()}))}render(){var t,e;const{wall:a,clickToShowPopUp:o,onClickToCTA:s,heightUpdate:n,themeHeight:i}=this.props,{postDataContent:r,postDataUpdate:c,key:p}=this.state;let d=(0,h.tf)();return f?r&&r.length>0?(0,l.jsx)("div",{id:"focus_68",className:"tb_ap_post_container clearfix",children:(0,l.jsxs)("div",{className:"tb_ap_post_row",children:[d?null:(0,l.jsx)("div",{className:"tb_ap_post_large",children:(0,l.jsx)(k,{id:null===(t=r[0])||void 0===t?void 0:t.id,index:1,addClass:this.addClass,completeAnimation:r.length,speed:a.Personalization,children:(0,l.jsx)(w,{heightUpdate:n,themeHeight:i,wall:a,itemIndex:0,clickToShowPopUp:o,onClickToCTA:s,itemData:r[0],largeBlock:!0})},null===(e=r[0])||void 0===e?void 0:e.id)}),(0,l.jsx)("div",{className:"tb_ap_post_small cards_".concat(a.ThemeRule.numberOfCoumn||7),children:r.map(((t,e)=>0!=e||[1,2].includes(d)?(0,l.jsx)(k,{id:null===t||void 0===t?void 0:t.id,index:e+1,addClass:this.addClass,completeAnimation:r.length,speed:a.Personalization,largeBlock:!1,children:(0,l.jsx)(w,{wall:a,heightUpdate:n,themeHeight:i,itemIndex:e,clickToShowPopUp:o,onClickToCTA:s,itemData:t})},null===t||void 0===t?void 0:t.id):null))})]})},p):null:(0,l.jsx)("div",{id:"focus_68",className:"tb_ap_post_container clearfix embed",children:c&&c.length>0&&c.map(((t,e)=>(0,l.jsxs)("div",{className:"tb_ap_post_row",children:[(0,l.jsx)("div",{className:"tb_ap_post_large",children:(0,l.jsx)(w,{wall:a,itemIndex:e,clickToShowPopUp:o,onClickToCTA:s,itemData:t[0],largeBlock:!1})}),(0,l.jsx)("div",{className:"tb_ap_post_small",children:t.map(((t,r)=>0==r?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(w,{wall:a,heightUpdate:n,themeHeight:i,itemIndex:e,clickToShowPopUp:o,onClickToCTA:s,itemData:t,largeBlock:!1})))})]})))})}}const T=(0,_.$j)(null,(t=>({managePostHeight:e=>t((0,g.B0)(e))})))(v)},24655:()=>{}}]);
//# sourceMappingURL=6638.1296b9b9.chunk.js.map