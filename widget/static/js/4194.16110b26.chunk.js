"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4194],{74194:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(72791),i=s(77581),n=s(79200),o=s(2703),l=s(70188),c=s(58290),r=s(80184);const d=e=>{let{height:t}=e;return(0,r.jsxs)("div",{className:"post",children:[(0,r.jsx)("div",{className:"tb_slide_w_half",children:(0,r.jsx)("div",{className:"makeBgImg",children:(0,r.jsx)(c.Z,{style:{height:"calc(85vh - 80px)",marginTop:"5vh"}})})}),(0,r.jsx)("div",{className:"tb_slide_w_half",children:(0,r.jsx)("div",{className:"skeletonContent",children:(0,r.jsxs)("div",{className:"skeltoncss",children:[(0,r.jsxs)("div",{className:"section-one-skel",children:[(0,r.jsx)(c.Z,{circle:!0,height:100,width:100}),(0,r.jsx)("h4",{children:(0,r.jsxs)("div",{className:"skel-span-m",children:[(0,r.jsx)("p",{children:(0,r.jsx)(c.Z,{height:15})}),(0,r.jsx)("p",{children:(0,r.jsx)(c.Z,{height:15})}),(0,r.jsx)("p",{className:"s-sket-m",children:(0,r.jsx)(c.Z,{height:15})})]})})]}),(0,r.jsxs)("div",{className:"section-two-skel",children:[(0,r.jsx)(c.Z,{circle:!0,height:80,width:80}),(0,r.jsxs)("div",{className:"skel-span-m2",children:[(0,r.jsx)("p",{children:(0,r.jsx)(c.Z,{height:15})}),(0,r.jsx)("p",{className:"sket-two-m",children:(0,r.jsx)(c.Z,{height:15})})]})]})]})})})]})};var h=s(68329),m=s(49671),p=s(42308),g=s(19036);class u extends a.Component{constructor(){super(...arguments),this.state={id:this.props.activeData.id},this.onZoomStyleLoad=()=>{const{mediaClass:e}=this.state,{ThemeRule:t}=this.props;this.setState({fade:"fade-in"}),setTimeout((()=>{"makeBgImg"===e&&this.setState({mediaClass:"".concat(e," ").concat(74==t.themeId?" zoom2x":"")})}),3e3)},this.addNetwork=e=>{let t=document.querySelector(".scrlBarComan");t&&t.setAttribute("data-network",e)}}componentDidMount(){const{mediaClass:e,activeData:t}=this.props;this.setState({mediaClass:e,id:t.id},(()=>this.onZoomStyleLoad()))}componentDidUpdate(e,t){if(e.activeData.id!==t.id){const{mediaClass:t,activeData:s}=e;this.setState({mediaClass:t,id:s.id,fade:"",active:""},(()=>this.onZoomStyleLoad()))}}render(){const{activeData:e,typeClass:t,blurStyle:s,blurClass:i,columnLeftClass:n,columnRightClass:o,active:l,wall:c,network:d,Personalization:u,ThemeRule:w}=this.props,v=2===e.type||3===e.type||4===e.type||5===e.type,x=e.rating>0?"tb_mwf_rating_content":"tb_mwf_content",b=1===e.type&&u.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",{mediaClass:f}=this.state,y=e.rating>0;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{id:'"postId'.concat(e.id),className:"feedId".concat(e.feedId," postItem item ").concat(t," flatCard animated in autoBold appliedchLimit ").concat(l),children:[76==w.themeId?(0,r.jsx)("div",{className:"blur-bg tb_slide_bg_color__",style:{background:0===w.transparent?""==w.backgroundColor?2==e.networkId?"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)":d.color:w.backgroundColor:2==e.networkId?"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)":d.color}}):null,74==w.themeId?(0,r.jsx)("div",{className:"blur-bg tb_slide_bg_img_full__",style:s}):null,74==w.themeId?(0,r.jsx)("div",{className:"blur-bg tb_slide_bg_img_vid__ ".concat(i),style:s}):null,(0,r.jsxs)("div",{className:"post",children:[(0,r.jsx)("div",{className:n,style:1==e.type?{display:"none"}:2===e.networkId||18===e.networkId?{textAlign:"center"}:{},children:(0,r.jsx)("div",{className:f,style:s,children:(0,a.createElement)(h.Z,{...this.props,key:e.id,itemData:e,wallID:c.id})})}),!w.hideContent||u.postTime||u.postAuthor?(0,r.jsx)("div",{className:o,children:(0,r.jsx)("div",{className:"postContentCard",style:{backgroundColor:"".concat(74!=w.themeId?c.ThemeRule.cardColor:"")},children:(0,r.jsxs)("div",{className:"postContentClasic classicSlideshow",style:{padding:"".concat(c.ThemeRule.spacing,"px")},children:[(0,r.jsx)("div",{className:"socialIcons fadeInDown",children:(0,r.jsx)(m.Z,{ownerId:c.Wall.owner,mediaType:v,postTime:e.createdAt,author:e.author,network:d,font:w.iconColor,personalization:u,ThemeRule:w})}),y?(0,r.jsx)(g.Z,{rating:e.rating,network:e.network}):null,(0,r.jsxs)("div",{className:"fadeInUp",children:[w.hideContent?null:(0,r.jsx)(p.Z,{item:e,contentClass:"".concat(x," ").concat(b),font:w.font,ThemeRule:w,personalization:u,contentTitle:e.contentTitle},e.id),(0,r.jsx)("div",{className:"autherDetails",children:(0,r.jsx)(m.Z,{ownerId:c.Wall.owner,mediaType:v,postTime:e.createdAt,author:e.author,network:d,font:e.font,personalization:u,ThemeRule:w})})]})]})})}):null]})]})})}}const w=u,v=(0,o.hz)();class x extends a.PureComponent{constructor(){super(...arguments),this.state={isLoading:!0,isAnimation:!0,isActiveIndex:-1,activeData:null,activeVideoLength:0,active:"",newImage:"",getHeight:0,wHeight:window.innerHeight,BannerImageHeight:0,themeHeightMange:this.props.themeHeight,randomkey:0},this.onFullscreenChange=()=>{const{themeHeight:e,heightUpdate:t}=this.props;setTimeout((()=>{this.setState({themeHeightMange:e,randomkey:Math.random()}),t()}),100)},this.onLoad=()=>{const{wall:e}=this.props,t=document.querySelector(".bannerTop");let s=t?t.clientHeight:"",a=e.CustomBanner&&Object.keys(e.CustomBanner).length>0?(1===e.CustomBanner.status?e.CustomBanner.banner_height:0)+(1===e.CustomTicker.status?e.CustomTicker.ticker_height:0):0;e.BannerImage&&1===e.BannerImage.status&&(a+=s||0),this.setState({getHeight:Number(a)},(()=>(0,o.OX)()))},this.onChangeNextData=()=>{const{postData:e,completeDataObject:t,wall:s}=this.props,{Personalization:a,ThemeRule:i}=s,n=e.postData;let l=[];n&&n.length>0&&e.postData.map((e=>{(a.postAuthor||a.postTime||!i.hideContent||t[e].filename)&&l.push(t[e])}));const{isActiveIndex:c,activeVideoLength:r}=this.state;if(0===r)if(c>=l.length-1){const e=l[0],t=(0,o.V2)(e.networkId,e.carausel,e.file,e.postFileNew);this.setState({isActiveIndex:0,activeData:e,active:"",newImage:t},(()=>{this.onRepeatLoad(),(0,o.OX)()}))}else{const e=l[c+1],t=(0,o.V2)(e.networkId,e.carausel,e.file,e.postFileNew);this.setState({isAnimation:c+1!==0,isActiveIndex:c+1,activeData:e,active:"",newImage:t},(()=>{this.onRepeatLoad(),(0,o.OX)()}))}},this.onRepeatLoad=()=>{const{wall:e}=this.props,t=e.Personalization.slideDelay?e.Personalization.slideDelay:10,s=e.Personalization.slideDelay?1e3*t:5e3,{activeVideoLength:a}=this.state;0===a&&(setTimeout((()=>this.setState({active:"active"})),200),setTimeout((()=>this.setState({isAnimation:!1})),700),setTimeout((()=>{this.setState({isLoading:!1},(()=>this.onChangeNextData()))}),s))},this.getVideoProgressDuration=e=>{const{activeVideoLength:t}=this.state;t-1===Math.floor(e.playedSeconds)&&this.setState({activeVideoLength:0},(()=>this.onChangeNextData()))},this.getVideoDuration=e=>{const{wall:t}=this.props,{activeData:s}=this.state;1!==t.Personalization.playFullVideo||3!==s.type&&5!==s.type||this.setState({activeVideoLength:Math.floor(e)})},this.updateNewImage=e=>{this.setState({newImage:e.target.src})}}componentDidMount(){this.onChangeNextData();const{themeHeight:e,heightUpdate:t}=this.props;window.addEventListener("resize",(()=>{this.setState({wHeight:window.innerHeight},(()=>{this.onLoad(),this.onFullscreenChange()})),(0,o.OX)()})),this.onLoad(),(0,o.OX)(),this.setState({themeHeightMange:e}),t()}componentDidUpdate(e,t){if(v)this.onFullscreenChange();else{const{themeHeight:e}=this.props;this.setState({themeHeightMange:e})}}render(){const{wall:e}=this.props,{Personalization:t,ThemeRule:s}=e,{activeData:i,isActiveIndex:n,active:o,newImage:c,wHeight:h,themeHeightMange:m}=this.state;var p="",g={},u="".concat(!s.hideContent||t.postTime||t.postAuthor?"tb_slide_w_half":"tb_slide_w_full"),v="tb_slide_w_half";if(i&&i.id){1===i.type?(u="hidden",v="tb_slide_w_full",p="onlyTextPost"):4!==i.type&&5!==i.type||(p="postTypeImg");var x="makeBgImg";3!==i.type&&5!==i.type||(x="blackBgVideo"),g=i.file?([2,18].includes(i.networkId)&&i.carausel,{backgroundImage:"url(".concat(c,"),url(").concat(l.V4,")")}):{backgroundImage:"url(".concat(l.do,"/images/blank.jpg)")};var b="";0===s.blurBackground&&(g={backgroundColor:s.blurColor,filter:"blur(0px)",WebkitFilter:"blur(0px)",MozFilter:"blur(0px)",opacity:1},b="blurRemoved")}return e&&(0,r.jsx)("div",{id:"wPosts",className:"theme".concat(t.signageTheme," themeSlidShows zoomSlidShow"),style:{height:h-m,backgroundColor:e.Background.transparent?"#000":e.Background.color},children:(0,r.jsxs)("div",{className:"".concat([74,76].includes(s.themeId)?"tb_slide_show_wrapper":"tb_slide_show_wrapper_no_padding"),children:[(0,r.jsx)("div",{className:"grid-sizer flatCard"}),i&&i.id&&(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(d,{}),children:o?(0,r.jsx)(w,{updateNewImage:this.updateNewImage,activeData:i,Personalization:t,ThemeRule:s,network:i.network,typeClass:p,blurStyle:g,blurClass:b,mediaClass:x,columnLeftClass:u,columnRightClass:v,wall:e,getVideoProgressDuration:this.getVideoProgressDuration,getVideoDuration:this.getVideoDuration,activeIndex:n,active:o}):null})]})})}}const b=(0,i.$j)(null,(e=>({managePostHeight:t=>e((0,n.B0)(t)),getDataNextSteps:(t,s,a,i,o,l,c,r)=>e((0,n.Sx)(t,s,a,i,o,l,c,r))})))(x)},58290:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(72791);const i=a.createContext({}),n=!0;function o(e){let{baseColor:t,highlightColor:s,width:a,height:i,borderRadius:o,circle:l,direction:c,duration:r,enableAnimation:d=n}=e;const h={};return"rtl"===c&&(h["--animation-direction"]="reverse"),"number"===typeof r&&(h["--animation-duration"]="".concat(r,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(h.width=a),"string"!==typeof i&&"number"!==typeof i||(h.height=i),"string"!==typeof o&&"number"!==typeof o||(h.borderRadius=o),l&&(h.borderRadius="50%"),"undefined"!==typeof t&&(h["--base-color"]=t),"undefined"!==typeof s&&(h["--highlight-color"]=s),h}function l(e){let{count:t=1,wrapper:s,className:l,containerClassName:c,containerTestId:r,circle:d=!1,style:h,...m}=e;var p,g,u;const w=a.useContext(i),v={...m};for(const[a,i]of Object.entries(m))"undefined"===typeof i&&delete v[a];const x={...w,...v,circle:d},b={...h,...o(x)};let f="react-loading-skeleton";l&&(f+=" ".concat(l));const y=null!==(p=x.inline)&&void 0!==p&&p,C=[],_=Math.ceil(t);for(let i=0;i<_;i++){let e=b;if(_>t&&i===_-1){const s=null!==(g=e.width)&&void 0!==g?g:"100%",a=t%1,i="number"===typeof s?s*a:"calc(".concat(s," * ").concat(a,")");e={...e,width:i}}const s=a.createElement("span",{className:f,style:e,key:i},"\u200c");y?C.push(s):C.push(a.createElement(a.Fragment,{key:i},s,a.createElement("br",null)))}return a.createElement("span",{className:c,"data-testid":r,"aria-live":"polite","aria-busy":null!==(u=x.enableAnimation)&&void 0!==u?u:n},s?C.map(((e,t)=>a.createElement(s,{key:t},e))):C)}}}]);
//# sourceMappingURL=4194.16110b26.chunk.js.map