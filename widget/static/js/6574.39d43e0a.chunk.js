"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6574],{77050:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var i=a(72791),o=a(77581),s=a(13728),l=a(47071),n=(a(45434),a(9279)),d=a(32505),m=a(2703),r=a(67945),p=a.n(r),h=(a(24655),a(80184));class c extends i.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,platform:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,mediaSize:{height:500,width:500},isDataCount:0,checktimeout:0,isPopUpHide:!0},this.loadPopUpWithTimer=e=>{const{wall:t}=this.props,{checktimeout:a}=this.state,i=1e3*t.ThemeRule.timeForPopup;setTimeout((()=>{const o=0===t.ThemeRule.timeForPopup?5e3:i;0==a?this.setState({checktimeout:1,isPopUpHide:!0},(()=>e?this.onLoadedPopUp():setTimeout(this.onLoadedPopUp,o))):this.setState({isPopUpHide:!1},(()=>setTimeout((()=>this.onLoadedPopUp()),o)))}),0===t.ThemeRule.timeForPopup?5e3:i,{position:1})},this.onLoadedPopUp=()=>{const{checktimeout:e}=this.state;if(1==e){const{itemData:e}=this.props,{isDataCount:t}=this.state;t>=e.postData.length-1?(document.getElementById("modalPost").style.display="none",setTimeout((()=>this.setState({checktimeout:0,isDataCount:0,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3)):(setTimeout((()=>this.setState({checktimeout:0,isDataCount:t+1,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3),document.getElementById("modalPost").style.display="none")}},this.getWidgetPopUPEvent=e=>{void 0!==e&&""!=e&&e.card&&("post"==e.type?this.setState({url:"",isEnable:1,eventData:e,currentIndex:e.index,completeData:e.idArray,viewOnText:e.viewOnText,shareText:e.shareText,imgData:e.imgData,personalization:e.personalization,type:e.type}):"submit-pic"==e.type&&this.setState({isEnable:1,type:e.type,windowParent:e}))},this.mediaSize=e=>{this.setState({mediaSize:{height:e.height,width:e.width}})}}componentDidMount(){const{data:e}=this.props;let t=document.querySelector(".tb_app_container"),a=m.b8?m.b8:t.parentNode.id;this.setState({parentID:a}),this.getWidgetPopUPEvent(e),setTimeout((()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show"),void 0!=e.ThemeRule.themeId&&47==e.ThemeRule.themeId&&t&&(t.style.overflow="hidden")}));var i=document.getElementsByTagName("html");i&&i[0]&&(i[0].style.overflow="hidden"),this.loadPopUpWithTimer(!0),p().init()}render(){const{wall:e,languageSetting:t,brandingNetworks:a}=this.props,{isPopUpHide:o,isDataCount:m,completeData:r,parentID:p,mediaSize:c}=this.state;let _=null;return _=-1===m?r[0]:r[m],_&&p&&Object.keys(_).length>0&&o?(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("div",{id:"modalPost",className:"modalId taggModalShow tb_modal tb_fade  themeModal".concat(e.Personalization.theme," poweredbytaggbox__ ").concat(!0===o?"":"show"),children:(0,h.jsx)("div",{className:"tb_modal_dialog taggModal",children:(0,h.jsxs)("div",{className:"tb_conetent","data-aos":"zoom-in-up",children:[(0,h.jsx)("div",{className:"tb_post_modal_modal_head",children:(0,h.jsx)("div",{className:"tb_post_modal_modal_header",children:(0,h.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,h.jsx)("div",{className:"tb_post_modal_post_address",children:_.link?(0,h.jsxs)("div",{className:"tb_post_modal_view_link",onClick:e=>window.open(_.link,"_blank"),children:[(0,h.jsxs)("div",{className:"tb_post_modal_view",children:[t.viewOnText," ",_.network.name]}),(0,h.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})})})}),(0,h.jsxs)("div",{className:"tb_post_modal_modal_body",style:{backgroundColor:e.ThemeRule.cardColor},children:[1!=_.type?(0,h.jsx)("div",{className:"tb_post_modal_details_left",children:(0,h.jsx)(s.Z,{data:_,wall:e,mediaSizeCallback:this.mediaSize})}):null,(0,h.jsx)("div",{className:"tb_post_modal_details_right ".concat(1===_.type?"tb_post_modal_text__":""),style:{backgroundColor:_.font.cardColor},children:(0,h.jsx)("div",{className:"tb_post_modal_content_wrap",children:(0,h.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[(0,h.jsx)(l.Z,{item:_,ThemeRule:e.ThemeRule,Personalization:e.Personalization,ownerId:e.Wall.owner},"author_".concat(_.id)),(0,h.jsx)(n.Z,{ThemeRule:e.ThemeRule,Personalization:e.Personalization,item:_,contentData:_.content,contentTitle:_.contentTitle,mediaSize:c},_.id)]})})}),e.UserRule.branding_lite&&1==e.UserRule.branding_lite?(0,h.jsx)(d.Z,{brandingNetworks:a,languageSetting:t,wallId:e.Wall.id}):null]})]})})})," "]}):null}}const _=(0,o.$j)((e=>({loaderData:e.loaderData,postHeight:e.postHeight.data})))(c)}}]);
//# sourceMappingURL=6574.39d43e0a.chunk.js.map