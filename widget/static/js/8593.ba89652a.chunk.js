"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8593],{58593:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(89379),l=a(9950),n=a(73068),i=a(73878),o=a(19015),r=a(66345),p=a(44414);const d=l.lazy(()=>a.e(8914).then(a.bind(a,48914))),c=l.lazy(()=>a.e(726).then(a.bind(a,80726))),h=l.lazy(()=>a.e(501).then(a.bind(a,40501))),g=l.lazy(()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(8615),a.e(147)]).then(a.bind(a,84061))),u=l.lazy(()=>Promise.all([a.e(804),a.e(8615),a.e(821)]).then(a.bind(a,16656))),b=l.lazy(()=>a.e(2406).then(a.bind(a,22406))),m=l.lazy(()=>a.e(4675).then(a.bind(a,74675))),_=(0,n.componentWillAppendToBody)(e=>{let{children:t}=e;return t});class j extends l.PureComponent{constructor(e){super(e),this.togglePopup=()=>{this.setState(e=>({isPopupVisible:!e.isPopupVisible,showFirstButton:!e.showFirstButton}))},this.toggleDivs=()=>{this.setState(e=>({toggleSticky:!e.isClickStoped&&!e.toggleSticky}))},this.autoLoadEditorScrollData=e=>{const{wall:t,appendData:a,loaderData:s}=this.props,l=t.ThemeRule.numberOfPosts;if(1===t.Personalization.autoScrollStatus){let e=document.getElementById("BadgeThemeScroll");if(e){document.body.scrollHeight;let n=e.scrollTop,i=e.scrollHeight;if(n+e.clientHeight>=i-10&&(!s||!s.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,l,a.networkID,a.after,a.heightEvent)}}}},this.state={isClickStoped:!1,isPopupVisible:!1,showFirstButton:!0,toggleSticky:!1},this.interval=null}componentDidMount(){this.interval=setInterval(this.toggleDivs,1e4);let e=document.getElementById("BadgeThemeScroll");e&&e.addEventListener("scroll",this.autoLoadEditorScrollData)}componentWillUnmount(){clearInterval(this.interval)}render(){const{postData:e,completeDataObject:t,adjustWidth:a,wall:n,reviewFilters:i,languageSetting:o,appendData:j,appData:x,filter_tags:S,webFilters:w,isFreeAdsStatus:D}=this.props,{isPopupVisible:v,showFirstButton:y,toggleSticky:k}=this.state,f=!!(n.Banner&&Object.keys(n.Banner).length>0&&(1===n.Banner.status&&1===n.Banner.banner_position||1===n.BannerImage.status)),B=!!(n.Banner&&Object.keys(n.Banner).length>0&&1===n.Banner.status&&2===n.Banner.banner_position),F=!!(n.Banner&&Object.keys(n.Banner).length>0&&1===n.Banner.status&&6==n.Banner.bannerType),P=r.uS?1===n.Personalization.filterStatus:!!(w&&w.length>1);l.Suspense,p.Fragment,n.Personalization.filter_type,e.appendData;const z=Object.keys(t).map(e=>t[e]).sort(()=>Math.random()-Math.random()).find(()=>!0);return(0,p.jsxs)("div",{className:"tb_bt__container",children:[(0,p.jsx)(_,{children:(0,p.jsxs)("div",{className:"tb_bt_popup_wrapper tb_bt_popup_show",style:{display:v?null:"none"},children:[(0,p.jsx)("div",{className:"tb_bt_popup_close_btn",onClick:this.togglePopup,children:(0,p.jsx)("div",{className:"tb_bt_popup_close_ico tb__icon tb-close-alt"})}),(0,p.jsx)("div",{className:"tb_bt_head_title",children:"What our customer say"}),(0,p.jsxs)("div",{className:"tb_bt_post_wrap",id:"BadgeThemeScroll",children:[F&&f?(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(c,{reviewFilters:i,wall:n,appendData:j,languageSetting:o})}):null,P?(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(h,{type:n.Personalization.filter_type,webFilters:w,filter_tags:S,appendData:j,wall:n,languageSetting:o,postData:e})}):null,(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(g,(0,s.A)({},this.props))}),1===n.Personalization.loadMoreStatus?(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(m,{languageSetting:o,wall:n,appendData:j,postData:x.postData})}):null,F&&B?(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(c,{reviewFilters:i,wall:n,appendData:j,languageSetting:o})}):null]})]})}),(0,p.jsx)("div",{className:"tb_bt_wrapper",children:y&&(0,p.jsxs)("div",{className:"tb_bt_post_wrapper",children:[k?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"tb_bt_average_sticky ".concat(k?"":"tb_bt_show"),children:(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{ThemeRule:n.ThemeRule,reviewFilters:i,togglePopup:this.togglePopup})})}),D?(0,p.jsxs)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(d,{languageSetting:o,wallId:n.Wall.id,themeID:n.Personalization.widgetTheme})," "]}):null]}),e&&e.length>0&&k&&(0,p.jsx)("div",{className:"tb_bt_post_contain ".concat(k?"tb_bt_show":""),children:(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(u,{ownerId:n.Wall.owner,itemData:z,itemIndex:z.id,adjustWidth:a,personalization:n.Personalization,ThemeRule:n.ThemeRule,wallID:n.Wall.id,toggleDivs:this.toggleDivs},z.id)},z.id)})]})})]})}}const x=(0,i.Ng)(e=>({appData:e.appData}),e=>({getDataNextSteps:(t,a,s,l,n,i,r)=>e((0,o.H5)(t,a,s,l,n,i,r))}))(j)}}]);