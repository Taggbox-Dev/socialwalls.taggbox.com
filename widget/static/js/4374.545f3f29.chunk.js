"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4374,7445],{47445:(t,e,s)=>{s.r(e),s.d(e,{default:()=>p});var i,o,n,a=s(72791),l=s(2703),r=!1,c=0;const h=t=>({80:60,70:40,50:30,30:20,20:10}[t]||20);class d extends a.PureComponent{constructor(t){super(t),this.scrollDiv_init=t=>{const e=63==t?"wPosts":"marqueecontainer";n=document.getElementById(e),63==t&&(r=!1),(n||{}).scrollTop=0,c=0,this.onScrollData(),this.onScrollWPosts(t)},this.onScrollData=()=>{const{wall:t}=this.props;if(t.Personalization.scrollDelay){const e=66==t.ThemeRule.themeId?60:h(t.Personalization.scrollDelay);i=setInterval(this.scrollDiv,e)}},this.onScrollWPosts=t=>{const{themeHeight:e,settings:s}=this.props,i=63==t?"wPosts":"marqueecontainer";n=document.getElementById(i);var o=document.getElementById("wPosts");if(o)if(window.innerHeight>o.clientHeight)if(63==t)n.setAttribute("style","overflow: unset;display:flex;height: 100vh;");else{var a=window.innerHeight,r=o.clientHeight;o.setAttribute("style","position: relative; margin-bottom: ".concat(a,"px; min-height:").concat(r,"px"))}else 63==t?n.setAttribute("style","overflow: auto;display:flex;height: 100vh;"):n.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(e&&s.isDisplay?e+((0,l.hz)()?6:0):0,"px)"))},this.scrollDiv=()=>{const{themeId:t}=this.props.wall.ThemeRule;i&&63!=t&&clearInterval(i),r?63==t?(r=0!=(n||{}).scrollTop,(n||{}).scrollTop=c,c--):((n||{}).scrollTop=c=0,r=!1):((n||{}).scrollTop=c,c++,r=(n||{}).scrollTop>=(n||{}).scrollHeight-(n||{}).offsetHeight-10),63!=t&&this.onScrollData()},this.pauseDiv=t=>{i&&clearInterval(i),o&&clearTimeout(o),o=setTimeout((()=>this.resumeDiv()),5e3)},this.resumeDiv=()=>{const{wall:t}=this.props;n=document.getElementById("wPosts"),c=(n||{}).scrollTop,i=setInterval(this.scrollDiv,h(t.Personalization.scrollDelay))},this.setTimescroll=0}componentDidMount(){const{settings:t,wall:e}=this.props;if(t.isDisplay){const{themeId:t}=e.ThemeRule,s=document.querySelector(".tb_app_container");s&&s.addEventListener("wheel",(t=>t.preventDefault()),{passive:!1}),this.setTimescroll=setTimeout((()=>this.scrollDiv_init(t)),2e3)}}componentDidUpdate(t,e){const{postData:s,wall:n}=t;s!=this.props.postData&&(i&&clearInterval(i),o&&clearTimeout(o),this.scrollDiv_init(n.ThemeRule.themeId))}componentWillUnmount(){i&&clearInterval(i),o&&clearTimeout(o),this.setTimescroll&&clearTimeout(this.setTimescroll)}render(){return{...this.props.children}}}const p=(0,a.memo)(d)},54122:(t,e,s)=>{s.r(e),s.d(e,{default:()=>p});var i=s(72791),o=s(77581),n=s(49671),a=s(98759),l=s(42308),r=s(19036),c=s(70757),h=s(80184);class d extends i.PureComponent{render(){const{itemData:t,personalization:e,ThemeRule:s,clickToShowPopUp:i,itemIndex:o,wall:d}=this.props,p=[2,3,4,5].includes(t.type),m=t.rating>0,u=t.rating>0?"tb_mwf_rating_content":"tb_mwf_content",_=1===t.type&&e.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",g=!(!s.postAuthor||t.author.isInstaUser),w=t.network;return(0,h.jsx)("div",{className:"tb_mwf_post_wrapper","data-id":t.id,"tb-network":w.icon,children:(0,h.jsxs)("div",{className:"tb_mwf_post_in",onClick:i(o,t),children:[(0,h.jsxs)("div",{className:"tb_mwf_post_media_wrapp",children:[p||65==s.themeId?null:(0,h.jsxs)("div",{className:"tb_mwf_social_top_",children:[" ",(0,h.jsx)(c.default,{networkClass:"tb_mwf_social_center_ico",network:w,ThemeRule:s})," "]}),p?(0,h.jsx)(a.Z,{itemData:t,wallID:d.id},t.id):null,m?(0,h.jsxs)("div",{className:"tb_mwf_rating__ ".concat(29===w.id?"tb_mwf_onsite_rating__":""),children:[(0,h.jsx)(r.Z,{rating:t.rating,network:w})," "]}):null]}),s.captionStatus?null:(0,h.jsxs)("div",{className:s.postAuthor||s.socialAction||s.postTime?"tb_mwf_contant_wrapper":"",children:[g||s.postTime||w.id&&s.socialAction?(0,h.jsx)(n.Z,{postData:t,ThemeRule:s}):null,s.hideContent||[65,63].includes(s.themeId)?null:(0,h.jsx)(l.Z,{item:t,contentClass:"".concat(u," ").concat(_),font:s.font,ThemeRule:s,personalization:e,contentTitle:t.contentTitle},t.id)]})]})})}}const p=(0,o.$j)((t=>({modalPop:t.modalPop})))(d)},19036:(t,e,s)=>{s.d(e,{Z:()=>a});var i=s(72791),o=s(80184);const n=t=>{let{network:e}=t;const{className:s,color:i}={3:{className:"tb_rating_ico__ tb__icon tb-rating",color:"#1b74e4"},4:{className:"tb_rating_ico__ tb__icon tb-rating tb-google-rating",color:"#F8B90C"},19:{className:"tb_rating_ico__ tb__icon tb-rating tb-yelp-rating",color:"#e00707"},23:{className:"tb_rating_ico__ tb__icon tb-rating tb-airbnb-rating",color:"#ff385c"},29:{className:"tb_rating_ico__ tb__icon tb-rating",color:"#613983"}}[e.id]||{className:"tb_rating_ico__ tb__icon tb-rating",color:"#F8B90C"};return(0,o.jsx)("div",{className:s,style:{color:i},"tb-network":e.id})};class a extends i.PureComponent{render(){const{rating:t,network:e}=this.props;return(0,o.jsx)("div",{className:"tb__rating__","aria-hidden":!0,children:t?[...Array(t)].map(((t,s)=>(0,o.jsx)(n,{network:e}))):null})}}},64374:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(72791),o=s(39852),n=s.n(o),a=s(54122),l=s(47445),r=s(80184);class c extends i.PureComponent{constructor(t){super(t),this.responsiveUpdate=null,this.themeheight=()=>{const{heightUpdate:t,settings:e}=this.props;e.isDisplay&&(t(),setTimeout((()=>{this.setState({checkThemeheight:!0})}),100))},this.onResponsiveTheme=()=>{const{wall:t}=this.props,e=document.querySelector(".tb_app_container");if(e){const s=e.clientWidth-1;if(s>0){let e=null,i=null,o=null,n=null;const a=t.Personalization.minimumPostWidth;e=s/a;let l=Math.trunc(e);o=s%a,i=o/l,n=e>=1?a+i:a-i,this.setState({adjustWidth:n,postWidth:n})}}},this.themeheight=()=>{this.props.heightUpdate(),setTimeout((()=>{this.setState({checkThemeheight:!0})}),100)},this.state={checkThemeUpdate:0,postWidth:0,adjustWidth:0,checkThemeheight:!t.settings.isDisplay}}componentDidMount(){this.onResponsiveTheme(),window.addEventListener("resize",(()=>this.themeheight)),this.props.settings.isDisplay&&this.themeheight()}componentDidUpdate(t,e){const{settings:s,heightUpdate:i}=this.props;s.isDisplay&&i(),this.responsiveUpdate=setTimeout((()=>this.onResponsiveTheme()),2e3)}componentWillUnmount(){this.responsiveUpdate&&clearTimeout(this.responsiveUpdate),window.removeEventListener("resize",this.themeheight)}render(){let{checkThemeheight:t,postWidth:e,adjustWidth:s}=this.state,{postData:i,completeDataObject:o,wall:c,onClickToCTA:h,clickToShowPopUp:d,themeHeight:p,settings:m}=this.props,{ThemeRule:u}=c;const _=u.themeId,g={backgroundColor:u.cardColor,padding:"".concat(u.spacing,"px"),borderRadius:"".concat(u.borderRadius,"px")};return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(l.default,{...this.props,children:(0,r.jsx)("div",{id:m.isDisplay?null:"".concat(62==_?"casecade":63==_?"focus":64==_?"exhibit":"pixel","_").concat(_),className:" ".concat(66==_?"themeSquare":null," themeModrnWatrFall ").concat(m.isDisplay?"display":"widget"),children:(0,r.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(p,"px)")},children:(0,r.jsx)(n(),{id:"wPosts",className:"theme".concat(_),tabIndex:"0","aria-label":"There are ".concat(i&&i.length>0?i.length:0," posts in the feed"),elementType:"div",options:{transitionDuration:0,percentPosition:!0,horizontalOrder:!0,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:i&&i.map(((t,i)=>{const n=o[t];return e&&n?(0,r.jsx)("div",{id:'"postId'.concat(n.id),className:"feedId".concat(n.feedId," postItem item flatCard   ").concat(65==_?"pixel65":"","  ").concat(n.network.name,"Taggbox ").concat(n.theme48&&"onlyTextCard"===n.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":n.id,"data-highlight":n.highlight,"data-pin":n.pin,style:{padding:u.padding/2,width:(n.highlight,e),margin:0,minWidth:0,left:0,top:0},"data-created":n.createdAt,children:(0,r.jsx)("div",{className:"post",style:g,children:(0,r.jsx)("div",{className:"postContent",children:(0,r.jsx)(a.default,{ownerId:c.Wall.owner,wall:c,itemData:n,itemIndex:i,adjustWidth:s,personalization:c.Personalization,ThemeRule:u,clickToShowPopUp:d,wallID:c.Wall.id,onClickToCTA:h},i)})})},i):null}))},p)})})}):null})}}const h=c}}]);
//# sourceMappingURL=4374.545f3f29.chunk.js.map