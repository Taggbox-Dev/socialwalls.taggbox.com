(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6930],{47445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i,o,r,s=n(72791),a=n(2703),l=!1,c=0;const u=e=>({80:60,70:40,50:30,30:20,20:10}[e]||20);class p extends s.PureComponent{constructor(e){super(e),this.scrollDiv_init=e=>{const t=63==e?"wPosts":"marqueecontainer";r=document.getElementById(t),63==e&&(l=!1),(r||{}).scrollTop=0,c=0,this.onScrollData(),this.onScrollWPosts(e)},this.onScrollData=()=>{const{wall:e}=this.props;if(e.Personalization.scrollDelay){const t=66==e.ThemeRule.themeId?60:u(e.Personalization.scrollDelay);i=setInterval(this.scrollDiv,t)}},this.onScrollWPosts=e=>{const{themeHeight:t,wall:n}=this.props,i=63==e?"wPosts":"marqueecontainer";r=document.getElementById(i);var o=document.getElementById("wPosts");if(o)if(window.innerHeight>o.clientHeight)if(63==e)r.setAttribute("style","overflow: unset;display:flex;height: 100vh;");else{var s=window.innerHeight,l=o.clientHeight;o.setAttribute("style","position: relative; margin-bottom: ".concat(s,"px; min-height:").concat(l,"px"))}else 63==e?r.setAttribute("style","overflow: auto;display:flex;height: 100vh;"):r.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(t&&n.isDisplay?t+((0,a.hz)()?6:0):0,"px)"))},this.scrollDiv=()=>{const{themeId:e}=this.props.wall.ThemeRule;i&&63!=e&&clearInterval(i),l?63==e?(l=0!=(r||{}).scrollTop,(r||{}).scrollTop=c,c--):((r||{}).scrollTop=c=0,l=!1):((r||{}).scrollTop=c,c++,l=(r||{}).scrollTop>=(r||{}).scrollHeight-(r||{}).offsetHeight-200),63!=e&&this.onScrollData()},this.pauseDiv=e=>{i&&clearInterval(i),o&&clearTimeout(o),o=setTimeout((()=>this.resumeDiv()),5e3)},this.resumeDiv=()=>{const{wall:e}=this.props;r=document.getElementById("wPosts"),c=(r||{}).scrollTop,i=setInterval(this.scrollDiv,u(e.Personalization.scrollDelay))},this.setTimescroll=0}componentDidMount(){const{wall:e}=this.props;if(e.isDisplay){const{themeId:t}=e.ThemeRule,n=document.querySelector(".tb_app_container");n&&n.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.setTimescroll=setTimeout((()=>this.scrollDiv_init(t)),2e3)}}componentDidUpdate(e,t){const{postData:n,wall:r}=e;n!=this.props.postData&&(i&&clearInterval(i),o&&clearTimeout(o),this.scrollDiv_init(r.ThemeRule.themeId))}componentWillUnmount(){i&&clearInterval(i),o&&clearTimeout(o),this.setTimescroll&&clearTimeout(this.setTimescroll)}render(){return{...this.props.children}}}const h=(0,s.memo)(p)},71313:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(72791),o=n(80184);function r(e){return class extends i.Component{constructor(e){super(e),this.cardRef=i.createRef(null),this.startLoadingVideo=e=>{const{itemData:t,wall:n}=this.props;if(n&&n.ThemeRule&&Object.keys(n.ThemeRule).length>0&&3==t.type||5==t.type){const t=n.ThemeRule.themeId;try{if(window.innerWidth>920&&t&&[62,63,64,65,66,69,70,73].includes(parseInt(t))){let t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.setState({autoplay:!0}):this.setState({autoplay:!1})}))}),{rootMargin:"50px",threshold:1});e.current&&t.observe(e.current)}else this.setState({autoplay:!0})}catch(i){this.setState({autoplay:!0})}}},this.state={autoplay:!1}}componentDidMount(){this.startLoadingVideo(this.cardRef)}render(){return(0,o.jsx)(e,{...this.state,...this.props,cardRef:this.cardRef})}}}},76930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var i=n(72791);function o(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};class u extends i.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!==typeof t&&(t={default:parseInt(t)||2});let n=1/0,i=t.default||2;for(let o in t){const r=parseInt(o);r>0&&e<=r&&r<n&&(n=r,i=t[o])}i=Math.max(1,parseInt(i)||1),this.state.columnCount!==i&&this.setState({columnCount:i})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),n=i.Children.toArray(this.props.children);for(let i=0;i<n.length;i++){const o=i%e;t[o]||(t[o]=[]),t[o].push(n[i])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:n}=this.props,o=this.itemsInColumns(),s="".concat(100/o.length,"%");let l=n;l&&"string"!==typeof l&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof l&&(l="my-masonry-grid_column"));const c=a(a(a({},e),t),{},{style:a(a({},t.style),{},{width:s}),className:l});return o.map(((e,t)=>i.createElement("div",r({},c,{key:t}),e)))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:n,columnClassName:s,columnAttrs:a,column:l,className:c}=e,u=o(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let p=c;return"string"!==typeof c&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof c&&(p="my-masonry-grid")),i.createElement("div",r({},u,{className:p}),this.renderColumns())}}u.defaultProps=c;const p=u;var h=n(206),d=n.n(h),m=n(58290),f=n(71313),y=n(80184);const v=i.lazy((()=>Promise.all([n.e(4867),n.e(6332),n.e(6710),n.e(8933)]).then(n.bind(n,54122))));class b extends i.PureComponent{render(){const{item:e,wall:t,itemKey:n,clickToShowPopUp:i,loading:o}=this.props;let{ThemeRule:r}=t;const s={backgroundColor:r.cardColor,padding:"".concat(r.spacing,"px"),borderRadius:"".concat(r.borderRadius,"px"),overflow:"hidden"},a=t.displayEmbed?v:(0,f.d)(v);return(0,y.jsx)("div",{id:'"postId'.concat(e.id),className:"feedId58195 postItem flatCard ".concat(e.network.name,"}Taggbox completeFadeIn"),"data-post-id":e.id,"data-highlight":e.highlight,"data-pin":e.pin,"data-pi":e.pin,style:{padding:r.padding/2,margin:0,minWidth:0,left:0,top:0},"data-created":e.createdAt,children:(0,y.jsx)("div",{className:"post ".concat("#111111"===r.cardColor?"post".concat(n%4+1):null),style:s,children:(0,y.jsx)("div",{className:"postContent",children:o?(0,y.jsx)(m.Z,{height:300}):(0,y.jsx)(a,{clickToShowPopUp:i,itemData:e,wall:t,itemIndex:n,ThemeRule:r},n)})})},e.id)}}const g=b;var w=n(47445);const C={default:5,1920:5,1600:4,1100:3,900:2,500:1};class T extends i.PureComponent{constructor(){super(...arguments),this.state={checkThemeheight:!this.props.wall.isDisplay,itemCount:0,loading:!1},this.themeheight=()=>{this.setState({checkThemeheight:!0},this.props.heightUpdate)}}componentDidMount(){this.props.wall.isDisplay&&this.themeheight()}render(){const{loading:e,itemCount:t,checkThemeheight:n}=this.state;let{postData:i,completeDataObject:o,wall:r,adjustWidth:s,onClickToCTA:a,clickToShowPopUp:l,themeHeight:c}=this.props;const u=r.ThemeRule.themeId;return n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w.Z,{...this.props,children:(0,y.jsx)("div",{id:"focus_".concat(u),className:"Waterfall-theme  ".concat(r.isDisplay?"display":""),style:{height:"calc(100vh - ".concat(c,"px)")},children:(0,y.jsx)("div",{className:"tb_mwf_post_container",children:(0,y.jsx)("div",{id:"marqueecontainer",children:(0,y.jsx)(p,{id:"wPosts",style:{display:"flex",overflow:"auto",height:"100vh",flexWrap:"wrap"},breakpointCols:C,className:"my-masonry-grid theme".concat(u),columnClassName:"my-masonry-grid_column",children:i.map(((n,i)=>{t<i+1&&this.setState({itemCount:0});const c=o[n];return(0,y.jsx)("div",{id:n,children:(0,y.jsx)(d(),{className:"fadein".concat(i+1),animateIn:"fadeIn",delay:10*(i+1),animationInDuration:3e3,animateOnce:!0,animatePreScroll:!0,style:{opacity:1},children:(0,y.jsx)(g,{item:c,itemKey:i,popupid:n,wall:r,newItems:c,loading:e,adjustWidth:s,onClickToCTA:a,clickToShowPopUp:l},n)})},i)}))})})})})})," "]}):null}}const O=T},33881:(e,t,n)=>{var i="Expected a function",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),h=Object.prototype.toString,d=Math.max,m=Math.min,f=function(){return p.Date.now()};function y(e,t,n){var o,r,s,a,l,c,u=0,p=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=o,i=r;return o=r=void 0,u=t,a=e.apply(i,n)}function w(e){return u=e,l=setTimeout(T,t),p?g(e):a}function C(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=s}function T(){var e=f();if(C(e))return O(e);l=setTimeout(T,function(e){var n=t-(e-c);return h?m(n,s-(e-u)):n}(e))}function O(e){return l=void 0,y&&o?g(e):(o=r=void 0,a)}function P(){var e=f(),n=C(e);if(o=arguments,r=this,c=e,n){if(void 0===l)return w(c);if(h)return l=setTimeout(T,t),g(c)}return void 0===l&&(l=setTimeout(T,t)),a}return t=b(t)||0,v(n)&&(p=!!n.leading,s=(h="maxWait"in n)?d(b(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y),P.cancel=function(){void 0!==l&&clearTimeout(l),u=0,o=c=r=l=void 0},P.flush=function(){return void 0===l?a:O(f())},P}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||a.test(e)?l(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(i);return v(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),y(e,t,{leading:o,maxWait:t,trailing:r})}},81726:(e,t,n)=>{"use strict";var i=n(79047);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},52007:(e,t,n)=>{e.exports=n(81726)()},79047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var r=n(72791),s=o(r),a=o(n(33881)),l=o(n(52007)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var i=!0;i;){var o=e,r=t,s=n;i=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=r,n=s,i=!0,a=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.serverSide="undefined"===typeof window,this.listener=(0,a.default)(this.handleScroll.bind(this),50),this.visibility={onScreen:!1,inViewport:!1},this.state={classes:"animated",style:{animationDuration:this.props.duration+"s",opacity:this.props.initiallyVisible?1:0}}}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getElementTop",value:function(e){for(var t=0;e&&void 0!==e.offsetTop&&void 0!==e.clientTop;)t+=e.offsetTop+e.clientTop,e=e.offsetParent;return t}},{key:"getScrollPos",value:function(){return void 0!==this.scrollableParent.pageYOffset?this.scrollableParent.pageYOffset:this.scrollableParent.scrollTop}},{key:"getScrollableParentHeight",value:function(){return void 0!==this.scrollableParent.innerHeight?this.scrollableParent.innerHeight:this.scrollableParent.clientHeight}},{key:"getViewportTop",value:function(){return this.getScrollPos()+this.props.offset}},{key:"getViewportBottom",value:function(){return this.getScrollPos()+this.getScrollableParentHeight()-this.props.offset}},{key:"isInViewport",value:function(e){return e>=this.getViewportTop()&&e<=this.getViewportBottom()}},{key:"isAboveViewport",value:function(e){return e<this.getViewportTop()}},{key:"isBelowViewport",value:function(e){return e>this.getViewportBottom()}},{key:"inViewport",value:function(e,t){return this.isInViewport(e)||this.isInViewport(t)||this.isAboveViewport(e)&&this.isBelowViewport(t)}},{key:"onScreen",value:function(e,t){return!this.isAboveScreen(t)&&!this.isBelowScreen(e)}},{key:"isAboveScreen",value:function(e){return e<this.getScrollPos()}},{key:"isBelowScreen",value:function(e){return e>this.getScrollPos()+this.getScrollableParentHeight()}},{key:"getVisibility",value:function(){var e=this.getElementTop(this.node)-this.getElementTop(this.scrollableParent),t=e+this.node.clientHeight;return{inViewport:this.inViewport(e,t),onScreen:this.onScreen(e,t)}}},{key:"componentDidMount",value:function(){if(!this.serverSide){var e=this.props.scrollableParentSelector;this.scrollableParent=e?document.querySelector(e):window,this.scrollableParent&&this.scrollableParent.addEventListener?this.scrollableParent.addEventListener("scroll",this.listener):console.warn("Cannot find element by locator: "+this.props.scrollableParentSelector),this.props.animatePreScroll&&this.handleScroll()}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayedAnimationTimeout),clearTimeout(this.callbackTimeout),this.listener.cancel(),window&&window.removeEventListener&&window.removeEventListener("scroll",this.listener)}},{key:"visibilityHasChanged",value:function(e,t){return e.inViewport!==t.inViewport||e.onScreen!==t.onScreen}},{key:"animate",value:function(e,t){var n=this;this.delayedAnimationTimeout=setTimeout((function(){n.animating=!0,n.setState({classes:"animated "+e,style:{animationDuration:n.props.duration+"s"}}),n.callbackTimeout=setTimeout(t,1e3*n.props.duration)}),this.props.delay)}},{key:"animateIn",value:function(e){var t=this;this.animate(this.props.animateIn,(function(){t.props.animateOnce||(t.setState({style:{animationDuration:t.props.duration+"s",opacity:1}}),t.animating=!1);var n=t.getVisibility();e&&e(n)}))}},{key:"animateOut",value:function(e){var t=this;this.animate(this.props.animateOut,(function(){t.setState({classes:"animated",style:{animationDuration:t.props.duration+"s",opacity:0}});var n=t.getVisibility();n.inViewport&&t.props.animateIn?t.animateIn(t.props.afterAnimatedIn):t.animating=!1,e&&e(n)}))}},{key:"handleScroll",value:function(){if(!this.animating){var e=this.getVisibility();this.visibilityHasChanged(this.visibility,e)&&(clearTimeout(this.delayedAnimationTimeout),e.onScreen?e.inViewport&&this.props.animateIn?this.animateIn(this.props.afterAnimatedIn):e.onScreen&&this.visibility.inViewport&&this.props.animateOut&&1===this.state.style.opacity&&this.animateOut(this.props.afterAnimatedOut):this.setState({classes:"animated",style:{animationDuration:this.props.duration+"s",opacity:this.props.initiallyVisible?1:0}}),this.visibility=e)}}},{key:"render",value:function(){var e=this,t=this.props.className?this.props.className+" "+this.state.classes:this.state.classes;return s.default.createElement("div",{ref:function(t){e.node=t},className:t,style:Object.assign({},this.state.style,this.props.style)},this.props.children)}}]),t}(r.Component);t.default=c,c.defaultProps={offset:150,duration:1,initiallyVisible:!1,delay:0,animateOnce:!1,animatePreScroll:!0},c.propTypes={animateIn:l.default.string,animateOut:l.default.string,offset:l.default.number,duration:l.default.number,delay:l.default.number,initiallyVisible:l.default.bool,animateOnce:l.default.bool,style:l.default.object,scrollableParentSelector:l.default.string,className:l.default.string,animatePreScroll:l.default.bool},e.exports=t.default},58290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(72791);const o=i.createContext({}),r=!0;function s(e){let{baseColor:t,highlightColor:n,width:i,height:o,borderRadius:s,circle:a,direction:l,duration:c,enableAnimation:u=r}=e;const p={};return"rtl"===l&&(p["--animation-direction"]="reverse"),"number"===typeof c&&(p["--animation-duration"]="".concat(c,"s")),u||(p["--pseudo-element-display"]="none"),"string"!==typeof i&&"number"!==typeof i||(p.width=i),"string"!==typeof o&&"number"!==typeof o||(p.height=o),"string"!==typeof s&&"number"!==typeof s||(p.borderRadius=s),a&&(p.borderRadius="50%"),"undefined"!==typeof t&&(p["--base-color"]=t),"undefined"!==typeof n&&(p["--highlight-color"]=n),p}function a(e){let{count:t=1,wrapper:n,className:a,containerClassName:l,containerTestId:c,circle:u=!1,style:p,...h}=e;var d,m,f;const y=i.useContext(o),v={...h};for(const[i,o]of Object.entries(h))"undefined"===typeof o&&delete v[i];const b={...y,...v,circle:u},g={...p,...s(b)};let w="react-loading-skeleton";a&&(w+=" ".concat(a));const C=null!==(d=b.inline)&&void 0!==d&&d,T=[],O=Math.ceil(t);for(let o=0;o<O;o++){let e=g;if(O>t&&o===O-1){const n=null!==(m=e.width)&&void 0!==m?m:"100%",i=t%1,o="number"===typeof n?n*i:"calc(".concat(n," * ").concat(i,")");e={...e,width:o}}const n=i.createElement("span",{className:w,style:e,key:o},"\u200c");C?T.push(n):T.push(i.createElement(i.Fragment,{key:o},n,i.createElement("br",null)))}return i.createElement("span",{className:l,"data-testid":c,"aria-live":"polite","aria-busy":null!==(f=b.enableAnimation)&&void 0!==f?f:r},n?T.map(((e,t)=>i.createElement(n,{key:t},e))):T)}}}]);
//# sourceMappingURL=6930.137f53a6.chunk.js.map