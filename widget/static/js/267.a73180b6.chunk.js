"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[267],{84109:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var s=a(47313),i=a(43411),o=a(54201),l=a(56984),d=a(40029),n=a(4154),p=a(17739),m=a(46417);class r extends s.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,platform:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,mediaSize:{height:500,width:500},isDataCount:0,checktimeout:0,isPopUpHide:!0},this.loadPopUpWithTimer=t=>{const{wall:e}=this.props,{timeForPopup:a}=e.ThemeRule,{checktimeout:s}=this.state,i=1e3*a;setTimeout((()=>{const e=0===a?5e3:i;0==s?this.setState({checktimeout:1,isPopUpHide:!0},(()=>t?this.onLoadedPopUp():setTimeout(this.onLoadedPopUp,e))):this.setState({isPopUpHide:!1},(()=>setTimeout((()=>this.onLoadedPopUp()),e)))}),0===a?5e3:i,{position:1})},this.onLoadedPopUp=()=>{const{checktimeout:t,isDataCount:e}=this.state;if(1==t){const{itemData:t}=this.props,a=document.getElementById("modalPost");e>=t.postData.length-1?(a.style.display="none",setTimeout((()=>this.setState({checktimeout:0,isDataCount:0,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3)):(setTimeout((()=>this.setState({checktimeout:0,isDataCount:e+1,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3),a.style.display="none")}},this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,personalization:t.personalization,type:t.type}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.mediaSize=t=>{this.setState({mediaSize:{height:t.height,width:t.width}})}}componentDidMount(){const{data:t,isShowPopUp:e}=this.props;e&&setTimeout((()=>{let e=document.querySelector(".tb_app_container"),a=p.b8?p.b8:e.parentNode.id;this.setState({parentID:a}),this.getWidgetPopUPEvent(t),setTimeout((()=>{var e=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));e&&e.classList.add("tb_post_modal_show"),void 0!=t.ThemeRule.themeId&&47==t.ThemeRule.themeId&&e&&(e.style.overflow="hidden")}));var s=document.getElementsByTagName("html");s&&s[0]&&(s[0].style.overflow="hidden"),this.loadPopUpWithTimer(!0)}),5e3)}render(){const{wall:t,languageSetting:e,brandingNetworks:a,isShowPopUp:i}=this.props,{Personalization:p,ThemeRule:r,UserRule:c,Wall:h}=t,{isPopUpHide:_,isDataCount:u,completeData:b,parentID:g,mediaSize:w}=this.state;let v=null;return v=-1===u?b[0]:b[u],v&&g&&Object.keys(v).length>0&&_&&i?(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)("div",{id:"modalPost",className:"modalId taggModalShow tb_modal tb_fade  themeModal".concat(p.theme," poweredbytaggbox__ ").concat(!0===_?"":"show"),children:(0,m.jsx)("div",{className:"tb_modal_dialog taggModal",children:(0,m.jsxs)("div",{className:"tb_conetent",children:[v.link||v.network.name?(0,m.jsx)("div",{className:"tb_post_modal_modal_head",children:(0,m.jsx)("div",{className:"tb_post_modal_modal_header",children:(0,m.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,m.jsx)("div",{className:"tb_post_modal_post_address",children:(0,m.jsxs)("div",{className:"tb_post_modal_view_link",children:[(0,m.jsxs)("div",{className:"tb_post_modal_view",children:[e.viewOnText," ",v.network.name]}),(0,m.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]})})})})}):null,(0,m.jsxs)("div",{className:"tb_post_modal_modal_body",style:{backgroundColor:r.cardColor},children:[1!=v.type?(0,m.jsx)("div",{className:"tb_post_modal_details_left",children:(0,m.jsx)(o.Z,{wall:t,data:v,mediaSizeCallback:this.mediaSize})}):null,(0,m.jsx)("div",{className:"tb_post_modal_details_right ".concat(1===v.type?"tb_post_modal_text__":""),style:{backgroundColor:v.font.cardColor},children:(0,m.jsx)("div",{className:"tb_post_modal_content_wrap",children:(0,m.jsx)("div",{className:"tb_post_modal_post_detail_wrap popUp_display scroll-hide",children:(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)(l.Z,{wall:t,item:v,ThemeRule:r},"author_".concat(v.id)),(0,m.jsx)(d.Z,{isDisplay:t.isDisplay,isPopUpHide:_,timeForPopup:r.timeForPopup,ThemeRule:r,Personalization:p,item:v,fullContent:v.fullContent,contentData:v.content,contentTitle:v.contentTitle,mediaSize:w},v.id)]})})})}),c.branding&&1==c.branding?(0,m.jsx)(n.Z,{brandingNetworks:a,languageSetting:e,wallId:h.id}):null]})]})})})," "]}):null}}const c=(0,i.$j)((t=>({loaderData:t.loaderData,postHeight:t.postHeight.data})))(r)}}]);