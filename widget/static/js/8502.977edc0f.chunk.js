"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8502],{54122:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(72791),i=n(77581),a=n(49671),s=n(68329),l=n(42308),r=n(19036),c=n(70757),h=n(80184);class d extends o.PureComponent{render(){const{itemData:e,personalization:t,ThemeRule:n,clickToShowPopUp:o,itemIndex:i,wall:d,ownerId:m}=this.props,p=2===e.type||3===e.type||4===e.type||5===e.type,u=e.rating>0,g=e.rating>0?"tb_mwf_rating_content":"tb_mwf_content",w=1===e.type&&t.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"";return(0,h.jsx)("div",{className:"tb_mwf_post_wrapper","data-id":e.id,"tb-network":e.network.icon,children:(0,h.jsxs)("div",{className:"tb_mwf_post_in",onClick:o(i,e),children:[(0,h.jsxs)("div",{className:"tb_mwf_post_media_wrapp",children:[p||65==n.themeId?null:(0,h.jsxs)("div",{className:"tb_mwf_social_top_",children:[" ",(0,h.jsx)(c.default,{networkClass:"tb_mwf_social_center_ico",network:e.network,ThemeRule:n,font:n.font})," "]}),p?(0,h.jsx)(s.Z,{itemData:e,wallID:d.id},e.id):null,u?(0,h.jsxs)("div",{className:"tb_mwf_rating__ ".concat(29===e.network.id?"tb_mwf_onsite_rating__":""),children:[(0,h.jsx)(r.Z,{rating:e.rating,network:e.network})," "]}):null]}),n.captionStatus?null:(0,h.jsxs)("div",{className:t.postAuthor||n.socialAction||t.postTime?"tb_mwf_contant_wrapper":"",children:[(0,h.jsx)(a.Z,{ownerId:m,mediaType:p,postTime:e.createdAt,author:e.author,network:e.network,font:n.iconColor,personalization:t,ThemeRule:n}),n.hideContent||[65,63].includes(n.themeId)?null:(0,h.jsx)(l.Z,{item:e,contentClass:"".concat(g," ").concat(w),font:n.font,ThemeRule:n,personalization:t,contentTitle:e.contentTitle},e.id)]})]})})}}const m=(0,i.$j)((e=>({modalPop:e.modalPop})))(d)},38502:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(72791),i=n(88890),a=n.n(i),s=n(58290),l=n(39852),r=n.n(l),c=n(54122),h=n(2703),d=n(80184);const m=(0,h.oF)(),p=(0,h.hz)(),u={transitionDuration:0,horizontalOrder:!0};var g,w,f=!1,_=0;class b extends o.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,newPersons:[],count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0,checkThemeheight:!m},this.themeheight=()=>{this.props.heightUpdate(),this.setState({checkThemeheight:!0})},this.scrollDiv_init=()=>{w=document.getElementById("marqueecontainer"),f=!1,(w||{}).scrollTop=0,_=0,this.onScrollData(),this.onScrollWPosts()},this.onScrollData=()=>{const{wall:e}=this.props;e.Personalization.scrollDelay&&(g=setInterval((()=>{this.scrollDiv()}),(e=>{switch(e){case 80:return 60;case 70:return 40;case 50:return 30;case 30:default:return 20;case 20:return 10}})(e.Personalization.scrollDelay)))},this.onScrollWPosts=()=>{const{themeHeight:e}=this.props;w=document.getElementById("marqueecontainer");var t=document.getElementById("wPosts");if(t)if(window.innerHeight>t.clientHeight){var n=window.innerHeight,o=t.clientHeight;t.setAttribute("style","position: relative; margin-bottom: ".concat(n,"px; min-height:").concat(o,"px"))}else w.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(e&&m?e+(p?6:0):0,"px)"))},this.scrollDiv=()=>{g&&clearInterval(g),f?((w||{}).scrollTop=_=0,f=!1,this.onScrollData()):((w||{}).scrollTop=_,_++,f=122464==this.props.wall.Personalization.wallId?(w||{}).scrollTop>=a()("#wPosts").height()-w.offsetHeight:(w||{}).scrollTop>=w.scrollHeight-w.offsetHeight-10,this.onScrollData())},this.onLoadTheme=()=>{const{postData:e}=this.props;e&&e.length>0&&setTimeout((()=>this.setState({loading:!1},(()=>this.scrollDiv_init()))),1e3)},this.onResponsiveTheme=()=>{const{wall:e}=this.props,t=document.querySelector(".tb_app_container").clientWidth-1;if(t>0){let n=null,o=null,i=null,a=null;const s=e.Personalization.minimumPostWidth;n=t/s;let l=Math.trunc(n);i=t%s,o=i/l,a=n>=1?s+o:s-o,this.setState({postWidth:a,cardNumber:n,wHeight:window.innerHeight})}}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme())),m&&this.props.heightUpdate()})),m){document.querySelector(".tb_app_container").addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.onLoadTheme(),this.themeheight()}}componentWillUnmount(){setTimeout((()=>{g&&p&&(clearInterval(g),this.setState({loading:!1}))}),1e3)}componentDidUpdate(e,t){const{postData:n}=e;setTimeout((()=>this.onResponsiveTheme()),p?1e3:0),n!=this.props.postData&&m&&setTimeout((()=>this.setState({loading:!1},(()=>{g&&clearInterval(g),this.scrollDiv_init()}))),1e3)}render(){const{loading:e,postWidth:t,checkThemeheight:n}=this.state;let{postData:i,completeDataObject:a,wall:l,adjustWidth:h,onClickToCTA:p,clickToShowPopUp:g,themeHeight:w}=this.props;const f={backgroundColor:l.ThemeRule.cardColor,padding:"".concat(l.ThemeRule.spacing,"px"),borderRadius:"".concat(l.ThemeRule.borderRadius,"px")};return(0,d.jsx)(d.Fragment,{children:n?(0,d.jsx)("div",{id:m?null:"".concat(62==l.ThemeRule.themeId?"casecade":63==l.ThemeRule.themeId?"focus":64==l.ThemeRule.themeId?"exhibit":"pixel","_").concat(l.ThemeRule.themeId),className:"themeModrnWatrFall ".concat(m?"display":"widget"),children:(0,d.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(w,"px)")},children:(0,d.jsx)(r(),{id:"wPosts",className:"theme".concat(l.ThemeRule.themeId),elementType:"div",options:u,disableImagesLoaded:!1,updateOnEachImageLoad:!0,children:i.map(((n,r)=>{const m=a[n];return i&&i.length-1==r&&setTimeout((()=>{let e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((e=>{e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1500),t&&m?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{id:'"postId'.concat(m.id),className:"feedId".concat(m.feedId," postItem item flatCard  ").concat(m.network.name,"Taggbox ").concat(m.theme48&&"onlyTextCard"===m.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":m.id,"data-highlight":m.highlight,"data-pin":m.pin,style:{padding:l.ThemeRule.padding/2,margin:0,width:(m.highlight,t),minWidth:0,left:0,top:0},"data-created":m.createdAt,children:(0,d.jsx)("div",{className:"post",style:f,children:(0,d.jsx)("div",{className:"postContent",children:e?(0,d.jsx)(s.Z,{height:300}):(0,d.jsx)(o.Suspense,{fallback:(0,d.jsx)(s.Z,{height:300}),children:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.Z,{ownerId:l.Wall.owner,wall:l,itemData:m,itemIndex:r,adjustWidth:h,personalization:l.Personalization,ThemeRule:l.ThemeRule,clickToShowPopUp:g,wallID:l.Wall.id,onClickToCTA:p},r)})})})})},r)}):null}))})})}):null})}}const T=(0,o.memo)(b)},58290:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(72791);const i=o.createContext({}),a=!0;function s(e){let{baseColor:t,highlightColor:n,width:o,height:i,borderRadius:s,circle:l,direction:r,duration:c,enableAnimation:h=a}=e;const d={};return"rtl"===r&&(d["--animation-direction"]="reverse"),"number"===typeof c&&(d["--animation-duration"]="".concat(c,"s")),h||(d["--pseudo-element-display"]="none"),"string"!==typeof o&&"number"!==typeof o||(d.width=o),"string"!==typeof i&&"number"!==typeof i||(d.height=i),"string"!==typeof s&&"number"!==typeof s||(d.borderRadius=s),l&&(d.borderRadius="50%"),"undefined"!==typeof t&&(d["--base-color"]=t),"undefined"!==typeof n&&(d["--highlight-color"]=n),d}function l(e){let{count:t=1,wrapper:n,className:l,containerClassName:r,containerTestId:c,circle:h=!1,style:d,...m}=e;var p,u,g;const w=o.useContext(i),f={...m};for(const[o,i]of Object.entries(m))"undefined"===typeof i&&delete f[o];const _={...w,...f,circle:h},b={...d,...s(_)};let T="react-loading-skeleton";l&&(T+=" ".concat(l));const v=null!==(p=_.inline)&&void 0!==p&&p,y=[],x=Math.ceil(t);for(let i=0;i<x;i++){let e=b;if(x>t&&i===x-1){const n=null!==(u=e.width)&&void 0!==u?u:"100%",o=t%1,i="number"===typeof n?n*o:"calc(".concat(n," * ").concat(o,")");e={...e,width:i}}const n=o.createElement("span",{className:T,style:e,key:i},"\u200c");v?y.push(n):y.push(o.createElement(o.Fragment,{key:i},n,o.createElement("br",null)))}return o.createElement("span",{className:r,"data-testid":c,"aria-live":"polite","aria-busy":null!==(g=_.enableAnimation)&&void 0!==g?g:a},n?y.map(((e,t)=>o.createElement(n,{key:t},e))):y)}}}]);
//# sourceMappingURL=8502.977edc0f.chunk.js.map