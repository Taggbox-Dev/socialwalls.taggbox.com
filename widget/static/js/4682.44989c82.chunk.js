"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4682],{38502:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var n=l(72791),o=l(88890),i=l.n(o),a=l(58290),s=l(39852),r=l.n(s),c=l(54122),h=l(2703),d=l(80184);const u=(0,h.oF)(),p=(0,h.hz)(),m={transitionDuration:0,horizontalOrder:!0};var g,w,y=!1,f=0;class b extends n.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,newPersons:[],count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0,checkThemeheight:!u},this.themeheight=()=>{this.props.heightUpdate(),this.setState({checkThemeheight:!0})},this.scrollDiv_init=()=>{w=document.getElementById("marqueecontainer"),y=!1,(w||{}).scrollTop=0,f=0,this.onScrollData(),this.onScrollWPosts()},this.onScrollData=()=>{const{wall:e}=this.props;e.Personalization.scrollDelay&&(g=setInterval((()=>{this.scrollDiv()}),(e=>{switch(e){case 80:return 60;case 70:return 40;case 50:return 30;case 30:default:return 20;case 20:return 10}})(e.Personalization.scrollDelay)))},this.onScrollWPosts=()=>{const{themeHeight:e}=this.props;w=document.getElementById("marqueecontainer");var t=document.getElementById("wPosts");if(t)if(window.innerHeight>t.clientHeight){var l=window.innerHeight,n=t.clientHeight;t.setAttribute("style","position: relative; margin-bottom: ".concat(l,"px; min-height:").concat(n,"px"))}else w.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(e&&u?e+(p?6:0):0,"px)"))},this.scrollDiv=()=>{g&&clearInterval(g),y?((w||{}).scrollTop=f=0,y=!1,this.onScrollData()):((w||{}).scrollTop=f,f++,y=122464==this.props.wall.Personalization.wallId?(w||{}).scrollTop>=i()("#wPosts").height()-w.offsetHeight:(w||{}).scrollTop>=w.scrollHeight-w.offsetHeight-10,this.onScrollData())},this.onLoadTheme=()=>{const{postData:e}=this.props;e&&e.length>0&&setTimeout((()=>this.setState({loading:!1},(()=>this.scrollDiv_init()))),1e3)},this.onResponsiveTheme=()=>{const{wall:e}=this.props,t=document.querySelector(".tb_app_container").clientWidth-1;if(t>0){let l=null,n=null,o=null,i=null;const a=e.Personalization.minimumPostWidth;l=t/a;let s=Math.trunc(l);o=t%a,n=o/s,i=l>=1?a+n:a-n,this.setState({postWidth:i,cardNumber:l,wHeight:window.innerHeight})}}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme())),u&&this.props.heightUpdate()})),u){document.querySelector(".tb_app_container").addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.onLoadTheme(),this.themeheight()}}componentWillUnmount(){setTimeout((()=>{g&&p&&(clearInterval(g),this.setState({loading:!1}))}),1e3)}componentDidUpdate(e,t){const{postData:l}=e;setTimeout((()=>this.onResponsiveTheme()),p?1e3:0),l!=this.props.postData&&u&&setTimeout((()=>this.setState({loading:!1},(()=>{g&&clearInterval(g),this.scrollDiv_init()}))),1e3)}render(){const{loading:e,postWidth:t,checkThemeheight:l}=this.state;let{postData:o,completeDataObject:i,wall:s,adjustWidth:h,onClickToCTA:p,clickToShowPopUp:g,themeHeight:w}=this.props;const y={backgroundColor:s.ThemeRule.cardColor,padding:"".concat(s.ThemeRule.spacing,"px"),borderRadius:"".concat(s.ThemeRule.borderRadius,"px")};return(0,d.jsx)(d.Fragment,{children:l?(0,d.jsx)("div",{id:u?null:"".concat(62==s.ThemeRule.themeId?"casecade":63==s.ThemeRule.themeId?"focus":64==s.ThemeRule.themeId?"exhibit":"pixel","_").concat(s.ThemeRule.themeId),className:"themeModrnWatrFall ".concat(u?"display":"widget"),children:(0,d.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(w,"px)")},children:(0,d.jsx)(r(),{id:"wPosts",className:"theme".concat(s.ThemeRule.themeId),elementType:"div",options:m,disableImagesLoaded:!1,updateOnEachImageLoad:!0,children:o.map(((l,r)=>{const u=i[l];return o&&o.length-1==r&&setTimeout((()=>{let e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((e=>{e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1500),t&&u?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{id:'"postId'.concat(u.id),className:"feedId".concat(u.feedId," postItem item flatCard  ").concat(u.network.name,"Taggbox ").concat(u.theme48&&"onlyTextCard"===u.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":u.id,"data-highlight":u.highlight,"data-pin":u.pin,style:{padding:s.ThemeRule.padding/2,margin:0,width:(u.highlight,t),minWidth:0,left:0,top:0},"data-created":u.createdAt,children:(0,d.jsx)("div",{className:"post",style:y,children:(0,d.jsx)("div",{className:"postContent",children:e?(0,d.jsx)(a.Z,{height:300}):(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(a.Z,{height:300}),children:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.Z,{ownerId:s.Wall.owner,wall:s,itemData:u,itemIndex:r,adjustWidth:h,personalization:s.Personalization,ThemeRule:s.ThemeRule,clickToShowPopUp:g,wallID:s.Wall.id,onClickToCTA:p},r)})})})})},r)}):null}))})})}):null})}}const v=(0,n.memo)(b)},64277:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(72791),o=l(31725),i=l.n(o),a=function(){return a=Object.assign||function(e){for(var t,l=1,n=arguments.length;l<n;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(e){for(var t=e.url,l=e.allowFullScreen,o=e.position,s=e.display,r=e.height,c=e.width,h=e.overflow,d=e.styles,u=e.onLoad,p=e.onMouseOver,m=e.onMouseOut,g=e.scrolling,w=e.id,y=e.frameBorder,f=e.ariaHidden,b=e.sandbox,v=e.allow,T=e.className,x=e.title,I=e.ariaLabel,S=e.ariaLabelledby,j=e.name,D=e.target,k=e.loading,R=e.importance,W=e.referrerpolicy,C=e.allowpaymentrequest,P=e.src,H=i()({src:P||t,target:D||null,style:{position:o||null,display:s||"block",overflow:h||null},scrolling:g||null,allowpaymentrequest:C||null,importance:R||null,sandbox:b||null,loading:k||null,styles:d||null,name:j||null,className:T||null,referrerpolicy:W||null,title:x||null,allow:v||null,id:w||null,"aria-labelledby":S||null,"aria-hidden":f||null,"aria-label":I||null,width:c||null,height:r||null,onLoad:u||null,onMouseOver:p||null,onMouseOut:m||null}),_=Object.create(null),O=0,E=Object.keys(H);O<E.length;O++){var N=E[O];null!=H[N]&&(_[N]=H[N])}for(var q=0,z=Object.keys(_.style);q<z.length;q++){var A=z[q];null==_.style[A]&&delete _.style[A]}if(l)if("allow"in _){var L=_.allow.replace("fullscreen","");_.allow=("fullscreen "+L.trim()).trim()}else _.allow="fullscreen";return y>=0&&(_.style.hasOwnProperty("border")||(_.style.border=y)),n.createElement("iframe",a({},_))}},58290:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(72791);const o=n.createContext({}),i=!0;function a(e){let{baseColor:t,highlightColor:l,width:n,height:o,borderRadius:a,circle:s,direction:r,duration:c,enableAnimation:h=i}=e;const d={};return"rtl"===r&&(d["--animation-direction"]="reverse"),"number"===typeof c&&(d["--animation-duration"]="".concat(c,"s")),h||(d["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(d.width=n),"string"!==typeof o&&"number"!==typeof o||(d.height=o),"string"!==typeof a&&"number"!==typeof a||(d.borderRadius=a),s&&(d.borderRadius="50%"),"undefined"!==typeof t&&(d["--base-color"]=t),"undefined"!==typeof l&&(d["--highlight-color"]=l),d}function s(e){let{count:t=1,wrapper:l,className:s,containerClassName:r,containerTestId:c,circle:h=!1,style:d,...u}=e;var p,m,g;const w=n.useContext(o),y={...u};for(const[n,o]of Object.entries(u))"undefined"===typeof o&&delete y[n];const f={...w,...y,circle:h},b={...d,...a(f)};let v="react-loading-skeleton";s&&(v+=" ".concat(s));const T=null!==(p=f.inline)&&void 0!==p&&p,x=[],I=Math.ceil(t);for(let o=0;o<I;o++){let e=b;if(I>t&&o===I-1){const l=null!==(m=e.width)&&void 0!==m?m:"100%",n=t%1,o="number"===typeof l?l*n:"calc(".concat(l," * ").concat(n,")");e={...e,width:o}}const l=n.createElement("span",{className:v,style:e,key:o},"\u200c");T?x.push(l):x.push(n.createElement(n.Fragment,{key:o},l,n.createElement("br",null)))}return n.createElement("span",{className:r,"data-testid":c,"aria-live":"polite","aria-busy":null!==(g=f.enableAnimation)&&void 0!==g?g:i},l?x.map(((e,t)=>n.createElement(l,{key:t},e))):x)}}}]);
//# sourceMappingURL=4682.44989c82.chunk.js.map