"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6574],{77050:(t,e,o)=>{o.r(e),o.d(e,{default:()=>m});var i=o(72791),s=o(77581),a=o(13728),n=o(47071),l=(o(45434),o(9279)),r=o(32505),d=o(2703),c=o(80184);class p extends i.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,platform:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,mediaSize:{height:500,width:500},isDataCount:0,checktimeout:0,isPopUpHide:!0},this.loadPopUpWithTimer=t=>{const{wall:e}=this.props,{checktimeout:o}=this.state,i=1e3*e.ThemeRule.timeForPopup;setTimeout((()=>{const s=0===e.ThemeRule.timeForPopup?5e3:i;0==o?this.setState({checktimeout:1,isPopUpHide:!0},(()=>t?this.onLoadedPopUp():setTimeout(this.onLoadedPopUp,s))):this.setState({isPopUpHide:!1},(()=>setTimeout((()=>this.onLoadedPopUp()),s)))}),0===e.ThemeRule.timeForPopup?5e3:i,{position:1})},this.onLoadedPopUp=()=>{const{checktimeout:t}=this.state;if(1==t){const{itemData:t}=this.props,{isDataCount:e}=this.state;e>=t.postData.length-1?(document.getElementById("modalPost").style.display="none",setTimeout((()=>this.setState({checktimeout:0,isDataCount:0,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3)):(setTimeout((()=>this.setState({checktimeout:0,isDataCount:e+1,isPopUpHide:!1},(()=>this.loadPopUpWithTimer()))),5e3),document.getElementById("modalPost").style.display="none")}},this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,personalization:t.personalization,type:t.type}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.mediaSize=t=>{this.setState({mediaSize:{height:t.height,width:t.width}})}}componentDidMount(){const{data:t}=this.props;let e=document.querySelector(".tb_app_container"),o=d.b8?d.b8:e.parentNode.id;this.setState({parentID:o}),this.getWidgetPopUPEvent(t),setTimeout((()=>{var e=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));e&&e.classList.add("tb_post_modal_show"),void 0!=t.ThemeRule.themeId&&47==t.ThemeRule.themeId&&e&&(e.style.overflow="hidden")}));var i=document.getElementsByTagName("html");i&&i[0]&&(i[0].style.overflow="hidden"),this.loadPopUpWithTimer(!0)}render(){const{wall:t,languageSetting:e,brandingNetworks:o}=this.props,{isPopUpHide:s,isDataCount:d,completeData:p,parentID:m,mediaSize:_}=this.state;let h=null;return h=-1===d?p[0]:p[d],h&&m&&Object.keys(h).length>0&&s?(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)("div",{id:"modalPost",className:"modalId taggModalShow tb_modal tb_fade  themeModal".concat(t.Personalization.theme," poweredbytaggbox__ ").concat(!0===s?"":"show"),children:(0,c.jsx)("div",{className:"tb_modal_dialog taggModal",children:(0,c.jsxs)("div",{className:"tb_conetent",children:[(0,c.jsx)("div",{className:"tb_post_modal_modal_head",children:(0,c.jsx)("div",{className:"tb_post_modal_modal_header",children:(0,c.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,c.jsx)("div",{className:"tb_post_modal_post_address",children:h.link?(0,c.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(h.link,"_blank"),children:[(0,c.jsxs)("div",{className:"tb_post_modal_view",children:[e.viewOnText," ",h.network.name]}),(0,c.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})})})}),(0,c.jsxs)("div",{className:"tb_post_modal_modal_body",style:{backgroundColor:t.ThemeRule.cardColor},children:[1!=h.type?(0,c.jsx)("div",{className:"tb_post_modal_details_left",children:(0,c.jsx)(a.Z,{data:h,wall:t,mediaSizeCallback:this.mediaSize})}):null,(0,c.jsx)("div",{className:"tb_post_modal_details_right ".concat(1===h.type?"tb_post_modal_text__":""),style:{backgroundColor:h.font.cardColor},children:(0,c.jsx)("div",{className:"tb_post_modal_content_wrap",children:(0,c.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[(0,c.jsx)(n.Z,{item:h,ThemeRule:t.ThemeRule,Personalization:t.Personalization,ownerId:t.Wall.owner},"author_".concat(h.id)),(0,c.jsx)(l.Z,{ThemeRule:t.ThemeRule,Personalization:t.Personalization,item:h,contentData:h.content,contentTitle:h.contentTitle,mediaSize:_},h.id)]})})}),t.UserRule.branding_lite&&1==t.UserRule.branding_lite?(0,c.jsx)(r.Z,{brandingNetworks:o,languageSetting:e,wallId:t.Wall.id}):null]})]})})})," "]}):null}}const m=(0,s.$j)((t=>({loaderData:t.loaderData,postHeight:t.postHeight.data})))(p)},47071:(t,e,o)=>{o.d(e,{Z:()=>r});var i=o(72791),s=o(70757),a=o(2703),n=o(14496),l=o(80184);class r extends i.PureComponent{constructor(t){super(t),this.state={picture:t.item.author.picture,isAuthorImagevalid:!0}}componentWillReceiveProps(t){const{item:e}=t;this.setState({picture:e.author.picture})}render(){const{item:t,ThemeRule:e,ownerId:o}=this.props,i=t.author.picture&&String(t.author.picture).includes("author")?" ":t.author.picture.replace(/[ ]+/g,""),r="".concat(t.author.username&&t.author.username.length>0?"@":"").concat(t.author.username),d=0!=t.postAuthor&&!t.author.isInstaUser,c=0!=t.postAuthor&&0!=t.timePost&&!t.author.isInstaUser,p=0!=t.timePost,m={color:e.authorColor},_={backgroundColor:e.authorColor};return(0,l.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,l.jsxs)("div",{className:"tb_post_modal_author_details",children:[d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"tb_post_modal_author_media",style:{backgroundImage:"url(".concat(i,")")},onClick:e=>t.link?window.open(t.link,"_blank"):null,children:!this.state.isAuthorImagevalid&&(0,l.jsx)(n.Z,{network:t.network,username:t.author.name,authorClass:"tb_post_modal_author_media"})}),(0,l.jsx)("img",{loading:"lazy",src:i,alt:(0,a.P)(i),height:"68",width:"68",style:{display:"none"},onError:t=>{this.setState({isAuthorImagevalid:!1})}})]}):null,(0,l.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[d?(0,l.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,l.jsxs)("div",{className:"tb_post_modal_author_usrname",style:m,onClick:e=>t.link?window.open(t.link):null,children:[t.author.name," "]})}):null,(0,l.jsxs)("div",{className:"tb_post_modal_author_info",children:[d?(0,l.jsx)("div",{className:"tb_post_modal_author_handlename",style:m,children:r}):null,c?(0,l.jsx)("div",{className:"tb_post_modal_seprator_dot",style:_,children:" "}):null,p?(0,l.jsx)("span",{className:"tb_post_modal_post_time",style:m,children:(0,a.Sy)(t.createdAt)}):null]})]})]}),(0,l.jsx)("div",{className:"tb_post_modal_social_wrapper",onClick:e=>t.link?window.open(t.link,"_blank"):null,children:(0,l.jsx)(s.default,{network:t.network,networkClass:"tb_post_modal_social_ico tb__icon",font:(0,a.$d)()&&505==e.iconType?e.iconColor:t.font,ThemeRule:e,isPopUp:!0})})]})}}},32505:(t,e,o)=>{o.d(e,{Z:()=>r});var i=o(72791),s=o(70188),a=o(2703),n=o(80184);function l(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important")}class r extends i.PureComponent{render(){const{brandingNetworks:t,languageSetting:e,wallId:o}=this.props,i="".concat((0,a.$t)(t,o)[0]).concat(s.Si);return(0,n.jsxs)("a",{href:i,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-35px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding","4px 0","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),l(t))},children:[(0,n.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","14px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","6px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","Inter","important"),l(t))},children:[Object.keys(e).length>0&&e.poweredBy?e.poweredBy:"Powered by"," "]}),(0,n.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(".concat(s.do,"/media/images/taggbox_logo-light.svg)"),"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","26px","important"),t.style.setProperty("min-height","26px","important"),t.style.setProperty("width","96px","important"),t.style.setProperty("min-width","96px","important"),l(t))}})]})}}},9279:(t,e,o)=>{o.d(e,{Z:()=>p});var i=o(72791),s=o(34867),a=o(80184);const n=t=>{let{network:e}=t;switch(e.id){case 3:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon tb-rating",style:{color:"#1b74e4"},"tb-network":e.id,children:" "});case 4:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon  tb-rating tb-google-rating",style:{color:"#F8B90C"},"tb-network":e.id,children:" "});case 19:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon  tb-rating tb-yelp-rating",style:{color:"#e00707"},"tb-network":e.id,children:(0,a.jsx)("div",{className:"tb__icon tb-yelp-star",children:" "})});case 23:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon  tb-rating tb-airbnb-rating",style:{color:"#ff385c"},"tb-network":e.id,children:" "});case 29:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon tb-rating",style:{color:"#613983",fontSize:30},"tb-network":e.id,children:" "});default:return(0,a.jsx)("div",{className:"tb_modal_rating_ico__ tb__icon tb-rating",style:{color:"#F8B90C",fontSize:30},"tb-network":e.id,children:" "})}};class l extends i.PureComponent{render(){const{rating:t,network:e}=this.props;return(0,a.jsx)("div",{className:"tb__modal_rating__",children:t?[...Array(t)].map(((t,o)=>(0,a.jsx)(n,{network:e},o))):null})}}var r=o(60173),d=o(2703),c=o(46476);class p extends i.PureComponent{render(){const{contentTitle:t,item:e,Personalization:o,ThemeRule:i,mediaSize:n}=this.props,p=r.tq?e.font.fontsize:r.Em?e.font.fontsize+2:e.font.fontsize+5,m={fontFamily:i.css_font,fontSize:p,color:e.font.fontColor};let _=20==e.network.id?this.props.contentData:(0,d.Fx)(this.props.contentData);12==e.network.id&&(_=(0,s.ZP)(_));const h=o.textDecorate?" tb_post_modal_text_decorate":"";return 47===i.themeId&&(document.querySelector("html").style.overflow="auto"),(0,a.jsx)("div",{className:"tb_post_modal_post_wrapper",style:{height:1!=e.type?n.height-90:"auto"},children:(0,a.jsx)("div",{className:"tb_post_modal_post_wrap_in",children:(0,a.jsxs)("div",{className:"tb_post_modal_post_content tb-cTBfont-".concat(i.font_varient),style:m,children:[e.rating?(0,a.jsx)(l,{rating:e.rating,network:e.network}):null,(0,a.jsxs)("div",{className:"tb_post_modal_content ".concat(h),children:[t?(0,a.jsx)("div",{className:"tb_post_bold_txt",children:(0,s.ZP)(t)}):null,(0,a.jsx)(c.Z,{data:e,content:_,Personalization:o})]})]})})},"content_".concat(e.id))}}},53108:(t,e,o)=>{o.d(e,{Z:()=>r});var i=o(72791),s=o(79200),a=o(2703),n=o(80184);const l=JSON.parse(window.localStorage.getItem("mediaDimension"));class r extends i.PureComponent{constructor(t){super(t),this.updateImageDimensions=()=>{if(this.mediaRef.current){1===this.mediaRef.current.getAttribute("data-load")&&this.setState({imgUrl:this.mediaRef.current.src});const t=[this.mediaRef.current.offsetHeight,this.mediaRef.current.offsetWidth];window.localStorage.setItem("mediaDimension",JSON.stringify(t)),this.setState({mediaLoaded:!0,mediaSize:{height:this.mediaRef.current.offsetHeight,width:this.mediaRef.current.offsetWidth}},(()=>this.props.mediaSizeCallback({height:this.state.mediaSize.height,width:this.state.mediaSize.width})))}},this.state={mediaSize:{height:null!=l?l[0]:"85vh",width:null!=l?l[1]:"85vh"},mediaLoaded:!1,imgUrl:t.ImageUrl},this.mediaRef=i.createRef()}componentWillReceiveProps(t){const{ImageUrl:e}=t;this.state.imgUrl!==e&&this.setState({imgUrl:e,mediaLoaded:!1})}componentDidMount(){window.addEventListener&&window.addEventListener("resize",this.updateImageDimensions)}componentWillUnmount(){window.removeEventListener("resize",this.updateImageDimensions)}render(){const{data:t,wall:e,opacity:o}=this.props,{imgUrl:i,mediaSize:l,mediaLoaded:r}=this.state;return(0,n.jsx)("div",{className:"tb_post_modal_img_holder".concat(r?"":" tb_media_modal_spinner"),style:{minHeight:r?null:l.height,minWidth:r?null:l.width},children:(0,n.jsx)("img",{className:"tb_post_modal_img_",decoding:"async",ref:this.mediaRef,src:i,alt:(0,a.P)(i),"data-link":t.link,"data-network":t.network.id,"data-wall-id":e.Wall.id,"data-owner-id":e.Wall.owner,"data-item-id":t.id,"data-filter-id":t.filterId,"data-load":"0",onLoad:this.updateImageDimensions,onError:t.stories?null:t=>{(0,s.ht)(t)},loading:"lazy",draggable:"false",style:{opacity:r?o:0}},i)})}}},13728:(t,e,o)=>{o.d(e,{Z:()=>c});var i=o(72791),s=o(53108),a=o(78764),n=o(27137),l=(o(67226),o(80184));class r extends i.PureComponent{constructor(t){super(t)}render(){const{data:t}=this.props;return(0,l.jsxs)("div",{className:"tb_post_modal_media_holder",children:[(0,l.jsx)("div",{className:"tb_post_modal_audio_thumb_blur",style:{backgroundImage:"url(".concat(t.postFileNew,")")},children:(0,l.jsx)("div",{})}),(0,l.jsx)("div",{className:"tb_post_modal_audio_thumb",style:{backgroundImage:"url(".concat(t.postFileNew,")")},children:(0,l.jsx)("div",{})}),(0,l.jsx)("div",{className:"tb_post_modal_audio_wrapper",children:(0,l.jsx)(n.Z,{className:"tb_post_modal_audio",autoPlay:!0,showJumpControls:!1,showDownloadProgress:!1,showFilledProgress:!1,hasDefaultKeyBindings:!1,layout:"horizontal-reverse",customVolumeControls:[],customAdditionalControls:[],src:t.mediaUrl})})]})}}const d=i.lazy((()=>Promise.all([o.e(8282),o.e(9208)]).then(o.bind(o,89208))));class c extends i.PureComponent{constructor(){super(...arguments),this.mediaSize=t=>{this.props.mediaSizeCallback(t)}}render(){const{data:t}=this.props;return(0,l.jsx)("div",{className:"tb_post_modal_media_holder",children:t.imageList&&t.imageList.length>0?(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(d,{imageList:t.imageList,...this.props})}):2===t.type||4===t.type?(0,l.jsx)(s.Z,{ImageUrl:t.filename,...this.props,mediaSizeCallback:this.mediaSize,opacity:1}):3===t.type||5===t.type?t&&t.isAudio?(0,l.jsx)(r,{...this.props}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{ImageUrl:t.filename,...this.props,mediaSizeCallback:this.mediaSize,opacity:1}),(0,l.jsx)(a.Z,{...this.props})]}):null})}}},45434:(t,e,o)=>{o.d(e,{Z:()=>r});var i=o(72791),s=o(77581),a=o(79200),n=o(80184);class l extends i.PureComponent{constructor(){super(...arguments),this.onShareFacebooklink=t=>e=>{window.open(t,"_target");const{item:o,wall:i}=this.props;(0,a.S5)({type:2,action:2,wall:i.Wall.id,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:i.Wall.owner}),(0,a.Fv)("Tagbox","popup_share_click","popup_share",i.Wall.id)},this.onTwitterClick=t=>{const{item:e,wall:o}=this.props;t&&((0,a.S5)({type:2,action:2,wall:o.Wall.id,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:o.Wall.owner}),(0,a.Fv)("Tagbox","popup_share_click","popup_share",o.Wall.id)),window.open(e.share.twitter,"_target")},this.linkedinShareCount=t=>e=>{const{item:o,wall:i}=this.props;(0,a.S5)({type:2,action:2,wall:i.Wall.id,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:i.Wall.owner}),(0,a.Fv)("Tagbox","popup_share_click","popup_share",i.Wall.id),window.open(t,"_target")}}componentDidMount(){window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)})),window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)}))}componentWillReceiveProps(t){window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)})),window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)}))}render(){const{sharePostPopUP:t,item:e,color:o}=this.props,i={color:o};return(0,n.jsx)("div",{className:"tb_post_modal_post_footer_social_",children:(0,n.jsxs)("div",{className:"tb_post_modal_share_ico",children:[(0,n.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,n.jsx)("div",{onClick:this.onShareFacebooklink(e.share.facebook),children:(0,n.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-facebook",style:i,children:" "})})}),(0,n.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,n.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:this.onTwitterClick,style:i})}),(0,n.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,n.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:this.linkedinShareCount(e.share.linkedin),style:i})}),e.link?(0,n.jsx)("div",{className:"tb_post_modal_social_ico_list___",onClick:o=>t(e),children:(0,n.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-Mail",style:i,children:" "})}):null,e.link?(0,n.jsx)("div",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:t=>window.open(e.link,"_blank"),children:(0,n.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-link",style:i,children:" "})}):null]})})}}const r=(0,s.$j)(null,(t=>({sharePostPopUP:e=>t((0,a.K8)(e))})))(l)},78764:(t,e,o)=>{o.d(e,{Z:()=>n});var i=o(72791),s=o(96710),a=o(80184);class n extends i.PureComponent{constructor(t){super(t),this.setVideoLoaded=t=>{this.setState({videoLoaded:t})},this.state={videoLoaded:!1},this.VideoWrap=i.createRef()}render(){const{data:t,wall:e}=this.props,{videoLoaded:o}=this.state;return(0,a.jsx)("div",{className:"tb_post_modal_video_holder".concat(o?" tb_post_video_loaded":""),ref:this.VideoWrap,children:(0,a.jsx)(s.Z,{className:"tb_post_modal_video",url:t.mediaUrl,"data-type":"video","data-network":t.networkId,"data-link":t.link,"data-wall-id":e.Wall.id,"data-item-id":t.id,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto"}}},loop:!0,onError:t=>{this.setVideoLoaded(!1)},autoPlay:!0,muted:!0,volume:0,playsinline:!0,onReady:t=>{this.setVideoLoaded(!0)},playing:!0,height:"100%",width:"100%"})},t.mediaUrl)}}}}]);
//# sourceMappingURL=6574.655fdcb2.chunk.js.map