"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[334],{40334:(t,e,o)=>{o.r(e),o.d(e,{default:()=>v});var n=o(72791),i=o(88890),s=o.n(i),a=o(58290),l=o(39852),r=o.n(l),c=o(54122),d=o(2703),h=o(80184);const p={transitionDuration:0,horizontalOrder:!0};var m,u,g=!1,w=0;const f=(0,d.oF)(),_=(0,d.hz)();class b extends n.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,newPersons:[],count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0},this.scrollDiv_init=()=>{u=document.getElementById("marqueecontainer"),g=!1,(u||{}).scrollTop=0,w=0,this.onScrollData(),this.onScrollWPosts()},this.onScrollData=()=>{const{wall:t}=this.props;t.Personalization.scrollDelay&&(m=setInterval((()=>{this.scrollDiv()}),90))},this.onScrollWPosts=()=>{const{themeHeight:t}=this.props;u=document.getElementById("marqueecontainer");var e=document.getElementById("wPosts");if(e)if(window.innerHeight>e.clientHeight){var o=window.innerHeight,n=e.clientHeight;e.setAttribute("style","position: relative; margin-bottom: ".concat(o,"px; min-height:").concat(n,"px"))}else u.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(t||0,"px)"))},this.scrollDiv=()=>{const{postData:t}=this.props,e=t&&t.length?s()(".postItem").eq(t.length-1).height()/2:300;m&&clearInterval(m),g?((u||{}).scrollTop=w=0,g=!1,this.onScrollData()):((u||{}).scrollTop=w,w++,g=122464==this.props.wall.Personalization.wallId?(u||{}).scrollTop>=s()("#wPosts").height()-(u||{}).offsetHeight:(u||{}).scrollTop>=(u||{}).scrollHeight-(u||{}).offsetHeight-e,this.onScrollData())},this.onLoadTheme=()=>{const{postData:t}=this.props;t&&t.length>0&&setTimeout((()=>this.setState({loading:!1},(()=>this.scrollDiv_init()))),1e3)},this.onResponsiveTheme=()=>{const{wall:t}=this.props,e=document.querySelector(".tb_app_container").clientWidth-1;if(e>0){let o=null,n=null,i=null,s=null;const a=t.Personalization.minimumPostWidth;o=e/a;let l=Math.trunc(o);i=e%a,n=i/l,s=o>=1?a+n:a-n,this.setState({postWidth:s,cardNumber:o,wHeight:window.innerHeight})}}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),f){document.querySelector(".tb_app_container").addEventListener("wheel",(t=>t.preventDefault()),{passive:!1}),this.onLoadTheme(),this.props.heightUpdate()}}componentWillUnmount(){setTimeout((()=>{m&&_&&(clearInterval(m),this.setState({loading:!1}))}),1e3)}componentDidUpdate(t,e){const{postData:o,wall:n}=t;setTimeout((()=>this.onResponsiveTheme()),_?1e3:0),f&&this.props.heightUpdate(),o!=this.props.postData&&f&&setTimeout((()=>this.setState({loading:!1},(()=>{m&&clearInterval(m),this.scrollDiv_init()}))),1e3)}render(){const{loading:t,postWidth:e}=this.state,{themeHeight:o}=this.props;let{postData:i,completeDataObject:s,wall:l,adjustWidth:d,onClickToCTA:m,clickToShowPopUp:u}=this.props;const g={backgroundColor:l.ThemeRule.cardColor,padding:"".concat(l.ThemeRule.spacing,"px"),borderRadius:"".concat(l.ThemeRule.borderRadius,"px")};return(0,h.jsx)(h.Fragment,{children:e?(0,h.jsx)("div",{className:"themeSquare ".concat(f?"themeModrnWatrFall display":"widget"),children:(0,h.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(o,"px)")},children:(0,h.jsx)(r(),{id:"wPosts",className:"theme".concat(l.ThemeRule.themeId),elementType:"div",options:p,disableImagesLoaded:!1,updateOnEachImageLoad:!0,children:i.map(((o,r)=>{const p=s[o];if(i&&i.length-1==r&&setTimeout((()=>{let t=document.querySelectorAll("img[data-is-optmized='0']");t&&t.length>0&&t.forEach((t=>{t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("data-is-optmized","1")}))}),1500),l.Personalization.postAuthor&&!p.author.isInstaUser||p.file)return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{id:'"postId'.concat(p.id),className:"feedId".concat(p.feedId," postItem item flatCard  ").concat(p.network.name,"Taggbox ").concat(p.theme48&&"onlyTextCard"===p.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":p.id,"data-highlight":p.highlight,"data-pin":p.pin,style:{padding:l.ThemeRule.padding/2,margin:0,width:e,minWidth:0,left:0,top:0},"data-created":p.createdAt,children:(0,h.jsx)("div",{className:"post",style:g,children:(0,h.jsx)("div",{className:"postContent",children:t?(0,h.jsx)(a.Z,{height:300}):(0,h.jsx)(n.Suspense,{fallback:(0,h.jsx)(a.Z,{height:300}),children:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{ownerId:l.Wall.owner,wall:l,itemData:p,itemIndex:r,adjustWidth:d,personalization:l.Personalization,ThemeRule:l.ThemeRule,clickToShowPopUp:u,wallID:l.Wall.id,onClickToCTA:m},r)})})})})},r)," "]}):null}))})},o)}):null})}}const v=(0,n.memo)(b)},54122:(t,e,o)=>{o.d(e,{Z:()=>p});var n=o(72791),i=o(77581),s=o(49671),a=o(68329),l=o(42308),r=o(19036),c=o(70757),d=o(80184);class h extends n.PureComponent{render(){const{itemData:t,personalization:e,ThemeRule:o,clickToShowPopUp:n,itemIndex:i,wall:h,ownerId:p}=this.props,m=2===t.type||3===t.type||4===t.type||5===t.type,u=t.rating>0,g=t.rating>0?"tb_mwf_rating_content":"tb_mwf_content",w=1===t.type&&e.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",f=!(!e.postAuthor||t.author.isInstaUser);return(0,d.jsx)("div",{className:"tb_mwf_post_wrapper","data-id":t.id,"tb-network":t.network.icon,children:(0,d.jsxs)("div",{className:"tb_mwf_post_in",onClick:n(i,t),children:[(0,d.jsxs)("div",{className:"tb_mwf_post_media_wrapp",children:[m||65==o.themeId?null:(0,d.jsxs)("div",{className:"tb_mwf_social_top_",children:[" ",(0,d.jsx)(c.default,{networkClass:"tb_mwf_social_center_ico",network:t.network,ThemeRule:o,font:o.font})," "]}),m?(0,d.jsx)(a.Z,{itemData:t,wallID:h.id},t.id):null,u?(0,d.jsxs)("div",{className:"tb_mwf_rating__ ".concat(29===t.network.id?"tb_mwf_onsite_rating__":""),children:[(0,d.jsx)(r.Z,{rating:t.rating,network:t.network})," "]}):null]}),!o.captionStatus&&(f||e.postTime||t.network.id&&o.socialAction)?(0,d.jsxs)("div",{className:e.postAuthor||o.socialAction||e.postTime?"tb_mwf_contant_wrapper":"",children:[(0,d.jsx)(s.Z,{ownerId:p,mediaType:m,postTime:t.createdAt,author:t.author,network:t.network,font:o.iconColor,personalization:e,ThemeRule:o}),o.hideContent||[65,63].includes(o.themeId)?null:(0,d.jsx)(l.Z,{item:t,contentClass:"".concat(g," ").concat(w),font:o.font,ThemeRule:o,personalization:e,contentTitle:t.contentTitle},t.id)]}):null]})})}}const p=(0,i.$j)((t=>({modalPop:t.modalPop})))(h)},58290:(t,e,o)=>{o.d(e,{Z:()=>l});var n=o(72791);const i=n.createContext({}),s=!0;function a(t){let{baseColor:e,highlightColor:o,width:n,height:i,borderRadius:a,circle:l,direction:r,duration:c,enableAnimation:d=s}=t;const h={};return"rtl"===r&&(h["--animation-direction"]="reverse"),"number"===typeof c&&(h["--animation-duration"]="".concat(c,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(h.width=n),"string"!==typeof i&&"number"!==typeof i||(h.height=i),"string"!==typeof a&&"number"!==typeof a||(h.borderRadius=a),l&&(h.borderRadius="50%"),"undefined"!==typeof e&&(h["--base-color"]=e),"undefined"!==typeof o&&(h["--highlight-color"]=o),h}function l(t){let{count:e=1,wrapper:o,className:l,containerClassName:r,containerTestId:c,circle:d=!1,style:h,...p}=t;var m,u,g;const w=n.useContext(i),f={...p};for(const[n,i]of Object.entries(p))"undefined"===typeof i&&delete f[n];const _={...w,...f,circle:d},b={...h,...a(_)};let v="react-loading-skeleton";l&&(v+=" ".concat(l));const T=null!==(m=_.inline)&&void 0!==m&&m,y=[],x=Math.ceil(e);for(let i=0;i<x;i++){let t=b;if(x>e&&i===x-1){const o=null!==(u=t.width)&&void 0!==u?u:"100%",n=e%1,i="number"===typeof o?o*n:"calc(".concat(o," * ").concat(n,")");t={...t,width:i}}const o=n.createElement("span",{className:v,style:t,key:i},"\u200c");T?y.push(o):y.push(n.createElement(n.Fragment,{key:i},o,n.createElement("br",null)))}return n.createElement("span",{className:r,"data-testid":c,"aria-live":"polite","aria-busy":null!==(g=_.enableAnimation)&&void 0!==g?g:s},o?y.map(((t,e)=>n.createElement(o,{key:e},t))):y)}}}]);
//# sourceMappingURL=334.a5f084e1.chunk.js.map