"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6931],{98270:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(72791),i=a(80413),o=(a(70188),a(96710)),r=a(80184);class n extends s.PureComponent{constructor(t){super(t),this.updateDimensions=()=>{const{size:t}=this.props;let e=this.VideoWrap.current.getBoundingClientRect().width;e?this.setState({newSize:{height:(e*t.height/t.width).toFixed(),width:e.toFixed()}}):this.setState({newSize:{height:300,width:300}})},this.onMediaLoad=async t=>{const{data:e}=this.props,{imgUrl:a}=this.state;if(e&&Object.keys(e).length>0&&[4,5,3].includes(e.type))if(e.mediaHeight&&""!=e.mediaHeight&&e.mediaWidth&&""!=e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:e}=await(0,i.Ad)(a);this.setState({mediaSize:{height:e,width:t}})}catch(s){this.setState({loadError:!0,mediaSize:{height:100,width:100}})}},this.onLoad=t=>{1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src})},this.setVideoLoaded=t=>{this.setState({videoLoaded:t})},this.state={loadError:!1,imgUrl:this.props.imgUrl,newSize:{height:300,width:300},mediaSize:{height:100,width:100},videoLoaded:!1},this.VideoWrap=s.createRef()}componentDidMount(){const{data:t}=this.props;let e=document.querySelector("#video_p_".concat(t.id));e&&(e.play(),e.muted=!0),setTimeout((()=>{this.updateDimensions()}),100),this.props.size||this.onMediaLoad()}render(){const{VideoClass:t,data:e,wallID:a,isCover:s,size:i}=this.props,{imgUrl:n,newSize:d,mediaSize:l,videoLoaded:c}=this.state,h={paddingBottom:i?"".concat(i,"%"):100*l.height/l.width+"%"};return(0,r.jsx)("div",{className:"".concat(t,"_wrap_ mediaHolder").concat(e.id),style:h,ref:this.VideoWrap,children:(0,r.jsx)(o.Z,{className:t,url:e.mediaUrl,"data-type":"video","data-network":e.networkId,"data-link":e.link,"data-wall-id":a,"data-item-id":e.id,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto"}}},loop:!0,onError:t=>{this.setVideoLoaded(!1)},autoPlay:!0,muted:!0,volume:0,playsinline:!0,onReady:t=>{this.setVideoLoaded(!0)},playing:!0,height:"100%",width:"100%",controls:!1,style:{backgroundImage:c?"":"url(".concat(e.postFileNew,")"),backgroundSize:s?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})}}},86931:(t,e,a)=>{a.r(e),a.d(e,{default:()=>_});var s=a(72791),i=a(48282),o=a(40115),r=a(98270),n=a(80184);const d=t=>{let{itemData:e,wallID:a,ownerId:s,wall:i}=t;const d=!!(e.imageList&&e.imageList.length>0),l=(e.imageList&&e.imageList.length)>0&&(3===e.type||5===e.type)?"tb_stt_multi_images_ico_bottom":"tb_stt_multi_images_ico",c=(3===e.type||5===e.type)&&28!==e.network.id&&1==i.ThemeRule.autoPlay;return(0,n.jsxs)("div",{className:"tb_stt_media_wrap",children:[d?(0,n.jsx)("div",{className:"".concat(l," tb__icon tb-multiple"),children:" "}):"",c?(0,n.jsx)(r.Z,{VideoClass:"tb_stt_video",data:e,wallID:a,themeID:i.Personalization.widgetTheme,ownerId:s,size:200}):(0,n.jsx)(o.default,{ImageClass:"tb_stt_image",data:e,wallID:a,themeID:i.Personalization.widgetTheme,ownerId:s,size:200})]})};var l=a(97234),c=a(70757);const h=t=>{let{author:e,personalization:a,network:s,ThemeRule:i,font:o,ownerId:r}=t;const d=e.username&&e.username.length>0?"@".concat(e.username):"",h={color:i.authorColor},p={color:i.fontColor,fontSize:i.fontSize,fontFamily:i.css_font},_=!(!a.postAuthor||e.isInstaUser);return(0,n.jsxs)("div",{className:"tb_stt_content_wrap",children:[(0,n.jsx)("div",{className:"tb_stt_author_img",children:_?(0,n.jsx)(l.default,{author:e,network:s,authorClass:"tb_stt_author_img_00"}):" "}),(0,n.jsxs)("div",{className:"tb_stt_author_info",children:[(0,n.jsx)(c.default,{networkClass:"tb_stt_social_icon",network:s,ThemeRule:i,font:o}),(0,n.jsxs)("div",{className:"tb_stt_author_001",children:[0===i.hideContent?(0,n.jsx)("div",{className:"tb_stt_hashtag tb-cTBfont-".concat(i.font_varient),style:p,children:d}):"",_||100231===r?(0,n.jsx)("div",{className:"tb_stt_author_name",style:h,children:e.name}):""]})]})]})},p=t=>{let{itemData:e,personalization:a,adjustWidth:s,ThemeRule:i,wallID:o,ownerId:r,wall:l}=t;const c={width:"".concat(s,"%"),cursor:"pointer"},p={backgroundColor:e.font.cardColor},_=2===e.type||3===e.type||4===e.type||5===e.type;return(0,n.jsx)("div",{id:"tb-stt-post-".concat(e.id),className:"tb_stt_post_wrapper",style:c,"tb-network":e.network.icon,children:(0,n.jsxs)("div",{className:"tb_stt_card_wrapper",style:p,children:[_?(0,n.jsx)("div",{className:"tb_stt_media_img",children:(0,n.jsx)(d,{itemData:e,wallID:o,wall:l,ownerId:r})}):"",(0,n.jsx)("div",{className:"tb_stt_card_wrapper_00",children:(0,n.jsx)("div",{className:"tb_stt_card_content_0",children:(0,n.jsx)(h,{ownerId:r,postTime:e.createdAt,author:e.author,network:e.network,font:e.font,personalization:a,ThemeRule:i})})})]})})};a(59169);class _ extends s.PureComponent{constructor(t){super(t),this.state={arrowWidth:0},this.onResponsiveCardItem=()=>{const t=document.querySelector(".splide__slide.is-active");if(t){const e=t.clientWidth+30;this.setState({arrowWidth:e})}},this.secondaryRef=s.createRef()}componentDidMount(){this.onResponsiveCardItem(),window.addEventListener("resize",(()=>this.onResponsiveCardItem())),setTimeout((()=>{document.querySelectorAll(".splide__slide").forEach(((t,e)=>{t.removeAttribute("role")}))}),100);const{postData:t,completeDataObject:e,onClickPopUpSlider:a}=this.props;this.secondaryRef.current&&this.secondaryRef.current.slides.length>0&&this.secondaryRef.current.slides.map(((s,i)=>{if(s.classList){const i=String(s.classList.value).split(" ").filter((t=>String(t).includes("tb_")));var o=i[0];String(i[0]).includes("tb_")&&(o=String(i[0]).replace("tb_",""));const r=t.findIndex((t=>t==o));document.querySelector(".tb_stt_post_container #".concat(s.id)).addEventListener("click",(t=>{t.preventDefault();const s=e[o];a(r,s)}))}}))}render(){const{completeDataObject:t,wall:e,onClickToCTA:a}=this.props,{arrowWidth:s}=this.state;let o=this.props.postData;o&&o.length>0&&(o=1==o.length?[...o,...o,...o,...o]:2==o.length?[...o,...o]:this.props.postData);const r=e.ThemeRule.numberOfCoumn,d=e.ThemeRule.mobileColumn,l=e.ThemeRule.slidePost,c=e.ThemeRule.slideDuration,h=(e.Personalization.autoScrollStatus,{type:"loop",rewind:!1,speed:1e3,interval:1===l?1e3*parseInt(c):5e3,perPage:r>0?r:7,perMove:1,gap:0,autoplay:1===l,padding:"0",pagination:!1,arrows:!0,focus:"center",start:127183==e.Wall.owner?0:2,breakpoints:{560:{perPage:d>0?d:1,start:127183==e.Wall.owner?0:2},767:{perPage:d>0?d:3,start:127183==e.Wall.owner?0:2},991:{perPage:d>0?d:3,start:2},1200:{perPage:r>0?r:5,start:127183==e.Wall.owner?0:2},1400:{perPage:r>0?r:5,start:127183==e.Wall.owner?0:2},1600:{perPage:r>0?r:5,start:127183==e.Wall.owner?0:2}},updateOnMove:!0}),_=1===h.breakpoints[560].perPage?"tb_stt_center_mode560":"",m=1===h.breakpoints[767].perPage?"tb_stt_center_mode767":"",u=1===h.breakpoints[991].perPage?"tb_stt_center_mode991":"";return(0,n.jsx)("div",{className:"tb_stt_post_container",children:(0,n.jsxs)(i.tv,{hasTrack:!1,className:"tb_stt_post_slider ".concat(_," ").concat(m," ").concat(u),options:h,ref:this.secondaryRef,children:[(0,n.jsx)(i.Gj,{children:o&&o.length>0&&o.map(((s,o)=>{const r=t[s];return(0,n.jsx)(i.jw,{style:{margin:0,padding:0},"data-index":o,className:"tb_".concat(r.id),children:(0,n.jsx)(p,{ownerId:e.Wall.owner,itemData:r,itemIndex:o,personalization:e.Personalization,ThemeRule:e.ThemeRule,wallID:e.Wall.id,onClickToCTA:a,wall:e})},o)}))}),(0,n.jsx)("div",{className:"splide__arrows splide__arrows--ltr tb_stt_arrow  tb_stt_arrow_left__",onClick:this.onUpdateData,style:{right:s},children:(0,n.jsx)("div",{className:"splide__arrow splide__arrow--prev tb__icon tb-arrow-left-alt",children:" "})}),(0,n.jsx)("div",{className:"splide__arrows splide__arrows--ltr tb_stt_arrow tb_stt_arrow_right__",style:{left:s},children:(0,n.jsx)("div",{className:"splide__arrow splide__arrow--next tb__icon tb-arrow-right-alt",children:" "})})]})})}}},59169:()=>{}}]);
//# sourceMappingURL=6931.49f977ad.chunk.js.map