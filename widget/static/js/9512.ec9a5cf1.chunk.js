"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9512],{39512:(e,t,i)=>{i.r(t),i.d(t,{default:()=>P});var o=i(72791),s=i(85034),n=i(206),a=i.n(n),l=i(21626),r=i(58290),c=i(54122),h=i(80184);class d extends o.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight,height:0,postWidth:0}}render(){const{item:e,wall:t,itemKey:i,loading:o,adjustWidth:s,onClickToCTA:n,clickToShowPopUp:a}=this.props,l={backgroundColor:t.ThemeRule.cardColor,padding:"".concat(t.ThemeRule.spacing,"px"),borderRadius:"".concat(t.ThemeRule.borderRadius,"px"),overflow:"hidden"};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{id:'"postId'.concat(e.id),className:"feedId58195 postItem flatCard ".concat(e.network.name,"}Taggbox  completeFadeIn"),"data-post-id":e.id,"data-highlight":e.highlight,"data-pin":e.pin,"data-pi":e.pin,style:{padding:t.ThemeRule.padding/2,margin:0,minWidth:0,left:0,top:0},"data-created":e.createdAt,children:(0,h.jsx)("div",{className:"post ".concat("#111111"===t.ThemeRule.cardColor?"post".concat(i%4+1):null),style:l,children:(0,h.jsx)("div",{className:"postContent",children:o?(0,h.jsx)(r.Z,{height:300}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{ownerId:t.Wall.owner,itemData:e,wall:t,itemIndex:i,adjustWidth:s,personalization:t.Personalization,ThemeRule:t.ThemeRule,clickToShowPopUp:a,wallID:t.Wall.id,onClickToCTA:n},i)})})})},e.id)})}}const p=d;class m extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){}render(){return this.state.hasError?(0,h.jsx)(h.Fragment,{}):this.props.children}}const u=m,g=e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.f,{animationIn:"bounceIn",animationInDuration:1e3,isVisible:!0,children:(0,h.jsx)(u,{children:(0,h.jsx)(p,{...e})})},e.item.id)});var w,v,T,x,y=i(2703),b=!1,f=0;const S=(0,y.oF)(),j=((0,y.hz)(),e=>{switch(e){case 80:return 60;case 70:return 40;case 50:return 30;case 30:default:return 20;case 20:return 10}});class D extends o.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0,aftereffect:null,is_condition:!1,items:Array.from({length:30}),itemCount:0,PreviousScrollget:0,ReachedMaxScroll:!1,socialpopopen:!1,highestNumber:3,repeatTimes:null,randomNumber:0,reversedata:[],mouseEnter:0,count:0,mouseover:!1},this.scrollDiv_init=()=>{const{wall:e}=this.props;((v=document.getElementById("wPosts"))||{}).scrollTop=0,w=setInterval((()=>this.scrollDiv()),j(e.Personalization.scrollDelay)),setTimeout((()=>this.onScrollWPosts()),1e3)},this.onScrollWPosts=()=>{v=document.getElementById("wPosts");var e=document.getElementById("wPosts");e&&v&&(window.innerHeight>e.clientHeight?v.setAttribute("style","overflow: unset;display:flex;height: 100vh;"):v.setAttribute("style","overflow: auto;display:flex;height: 100vh;"))},this.scrollDiv=()=>{b?(b=0!=(v||{}).scrollTop,(v||{}).scrollTop=f,f--):((v||{}).scrollTop=f,f++,b=(v||{}).scrollTop>=(v||{}).scrollHeight-window.innerHeight-10)},this.pauseDiv=e=>{S&&(w&&clearInterval(w),T&&clearTimeout(T),x&&clearTimeout(x),T=setTimeout((()=>this.resumeDiv()),5e3))},this.resumeDiv=()=>{const{wall:e}=this.props;v=document.getElementById("wPosts"),f=(v||{}).scrollTop,w=setInterval((()=>this.scrollDiv()),j(e.Personalization.scrollDelay))},this.onLoadTheme=()=>{const{postData:e}=this.props;e&&e.length>0&&(x=setTimeout((()=>this.setState({loading:!1,is_visible:!1})),1e3))},this.onUpdateSocketPost=e=>{this.setState({itemCount:0})},this.onResponsiveTheme=()=>{const{wall:e}=this.props,t=document.querySelector(".tb_app_container").clientWidth-1;let i=null,o=null,s=null,n=null;const a=e.Personalization.minimumPostWidth;i=t/a,s=t%a,o=s/Math.trunc(i),n=i>=1?a+o:a-o,this.setState({postWidth:n||a,cardNumber:i})}}componentDidMount(){setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme())),this.props.heightUpdate()})),this.props.heightUpdate(),S&&(window.addEventListener("wheel",(e=>this.pauseDiv(e)),{passive:!0}),this.onLoadTheme(),setTimeout((()=>this.scrollDiv_init()),3e3),this.onUpdateSocketPost(this.props))}componentWillUnmount(){w&&(0,y.hz)()&&(clearInterval(w),clearTimeout(T),clearTimeout(x))}componentDidUpdate(e,t){const{postData:i,wall:o}=e;this.props.heightUpdate(),o!=this.props.wall&&setTimeout((()=>{this.onResponsiveTheme()}),5e3),i!=this.props.postData&&S&&setTimeout((()=>this.setState({loading:!1,is_visible:!1},(()=>{w&&clearInterval(w),T&&clearTimeout(T),this.scrollDiv_init(),this.onUpdateSocketPost(this.props)}))),1e3)}componentWillReceiveProps(e){this.onUpdateSocketPost(e)}render(){const{loading:e,itemCount:t}=this.state;let{postData:i,completeDataObject:o,wall:n,adjustWidth:l,onClickToCTA:r,clickToShowPopUp:c,themeHeight:d}=this.props;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{id:"focus_".concat(n.ThemeRule.themeId),className:"Waterfall-theme  ".concat(S?"display":""),style:{height:"calc(100vh - ".concat(d,"px)")},children:(0,h.jsx)("div",{className:"tb_mwf_post_container",children:(0,h.jsx)("div",{id:"marqueecontainer",children:(0,h.jsx)(s.Z,{id:"wPosts",style:{display:"flex",overflow:"auto",height:"100vh",flexWrap:"wrap"},breakpointCols:{default:5,1920:5,1600:4,1100:3,900:2,500:1},className:"my-masonry-grid theme".concat(n.ThemeRule.themeId),columnClassName:"my-masonry-grid_column",onPointerEnter:this.pauseDiv,children:i.map(((s,d)=>{t<d+1&&this.setState({itemCount:0}),i&&i.length-1==d&&setTimeout((()=>{let e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((e=>{e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1500);const m=o[s];return(0,h.jsx)("div",{id:s,children:(0,h.jsx)(a(),{className:"fadein".concat(d+1),animateIn:"fadeIn",delay:10*(d+1),animationInDuration:3e3,animateOnce:!0,animatePreScroll:!0,style:{opacity:1},children:t>0&&t>=d+1?(0,h.jsx)(g,{item:s,itemKey:d,wall:n,loading:e},s):(0,h.jsx)(p,{item:m,itemKey:d,popupid:s,wall:n,newItems:m,loading:e,adjustWidth:l,onClickToCTA:r,clickToShowPopUp:c},s)})},d)}))})})})})})}}const P=D}}]);
//# sourceMappingURL=9512.ec9a5cf1.chunk.js.map