"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9779],{68345:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var n=a(72791),o=a(77581),s=a(79200),i=a(67945),r=a.n(i),l=a(2703),h=a(49671),d=a(42308),c=a(98759),p=a(80184);const u=(0,l.oF)(),m=(0,l.hz)();class g extends n.PureComponent{constructor(){var e;super(...arguments),e=this,this.state={themeHeightMange:this.props.themeHeight,randomkey:0,themeHeightCheck:!1},this.onFullscreenChange=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{themeHeight:a,heightUpdate:n}=e.props;t&&e.setState({themeHeightCheck:!0}),setTimeout((()=>{n(),e.setState({themeHeightMange:a,randomkey:Math.random()})}),100)}}componentDidMount(){if(u){const{themeHeight:e}=this.props;window.addEventListener("resize",(()=>this.onFullscreenChange)),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),this.setState({themeHeightMange:e},(()=>this.onFullscreenChange(1)))}}componentDidUpdate(){if(u)if(m)this.onFullscreenChange();else{const{themeHeight:e}=this.props;this.setState({themeHeightMange:e})}}render(){const{itemData:e,ThemeRule:t,personalization:a,clickToShowPopUp:n,itemIndex:o,wallID:s,ownerId:i}=this.props,{themeHeightMange:r,themeHeightCheck:m}=this.state,g=2===e.type||3===e.type||4===e.type||5===e.type,f={backgroundColor:t.cardColor},w=t.trimcontent?(0,l.Sv)(e.content,200):e.content,_=32==t.numberOfCoumn?4:8==t.numberOfCoumn?2:3,D={padding:"".concat(t.padding/2,"px"),height:u?"".concat((window.innerHeight-r)/_,"px"):""},T={borderRadius:"".concat(t.borderRadius,"px")};return(0,p.jsxs)(p.Fragment,{children:[" ",m?(0,p.jsx)("div",{id:"tb-sp-post-".concat(e.id),className:"tb_ap_post_wrapper ","tb-network":e.network.id,style:D,children:(0,p.jsx)("div",{className:"tb_ap_post_in","data-aos":null!==e&&void 0!==e&&e.stopAnimation?null:"zoom-in-up","data-aos-delay":"0","data-aos-duration":"2000","data-aos-offset":"0",onClick:n(o,e),children:(0,p.jsxs)("div",{className:"tb_ap_post_media_wrapp",style:T,children:[g?(0,p.jsx)(c.Z,{itemData:e,wallID:s}):"",(0,p.jsx)("div",{className:"overlay-main","data-aos":"zoom-in","data-aos-easing":"ease-out-cubic","data-aos-delay":"2000","data-aos-duration":"2000","data-aos-offset":"0",children:(0,p.jsxs)("div",{className:"tb_ap_post_overlay",style:f,children:[t.captionStatus||65==t.themeId?null:(0,p.jsxs)("div",{className:"tb_mwf_contant_wrapper",children:[66==t.themeId?(0,p.jsx)(h.Z,{ownerId:i,mediaType:g,postTime:e.createdAt,author:e.author,network:e.network,font:e.font,personalization:a,ThemeRule:t}):null,t.hideContent||63==t.themeId?null:(0,p.jsx)(d.Z,{item:e,content:w,font:t.font,ThemeRule:t,personalization:a,contentTitle:e.contentTitle},e.id)]}),66!=t.themeId?(0,p.jsx)(h.Z,{ownerId:i,mediaType:g,postTime:e.createdAt,author:e.author,network:e.network,font:e.font,personalization:a,ThemeRule:t,postData:e}):null,(0,p.jsx)("div",{})]})})]})})}):null," "]})}}const f=(0,l.oF)();class w extends n.PureComponent{constructor(){super(...arguments),this.state={postData:[],postDataUpdate:[],postDataContent:[],tempArray:[],rowCount:0},this.dataFilter=()=>{const{postData:e,wall:t}=this.props,a=e&&e.length>0&&e.map(((e,t)=>this.props.completeDataObject[e]));let n=(0,l.tf)();const o=1==n?4:2==n?6:t.ThemeRule.numberOfCoumn&&t.ThemeRule.numberOfCoumn>5?t.ThemeRule.numberOfCoumn:6,s=a&&a.map(((e,t)=>t<o&&e.postFileNew?{...e,stopAnimation:!0}:e)),i=s&&s.filter((e=>e.file&&""!=e.file&&e));f?this.setState({postDataContent:i.filter(((e,t)=>t<o)),tempArray:a.slice(0,o),postDataUpdate:i,rowCount:o},(()=>this.addClass())):this.setState({postDataContent:i,tempArray:a.slice(0,o),postDataUpdate:i,rowCount:o})},this.addClass=()=>{const{postDataUpdate:e,rowCount:t}=this.state,{postData:a,wall:n}=this.props;if(t<e.length)for(let o=1;o<=e.length;o++)setTimeout((()=>{const{postDataContent:e,postDataUpdate:n,tempArray:s}=this.state;let i=[...n];const r=(o-1)%t,l=n.length-o;let h=n[l];if(l<e.length&&(h=s.pop()),i[r]=h,n[r]=h,this.setState((e=>({...e,postDataContent:i.slice(0,t),postDataUpdate:n}))),o==n.length){const e=a&&a.length>0&&a.map(((e,t)=>this.props.completeDataObject[e])),n=e.map(((e,a)=>a<t?{...e,stopAnimation:!0}:e));this.setState({postDataContent:n.filter(((e,a)=>a<t)),tempArray:e.slice(0,t),postDataUpdate:n,rowCount:t},(()=>this.addClass()))}}),n.ThemeRule.slideDelay?1e3*n.ThemeRule.slideDelay*o:1e4*o)},this.onLoadMasonry=()=>{var e=document.querySelector(".tb_ap_post_container");e&&this.props.managePostHeight(e.style.height)}}componentDidMount(){const{postData:e}=this.props;this.setState({postData:e},(()=>this.onLoadMasonry())),r().init(),this.dataFilter()}componentWillReceiveProps(e){const{postData:t}=e;this.setState({postData:t},(()=>{this.onLoadMasonry(),f||this.dataFilter()}))}render(){const{wall:e,clickToShowPopUp:t,onClickToCTA:a,heightUpdate:n,themeHeight:o}=this.props,{postDataContent:s}=this.state,i=e.ThemeRule.numberOfCoumn&&e.ThemeRule.numberOfCoumn>5?e.ThemeRule.numberOfCoumn:8;return s&&s.length>0?(0,p.jsx)("div",{id:"".concat(66==e.ThemeRule.themeId?"squre":67==e.ThemeRule.themeId?"pixel":"reels","_").concat(e.ThemeRule.themeId),className:"tb_ap_post_container clearfix ".concat(f?"display":"embed"),children:(0,p.jsx)("div",{className:"tb_ap_post_row",children:(0,p.jsx)("div",{className:"tb_ap_post_small ".concat(6==i?"size3x2":18==i?"size6x3":32==i?"size8x6":"size4x2"),children:s.map(((s,i)=>(0,p.jsx)(g,{heightUpdate:n,themeHeight:o,ownerId:e.Wall.owner,itemData:s,itemIndex:i,personalization:e.Personalization,ThemeRule:e.ThemeRule,wallID:e.Wall.id,clickToShowPopUp:t,onClickToCTA:a},s.id)))})})},s):null}}const _=(0,o.$j)(null,(e=>({managePostHeight:t=>e((0,s.B0)(t))})))(w)},80413:(e,t,a)=>{t.Ad=void 0;var n=a(7782);var o=a(94590);Object.defineProperty(t,"Ad",{enumerable:!0,get:function(){return o.getImageSize}});var s=a(52047)},7782:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessage=void 0,t.ErrorMessage={WINDOW_IS_NOT_DEFINED:"Window is not defined",URL_IS_NOT_DEFINED:"Url is not defined",TIMEOUT:"Timeout"}},94590:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getImageSize=void 0;const n=a(7782);t.getImageSize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((a,o)=>{if("undefined"===typeof window)return o(n.ErrorMessage.WINDOW_IS_NOT_DEFINED);if(!e)return o(n.ErrorMessage.URL_IS_NOT_DEFINED);let s=null;const i=new Image;i.addEventListener("load",(()=>{s&&window.clearTimeout(s),a({width:i.naturalWidth,height:i.naturalHeight})})),i.addEventListener("error",(e=>{s&&window.clearTimeout(s),o("".concat(e.type,": ").concat(e.message))})),i.src=e,t.timeout&&(s=window.setTimeout((()=>o(n.ErrorMessage.TIMEOUT)),t.timeout))}))}},52047:function(e,t,a){var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function r(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useImageSize=void 0;const o=a(72791),s=a(94590);t.useImageSize=(e,t)=>{const[a,i]=(0,o.useState)(null),[r,l]=(0,o.useState)(!1),[h,d]=(0,o.useState)(null);return(0,o.useEffect)((()=>{n(void 0,void 0,void 0,(function*(){l(!0),i(null);try{const{width:a,height:n}=yield(0,s.getImageSize)(e,t);i({width:a,height:n})}catch(h){d(h.toString())}finally{l(!1)}}))}),[e,t]),[a,{loading:r,error:h}]}}}]);
//# sourceMappingURL=9779.a027fa82.chunk.js.map