"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9512],{54122:(t,e,o)=>{o.d(e,{Z:()=>p});var i=o(72791),s=o(77581),n=o(49671),a=o(68329),r=o(42308),l=o(19036),c=o(70757),d=o(80184);class h extends i.PureComponent{render(){const{itemData:t,personalization:e,ThemeRule:o,clickToShowPopUp:i,itemIndex:s,wall:h,ownerId:p}=this.props,m=2===t.type||3===t.type||4===t.type||5===t.type,u=t.rating>0,w=t.rating>0?"tb_mwf_rating_content":"tb_mwf_content",g=1===t.type&&e.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",_=!(!e.postAuthor||t.author.isInstaUser);return(0,d.jsx)("div",{className:"tb_mwf_post_wrapper","data-id":t.id,"tb-network":t.network.icon,children:(0,d.jsxs)("div",{className:"tb_mwf_post_in",onClick:i(s,t),children:[(0,d.jsxs)("div",{className:"tb_mwf_post_media_wrapp",children:[m||65==o.themeId?null:(0,d.jsxs)("div",{className:"tb_mwf_social_top_",children:[" ",(0,d.jsx)(c.default,{networkClass:"tb_mwf_social_center_ico",network:t.network,ThemeRule:o,font:o.font})," "]}),m?(0,d.jsx)(a.Z,{itemData:t,wallID:h.id},t.id):null,u?(0,d.jsxs)("div",{className:"tb_mwf_rating__ ".concat(29===t.network.id?"tb_mwf_onsite_rating__":""),children:[(0,d.jsx)(l.Z,{rating:t.rating,network:t.network})," "]}):null]}),!o.captionStatus&&(_||e.postTime||t.network.id&&o.socialAction)?(0,d.jsxs)("div",{className:e.postAuthor||o.socialAction||e.postTime?"tb_mwf_contant_wrapper":"",children:[(0,d.jsx)(n.Z,{ownerId:p,mediaType:m,postTime:t.createdAt,author:t.author,network:t.network,font:o.iconColor,personalization:e,ThemeRule:o}),o.hideContent||[65,63].includes(o.themeId)?null:(0,d.jsx)(r.Z,{item:t,contentClass:"".concat(w," ").concat(g),font:o.font,ThemeRule:o,personalization:e,contentTitle:t.contentTitle},t.id)]}):null]})})}}const p=(0,s.$j)((t=>({modalPop:t.modalPop})))(h)},39512:(t,e,o)=>{o.r(e),o.d(e,{default:()=>I});var i=o(72791),s=o(85034),n=o(206),a=o.n(n),r=o(21626),l=o(58290),c=o(54122),d=o(80184);class h extends i.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight,height:0,postWidth:0}}render(){const{item:t,wall:e,itemKey:o,loading:i,adjustWidth:s,onClickToCTA:n,clickToShowPopUp:a}=this.props,r={backgroundColor:e.ThemeRule.cardColor,padding:"".concat(e.ThemeRule.spacing,"px"),borderRadius:"".concat(e.ThemeRule.borderRadius,"px"),overflow:"hidden"};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{id:'"postId'.concat(t.id),className:"feedId58195 postItem flatCard ".concat(t.network.name,"}Taggbox  completeFadeIn"),"data-post-id":t.id,"data-highlight":t.highlight,"data-pin":t.pin,"data-pi":t.pin,style:{padding:e.ThemeRule.padding/2,margin:0,minWidth:0,left:0,top:0},"data-created":t.createdAt,children:(0,d.jsx)("div",{className:"post ".concat("#111111"===e.ThemeRule.cardColor?"post".concat(o%4+1):null),style:r,children:(0,d.jsx)("div",{className:"postContent",children:i?(0,d.jsx)(l.Z,{height:300}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.Z,{ownerId:e.Wall.owner,itemData:t,wall:e,itemIndex:o,adjustWidth:s,personalization:e.Personalization,ThemeRule:e.ThemeRule,clickToShowPopUp:a,wallID:e.Wall.id,onClickToCTA:n},o)})})})},t.id)})}}const p=h;class m extends i.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){}render(){return this.state.hasError?(0,d.jsx)(d.Fragment,{}):this.props.children}}const u=m,w=t=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.f,{animationIn:"bounceIn",animationInDuration:1e3,isVisible:!0,children:(0,d.jsx)(u,{children:(0,d.jsx)(p,{...t})})},t.item.id)});var g,_,T,v,x=o(2703),f=!1,b=0;const y=(0,x.oF)(),j=((0,x.hz)(),t=>{switch(t){case 80:return 60;case 70:return 40;case 50:return 30;case 30:default:return 20;case 20:return 10}});class k extends i.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0,aftereffect:null,is_condition:!1,items:Array.from({length:30}),itemCount:0,PreviousScrollget:0,ReachedMaxScroll:!1,socialpopopen:!1,highestNumber:3,repeatTimes:null,randomNumber:0,reversedata:[],mouseEnter:0,count:0,mouseover:!1},this.scrollDiv_init=()=>{const{wall:t}=this.props;((_=document.getElementById("wPosts"))||{}).scrollTop=0,g=setInterval((()=>this.scrollDiv()),j(t.Personalization.scrollDelay)),setTimeout((()=>this.onScrollWPosts()),1e3)},this.onScrollWPosts=()=>{_=document.getElementById("wPosts");var t=document.getElementById("wPosts");t&&_&&(window.innerHeight>t.clientHeight?_.setAttribute("style","overflow: unset;display:flex;height: 100vh;"):_.setAttribute("style","overflow: auto;display:flex;height: 100vh;"))},this.scrollDiv=()=>{f?(f=0!=(_||{}).scrollTop,(_||{}).scrollTop=b,b--):((_||{}).scrollTop=b,b++,f=(_||{}).scrollTop>=(_||{}).scrollHeight-window.innerHeight-10)},this.pauseDiv=t=>{y&&(g&&clearInterval(g),T&&clearTimeout(T),v&&clearTimeout(v),T=setTimeout((()=>this.resumeDiv()),5e3))},this.resumeDiv=()=>{const{wall:t}=this.props;_=document.getElementById("wPosts"),b=(_||{}).scrollTop,g=setInterval((()=>this.scrollDiv()),j(t.Personalization.scrollDelay))},this.onLoadTheme=()=>{const{postData:t}=this.props;t&&t.length>0&&(v=setTimeout((()=>this.setState({loading:!1,is_visible:!1})),1e3))},this.onUpdateSocketPost=t=>{this.setState({itemCount:0})},this.onResponsiveTheme=()=>{const{wall:t}=this.props,e=document.querySelector(".tb_app_container").clientWidth-1;let o=null,i=null,s=null,n=null;const a=t.Personalization.minimumPostWidth;o=e/a,s=e%a,i=s/Math.trunc(o),n=o>=1?a+i:a-i,this.setState({postWidth:n||a,cardNumber:o})}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme())),this.props.heightUpdate()})),this.props.heightUpdate(),y){document.querySelector(".tb_app_container").addEventListener("wheel",(t=>t.preventDefault()),{passive:!1}),this.onLoadTheme(),setTimeout((()=>this.scrollDiv_init()),3e3),this.onUpdateSocketPost(this.props)}}componentWillUnmount(){g&&(clearInterval(g),clearTimeout(T),clearTimeout(v))}componentDidUpdate(t,e){const{postData:o,wall:i}=t;this.props.heightUpdate(),i!=this.props.wall&&setTimeout((()=>{this.onResponsiveTheme()}),5e3),o!=this.props.postData&&y&&setTimeout((()=>this.setState({loading:!1,is_visible:!1},(()=>{g&&clearInterval(g),T&&clearTimeout(T),this.scrollDiv_init(),this.onUpdateSocketPost(this.props)}))),1e3)}componentWillReceiveProps(t){this.onUpdateSocketPost(t)}render(){const{loading:t,itemCount:e}=this.state;let{postData:o,completeDataObject:i,wall:n,adjustWidth:r,onClickToCTA:l,clickToShowPopUp:c,themeHeight:h}=this.props;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{id:"focus_".concat(n.ThemeRule.themeId),className:"Waterfall-theme  ".concat(y?"display":""),style:{height:"calc(100vh - ".concat(h,"px)")},children:(0,d.jsx)("div",{className:"tb_mwf_post_container",children:(0,d.jsx)("div",{id:"marqueecontainer",children:(0,d.jsx)(s.Z,{id:"wPosts",style:{display:"flex",overflow:"auto",height:"100vh",flexWrap:"wrap"},breakpointCols:{default:5,1920:5,1600:4,1100:3,900:2,500:1},className:"my-masonry-grid theme".concat(n.ThemeRule.themeId),columnClassName:"my-masonry-grid_column",children:o.map(((s,h)=>{e<h+1&&this.setState({itemCount:0}),o&&o.length-1==h&&setTimeout((()=>{let t=document.querySelectorAll("img[data-is-optmized='0']");t&&t.length>0&&t.forEach((t=>{t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("data-is-optmized","1")}))}),1500);const m=i[s];return(0,d.jsx)("div",{id:s,children:(0,d.jsx)(a(),{className:"fadein".concat(h+1),animateIn:"fadeIn",delay:10*(h+1),animationInDuration:3e3,animateOnce:!0,animatePreScroll:!0,style:{opacity:1},children:e>0&&e>=h+1?(0,d.jsx)(w,{item:s,itemKey:h,wall:n,loading:t},s):(0,d.jsx)(p,{item:m,itemKey:h,popupid:s,wall:n,newItems:m,loading:t,adjustWidth:r,onClickToCTA:l,clickToShowPopUp:c},s)})},h)}))})})})})})}}const I=k}}]);
//# sourceMappingURL=9512.54a5e830.chunk.js.map