"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2308],{72308:(e,t,l)=>{l.r(t),l.d(t,{addScript:()=>E,default:()=>I,onLoad:()=>z});var s=l(72791),n=l(89057),a=l(77581),o=l(79200),r=l(70188),i=l(2703),d=l(80184);class c extends s.Component{constructor(e){super(e),this.onLoad=()=>{var e=document.getElementById("root");let t=document.getElementsByClassName("studio-wall");this.setState({themeSettingStatus:!1}),!this.state.loading&&t.length&&(this.setState({loading:!0}),e?setTimeout((()=>this.wallLoad())):this.wallLoad())},this.wallLoad=()=>{const e=this.props.wall.Wall.id;window.editor=!0,window.wall_Id=e,fetch("https://test.taggbox.com/embed-widget/static-studio/embed.json").then((e=>e.json())).then((e=>{const{id:t,script:l,css:s}=e;if(0==document.getElementsByClassName("studio-wall").length&&window.location.pathname.includes("wall/personalize"))return void setTimeout((()=>this.wallLoad()),1e3);let n=document.createElement("div");n.setAttribute("id",t),document.getElementsByClassName("studio-wall")[0].appendChild(n);let a=document.createElement("link");a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",s),document.head.appendChild(a);let o=document.createElement("script");o.setAttribute("src",l),document.body.appendChild(o),setTimeout((()=>{this.setState({loading:!1})}),1e3)}))},this.state={loading:!1}}componentDidMount(){this.onLoad()}render(){return(0,d.jsx)("div",{style:{display:"flex"},children:(0,d.jsx)("div",{className:"studio-wall"})})}}const h=c;var u=l(54270),p=l(22057),m=l(46535);const w=e=>{let{onsite_txt_font_variation:t,onsite_txt_css_font:l,onsite_txt_font_size:s}=e;return(0,d.jsxs)(u.q,{children:[(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=".concat(l,":").concat(t),rel:"stylesheet"}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css?family=".concat(s,":").concat(t),rel:"stylesheet"})]})};class j extends s.Component{render(){const{wall:e}=this.props,{UgcSettings:t}=e,l=(0,i.oF)();return(0,d.jsxs)(d.Fragment,{children:[t&&Object.keys(t).length>0?(0,d.jsx)(w,{...t}):null,(0,d.jsxs)("div",{className:"display-onsiteupload ".concat("1"==t.onsite_overlay_poisition?"onsiteupload_top_position":"2"==t.onsite_overlay_poisition?"onsiteupload_bottom_position":"onsiteupload_top_position"),style:{backgroundColor:t.onsite_btn_color?t.onsite_btn_color:t.onsite_bg_color,color:t.onsite_txt_color,height:"".concat(t.onsite_overlay_height?t.onsite_overlay_height:120,"px")},children:[(0,d.jsxs)("div",{className:"onsite_barcode_",children:[(0,d.jsx)(p.ZP,{style:{height:"100%",width:"100%"},value:"".concat(m.Gs).concat(e.Wall.id).concat(l?"?onsite-upload=true":"?social-wall=true&onsite-upload=true"),renderAs:"canvas"}),","]}),(0,d.jsx)("div",{className:"onsite_text_ sGFfonte-".concat(t.onsite_txt_font_variation),style:{fontSize:t.onsite_txt_font_size,fontFamily:t.onsite_txt_font},children:t.onsite_qr_code_btn_text})]})]})}}const x=(0,s.memo)(j),g=s.lazy((()=>l.e(5417).then(l.bind(l,45417)))),_=s.lazy((()=>Promise.resolve().then(l.bind(l,79158)))),b=s.lazy((()=>l.e(9681).then(l.bind(l,59681)))),y=s.lazy((()=>l.e(92).then(l.bind(l,80092)))),f=s.lazy((()=>l.e(5812).then(l.bind(l,25812)))),D=s.lazy((()=>Promise.all([l.e(4867),l.e(6332),l.e(6710),l.e(7945),l.e(662),l.e(67),l.e(9827),l.e(838)]).then(l.bind(l,16908)))),v=s.lazy((()=>l.e(5140).then(l.bind(l,65140)))),k=s.lazy((()=>l.e(9021).then(l.bind(l,69021)))),S=(0,i.hz)()?(0,i.eB)()?window:new BroadcastChannel("connect"):null,F=(0,i.oF)(),E=e=>{const t=document.createElement("script");t.src=e,t.defer=!0,document.head.appendChild(t)},z=()=>{window.jQuery||E("".concat(r.do,"/js/jquery.min.js")),E("".concat(r.do,"/js/slackdown.js")),window.onload=()=>{window.jQuery||E("".concat(r.do,"/js/jquery.min.js")),E("".concat(r.do,"/js/slackdown.js"))}},C=e=>{var t;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&!e.error.planLimit&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(t=e.wall)||void 0===t?void 0:t.Personalization.demoWall))?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{...e})}):e.error.errorWithMessage||e.error.planLimit||e.error.themeError?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(_,{...e})}):null},L=(0,n.componentWillAppendToBody)((e=>{let{children:t}=e;return t})),U=e=>{let{appData:t}=e,l=""!=t.webFilters&&t.webFilters?t.webFilters.map((e=>{let{networkId:t}=e;return t})):null;return(0,d.jsx)("a",{href:(0,i.$t)(l,t.wallID)[0]+r.Si,target:"_blank",style:{display:"none"},"aria-label":(0,i.$t)(l,t.wallID)[1],children:(0,i.$t)(l,t.wallID)[1]})};class P extends s.Component{constructor(){super(...arguments),this.state={errorData:null},this.fetchData=e=>{this.props.themeData(e)}}componentDidMount(){setTimeout((()=>z()),200),S&&S.addEventListener("message",this.fetchData)}componentDidUpdate(e,t){var l,s,n;let a=null===(l=e.appData.wall)||void 0===l||null===(s=l.Personalization)||void 0===s?void 0:s.demoWall;var o;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==t.errorData&&(this.setState({errorData:null===(o=e.appData.error)||void 0===o?void 0:o.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,a))}componentWillUnmount(){S&&S.removeEventListener("message",this.fetchData)}render(){const{modalPop:e,appData:t}=this.props,l=!!(t&&t.wall&&Object.keys(t.wall).length>0&&t.wall.UserDetail&&Object.keys(t.wall.UserDetail).length>0);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.q,{children:(0,d.jsx)("title",{children:F?"Display":"Widget"})}),!t.wall.Personalization.is_studio_enabled||!F||(0,i.hz)()||window.location.href.includes("studio")||window.location.href.includes("webembed")?(0,d.jsxs)(d.Fragment,{children:[t&&t.wall&&Object.keys(t.wall).length>0?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(b,{wall:t.wall})}):null,F&&t.wall.UserRule.on_site_upload&&t.wall.UgcSettings.onsite_status&&t.wall.UgcSettings.onsite_button_status?(0,d.jsxs)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(x,{wall:t.wall})]}):null,e.onSiteIsShowPopUp?(0,d.jsxs)(L,{children:["  ",(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(y,{})})]}):null,(0,d.jsx)(C,{...t}),l&&t.wall.UserDetail.planId.includes("53")?(0,d.jsxs)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[(0,d.jsx)(k,{appData:t})," "]}):null,e.isShowPopUp&&!F?(0,d.jsxs)(L,{children:[" ",(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(D,{wall:t.wall,data:e.data,languageSetting:t.languageSetting,networkData:t.networkData,postData:t.postData,brandingNetworks:""!=t.webFilters&&t.webFilters?t.webFilters.map((e=>{let{networkId:t}=e;return t})):null})})," "]}):null,e.reportStatus?(0,d.jsxs)(L,{children:[" ",(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(v,{item:e.reportData,wall:t.wall})})," "]}):null,e.shareStatus?(0,d.jsxs)(L,{children:[" ",(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(f,{postLink:e.shareData.link,userName:e.shareData.author.name})})," "]}):null,l&&!t.wall.UserDetail.planId.includes("53")?(0,d.jsx)(L,{children:(0,d.jsx)(U,{appData:t})}):null]}):(0,d.jsx)(h,{wall:t.wall})]})}}const I=(0,a.$j)((e=>({appData:e.appData,modalPop:e.modalPop})),(e=>({themeData:t=>e((0,o.fE)(t))})))(P)}}]);
//# sourceMappingURL=2308.f5c861df.chunk.js.map