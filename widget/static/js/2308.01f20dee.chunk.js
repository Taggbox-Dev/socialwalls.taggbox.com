"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2308],{72308:(e,t,l)=>{l.r(t),l.d(t,{addScript:()=>E,default:()=>W,onLoad:()=>z});var a=l(72791),s=l(89057),n=l(77581),o=l(79200),r=l(70188),i=l(2703),d=l(46535),c=l(80184);class h extends a.Component{constructor(e){super(e),this.onLoad=()=>{var e=document.getElementById("root");let t=document.getElementsByClassName("studio-wall");this.setState({themeSettingStatus:!1}),!this.state.loading&&t.length&&(this.setState({loading:!0}),e?setTimeout((()=>this.wallLoad())):this.wallLoad())},this.wallLoad=()=>{const e=this.props.wall.Wall.id;const t=d.O2;window.editor=!0,window.wall_Id=e,fetch(t).then((e=>e.json())).then((e=>{const{id:t,script:l,css:a}=e;if(0==document.getElementsByClassName("studio-wall").length&&window.location.pathname.includes("wall/personalize"))return void setTimeout((()=>this.wallLoad()),1e3);let s=document.createElement("div");s.setAttribute("id",t),document.getElementsByClassName("studio-wall")[0].appendChild(s);let n=document.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",a),document.head.appendChild(n);let o=document.createElement("script");o.setAttribute("src",l),document.body.appendChild(o),setTimeout((()=>{this.setState({loading:!1})}),1e3)}))},this.state={loading:!1}}componentDidMount(){this.onLoad()}render(){return(0,c.jsx)("div",{style:{display:"flex"},children:(0,c.jsx)("div",{className:"studio-wall"})})}}const u=h;var p=l(54270),m=l(22057);const w=e=>{let{onsite_txt_font_variation:t,onsite_txt_css_font:l,onsite_txt_font_size:a}=e;return(0,c.jsxs)(p.q,{children:[(0,c.jsx)("link",{href:"https://fonts.googleapis.com/css?family=".concat(l,":").concat(t),rel:"stylesheet"}),(0,c.jsx)("link",{href:"https://fonts.googleapis.com/css?family=".concat(a,":").concat(t),rel:"stylesheet"})]})};class j extends a.Component{render(){const{wall:e}=this.props,{UgcSettings:t}=e,l=(0,i.oF)();return(0,c.jsxs)(c.Fragment,{children:[t&&Object.keys(t).length>0?(0,c.jsx)(w,{...t}):null,(0,c.jsxs)("div",{className:"display-onsiteupload onsiteupload_".concat("1"==t.onsite_overlay_poisition?"bottom_right":"2"==t.onsite_overlay_poisition?"bottom_left":"3"==t.onsite_overlay_poisition?"top_right":"4"==t.onsite_overlay_poisition?"top_left":"bottom_right","_position"),style:{backgroundColor:t.onsite_btn_color?t.onsite_btn_color:t.onsite_bg_color,color:t.onsite_txt_color,height:"".concat(t.onsite_overlay_height?t.onsite_overlay_height:120,"px")},children:[(0,c.jsxs)("div",{className:"onsite_barcode_",children:[(0,c.jsx)(m.ZP,{style:{height:"100%",width:"100%"},value:"".concat(d.Gs).concat(e.Wall.id).concat(l?"?onsite-upload=true":"?social-wall=true&onsite-upload=true"),renderAs:"canvas"}),","]}),(0,c.jsx)("div",{className:"onsite_text_ sGFfonte-".concat(t.onsite_txt_font_variation),style:{fontSize:t.onsite_txt_font_size,fontFamily:t.onsite_txt_font},children:t.onsite_qr_code_btn_text})]})]})}}const x=(0,a.memo)(j),g=a.lazy((()=>Promise.all([l.e(4867),l.e(9311),l.e(5549),l.e(9386)]).then(l.bind(l,14290)))),_=a.lazy((()=>Promise.resolve().then(l.bind(l,79158)))),b=a.lazy((()=>l.e(9681).then(l.bind(l,59681)))),y=a.lazy((()=>l.e(92).then(l.bind(l,80092)))),f=a.lazy((()=>l.e(5812).then(l.bind(l,25812)))),v=a.lazy((()=>Promise.all([l.e(4867),l.e(7945),l.e(9311),l.e(3519),l.e(662),l.e(3594)]).then(l.bind(l,16908)))),D=a.lazy((()=>l.e(5140).then(l.bind(l,65140)))),k=a.lazy((()=>l.e(9021).then(l.bind(l,69021)))),S=(0,i.hz)()?(0,i.eB)()?window:new BroadcastChannel("connect"):null,F=(0,i.oF)(),E=e=>{const t=document.createElement("script");t.src=e,t.defer=!0,document.head.appendChild(t)},z=()=>{window.jQuery||E("".concat(r.do,"/js/jquery.min.js")),E("".concat(r.do,"/js/slackdown.js")),window.onload=()=>{window.jQuery||E("".concat(r.do,"/js/jquery.min.js")),E("".concat(r.do,"/js/slackdown.js"))}},C=e=>{var t;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&!e.error.planLimit&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(t=e.wall)||void 0===t?void 0:t.Personalization.demoWall))?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,{...e})}):e.error.errorWithMessage||e.error.planLimit||e.error.themeError?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(_,{...e})}):null},L=(0,s.componentWillAppendToBody)((e=>{let{children:t}=e;return t})),P=e=>{let{appData:t}=e,l=""!=t.webFilters&&t.webFilters?t.webFilters.map((e=>{let{networkId:t}=e;return t})):null;return(0,c.jsx)("a",{href:(0,i.$t)(l,t.wallID)[0]+r.Si,target:"_blank",style:{display:"none"},"aria-label":(0,i.$t)(l,t.wallID)[1],children:(0,i.$t)(l,t.wallID)[1]})};class U extends a.Component{constructor(){super(...arguments),this.state={errorData:null},this.fetchData=e=>{this.props.themeData(e)}}componentDidMount(){setTimeout((()=>z()),200),S&&S.addEventListener("message",this.fetchData)}componentDidUpdate(e,t){var l,a,s;let n=null===(l=e.appData.wall)||void 0===l||null===(a=l.Personalization)||void 0===a?void 0:a.demoWall;var o;(null===(s=e.appData.error)||void 0===s?void 0:s.themeError)!==t.errorData&&(this.setState({errorData:null===(o=e.appData.error)||void 0===o?void 0:o.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,n))}componentWillUnmount(){S&&S.removeEventListener("message",this.fetchData)}render(){const{modalPop:e,appData:t}=this.props,l=!!(t&&t.wall&&Object.keys(t.wall).length>0&&t.wall.UserDetail&&Object.keys(t.wall.UserDetail).length>0);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.q,{children:(0,c.jsx)("title",{children:F?t&&t.wall&&Object.keys(t.wall).length>0&&t.wall.Wall?"".concat(t.wall.Wall.name," | Live Socialwall - Taggbox"):"Display":"Widget"})}),e.onSiteIsShowPopUp?(0,c.jsxs)(L,{children:[" ",(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,{})})]}):!t.wall.Personalization.is_studio_enabled||!F||(0,i.hz)()||window.location.href.includes("studio")||window.location.href.includes("webembed")?(0,c.jsxs)(c.Fragment,{children:[t&&t.wall&&Object.keys(t.wall).length>0?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{wall:t.wall})}):null,F&&t.wall.UserRule.on_site_upload&&t.wall.UgcSettings.onsite_status&&t.wall.UgcSettings.onsite_button_status?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(x,{wall:t.wall})]}):null,(0,c.jsx)(C,{...t}),l&&t.wall.UserDetail.planId.includes("53")&&F?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(k,{appData:t})," "]}):null,e.isShowPopUp&&!F?(0,c.jsxs)(L,{children:[" ",(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{wall:t.wall,data:e.data,languageSetting:t.languageSetting,networkData:t.networkData,postData:t.postData,brandingNetworks:""!=t.webFilters&&t.webFilters?t.webFilters.map((e=>{let{networkId:t}=e;return t})):null})})," "]}):null,e.reportStatus?(0,c.jsxs)(L,{children:[" ",(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,{item:e.reportData,wall:t.wall})})," "]}):null,e.shareStatus?(0,c.jsxs)(L,{children:[" ",(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,{postLink:e.shareData.link,userName:e.shareData.author.name})})," "]}):null,l&&!t.wall.UserDetail.planId.includes("53")?(0,c.jsx)(L,{children:(0,c.jsx)(P,{appData:t})}):null]}):(0,c.jsx)(u,{wall:t.wall})]})}}const W=(0,n.$j)((e=>({appData:e.appData,modalPop:e.modalPop})),(e=>({themeData:t=>e((0,o.fE)(t))})))(U)}}]);
//# sourceMappingURL=2308.01f20dee.chunk.js.map