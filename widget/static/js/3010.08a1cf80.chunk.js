"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[3010],{53010:(t,e,a)=>{a.r(e),a.d(e,{default:()=>w});var n=a(72791),s=a(88890),i=a.n(s),o=a(49705),l=a(38077),c=a(80184);class r extends n.Component{constructor(t){super(t),this.onUpdate=()=>{setTimeout((()=>{const{pIndex:t}=this.props;this.props.onUpdateRef(t,null),window.dispatchEvent(new Event("resize")),setTimeout((()=>{i()("#tb_wall_list_wrap___".concat(t+1)).addClass("tb_fc_animation")}),250)}),100)},this.myRef=n.createRef()}componentWillReceiveProps(t){const{activeID:e,pIndex:a}=t;e==a&&this.myRef.current&&this.myRef.current.swiper.slideNext()}render(){const{pItem:t,pIndex:e,wall:a,postData:n}=this.props;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.tq,{ref:this.myRef,slidesPerView:"auto",direction:"vertical",spaceBetween:0,mousewheel:!0,loop:!0,speed:2e3,autoplay:{enabled:!1,disableOnInteraction:!0},allowTouchMove:!1,id:"tb_wall_list_wrap___".concat(e+1),className:"swiper-container tb_wall_list_wrap___",style:{width:"".concat(100/n.length,"%")},onAfterInit:this.onUpdate,children:t&&t.map(((t,n)=>{const s=h(t.networkId,a.webFilters);if(t.file&&""!=t.file)return(0,c.jsx)(o.o5,{children:(0,c.jsx)(l.Z,{columnsId:e,activeIndex:n,item:t,wall:a,networkData:s},n)},"item_".concat(n,"_").concat(e))}))},"tb_wall_list_wrap___".concat(e+1))})}}const d=r,h=(t,e)=>{try{if(e&&e.length>0){let a=e.filter((e=>e.Network.id==t));if(a&&a[0]&&a[0].Network)return a[0].Network}return{}}catch(a){return{}}};var p,_=a(2703);const m=(0,_.oF)();class u extends n.PureComponent{constructor(){super(...arguments),this.state={intialize:!1,columns:[],activeID:null,data:[],cardData:[],checkThemeheight:!1},this.onLoadData=()=>{const{cardData:t}=this.state;let e=[];t&&t.length>0&&(t.map(((t,a)=>{e.push({id:a,referenceData:null})})),this.setState({columns:e,data:t}))},this.componentDidMount=()=>{p=setInterval((()=>this.onUpdateTimeInterVal()),5e3),m&&this.themeheight()},this.themeheight=()=>{setTimeout((()=>{this.props.heightUpdate(),this.setState({checkThemeheight:!0})}),100)},this.postDataFilter=()=>{let{postData:t,completeDataObject:e,wall:a}=this.props;const n=t.map((t=>e[t]));let s=[],i=(0,_.tf)();const o=1==i||3==i?2:a.ThemeRule.numberOfCoumn?a.ThemeRule.numberOfCoumn:5;for(let l=0;l<n.length;l+=o)for(let t=0;t<o;t++){let e=l+t;const a=e%o;s[a]||(s[a]=[]),n[e]&&s[a].push(n[e])}this.setState({cardData:s},(()=>this.onLoadData()))},this.onUpdateTimeInterVal=()=>{const{activeID:t,columns:e}=this.state;if(t||0==t){let a=parseInt(t)+1;a>=e.length&&(a=0),e[a]&&this.setState({activeID:a})}else{let t=0;e[t]&&this.setState({activeID:t})}},this.onUpdateRef=(t,e)=>{let{columns:a}=this.state;a&&a.length>0&&a[t]&&(a[t].referenceData=e),this.setState({columns:a})},this.CONVERT_OBJ_TO_ARRAY=(t,e)=>Object.keys(t).length>0?Object.keys(t).map((e=>({...t[e]}))):[]}componentWillMount(){this.postDataFilter()}componentDidUpdate(t,e){this.state.data!==e.data&&this.onLoadData(),this.props.heightUpdate(),setTimeout((()=>window.dispatchEvent(new Event("resize"))),1e3)}componentWillUnmount(){p&&clearInterval(p)}render(){let{wall:t,themeHeight:e}=this.props;const{activeID:a,cardData:n,checkThemeheight:s}=this.state;return(0,c.jsx)(c.Fragment,{children:s?(0,c.jsx)("div",{id:"falling-container",className:"tb_wall_wrap__ atmosphereReels69 embed",style:{height:"calc(100vh - ".concat(e+4,"px)")},children:n&&n.length>0?n.map(((e,s)=>(0,c.jsx)(d,{pItem:this.CONVERT_OBJ_TO_ARRAY(e),pIndex:s,postData:n,wall:t,onUpdateRef:this.onUpdateRef,activeID:a},"update_".concat(s)))):null}):null})}}const w=(0,n.memo)(u)},38077:(t,e,a)=>{a.d(e,{Z:()=>c});var n=a(72791),s=a(68329),i=a(49671),o=a(42308),l=a(80184);class c extends n.Component{constructor(){super(...arguments),this.state={isAuthorImagevalid:!0}}render(){const{item:t,wall:e,activeIndex:a,columnsId:n,ownerId:c}=this.props,{ThemeRule:r,Personalization:d}=e,h=2===t.type||3===t.type||4===t.type||5===t.type,p=t.rating>0?"tb_mwf_rating_content":"tb_mwf_content",_=1===t.type&&d.textDecorate?"tb_mwf_text_decoration tb_mwf_text_post":"",m=!(!d.postAuthor||t.author.isInstaUser),u={padding:r.padding/2},w={backgroundColor:r.cardColor,borderRadius:"".concat(r.borderRadius,"px")};return(0,l.jsx)("div",{id:"tb_wall_card_wrap__".concat(n,"_").concat(parseInt(a)+1),className:"tb_wall_card_wrap__","data-id":a,"data-active":0==a?1:0,style:u,children:(0,l.jsxs)("div",{id:"post_id-".concat(t.id),className:"tb_wall_card_in__",style:w,children:[(0,l.jsx)(s.Z,{itemData:t,wallID:e.id}),m||d.postTime||t.network.id&&r.socialAction?(0,l.jsx)("div",{className:t.network.id&&r.socialAction||d.postAuthor?"tb_wall_card_content___":"",style:{padding:r.spacing?"".concat(r.spacing,"px"):"10px"},children:(0,l.jsx)("div",{className:"tb_wall_card_conent__001",children:r.captionStatus?null:(0,l.jsxs)("div",{className:d.postAuthor||r.socialAction||d.postTime?"tb_mwf_contant_wrapper":"",children:[(0,l.jsx)(i.Z,{ownerId:c,mediaType:h,postTime:t.createdAt,author:t.author,network:t.network,font:r.iconColor,personalization:d,ThemeRule:r}),r.hideContent?null:(0,l.jsx)(o.Z,{item:t,contentClass:"".concat(p," ").concat(_),font:r.font,ThemeRule:r,personalization:d,contentTitle:t.contentTitle},t.id)]})})}):null]})})}}}}]);
//# sourceMappingURL=3010.08a1cf80.chunk.js.map