(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[5925],{5575:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.default=function(e){var t=e.index,i=e.active,a=e.config,n=e.onMouseOver,l=e.onMouseLeave,c=e.onClick,d=e.halfStarHidden,u=e.halfStarAt,h=e.isUsingIcons,p=e.uniqueness,m=a.color,_=a.activeColor,g=a.size,v=a.char,b=a.isHalf,f=a.edit,x=a.halfIcon,S=a.emptyIcon,C=a.filledIcon,j="",w=!1;b&&!d&&u===t&&(j=h?"react-stars-half":"react-stars-"+p,w=!0);var y=s({},r,{color:i?_:m,cursor:f?"pointer":"default",fontSize:g+"px"});return o.default.createElement("span",{className:j,style:y,key:t,"data-index":t,"data-forhalf":C?t:v,onMouseOver:n,onMouseMove:n,onMouseLeave:l,onClick:c},h?i?C:!i&&w?x:S:v)};var a,n=i(9950),o=(a=n)&&a.__esModule?a:{default:a};var r={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},11942:(e,t,i)=>{e.exports=i(43488)()},21185:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,a=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(s=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(l){a=!0,n=l}finally{try{!s&&r.return&&r.return()}finally{if(a)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,a.useState)(e.count),i=s(t,2),n=i[0],o=i[1],r=(0,a.useState)(e.size),l=s(r,2),c=l[0],d=l[1],u=(0,a.useState)(e.char),h=s(u,2),p=h[0],m=h[1],_=(0,a.useState)(e.color),g=s(_,2),v=g[0],b=g[1],f=(0,a.useState)(e.activeColor),x=s(f,2),S=x[0],C=x[1],j=(0,a.useState)(e.isHalf),w=s(j,2),y=w[0],N=w[1],E=(0,a.useState)(e.edit),T=s(E,2),A=T[0],I=T[1],k=(0,a.useState)(e.emptyIcon),P=s(k,2),M=P[0],R=P[1],U=(0,a.useState)(e.halfIcon),L=s(U,2),z=L[0],H=L[1],B=(0,a.useState)(e.filledIcon),O=s(B,2),D=O[0],W=O[1],q=(0,a.useState)(e.a11y),F=s(q,2),V=F[0],Z=F[1];return[{count:n,size:c,char:p,color:v,activeColor:S,isHalf:y,edit:A,emptyIcon:M,halfIcon:z,filledIcon:D,a11y:V},function(e){o(e.count),d(e.size),m(e.char),b(e.color),C(e.activeColor),N(e.isHalf),I(e.edit),R(e.emptyIcon),H(e.halfIcon),W(e.filledIcon),Z(e.a11y)}]};var a=i(9950)},40347:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>u,KH:()=>c,_E:()=>l});var s=i(9950),a=i(66345),n=i(96011),o=i.n(n),r=i(44414);const l=()=>(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M9.89539 6.67812C10.1534 6.58595 10.3266 6.33964 10.3266 6.06577C10.3266 5.79191 10.1534 5.54559 9.89645 5.45342L8.71518 5.02753C8.14049 4.82136 7.61855 4.49055 7.18683 4.05882C6.7551 3.62709 6.42428 3.10515 6.21811 2.53046L5.79222 1.3492C5.74665 1.22352 5.66358 1.11488 5.55425 1.03795C5.44492 0.961021 5.31461 0.919523 5.18093 0.919067C4.90759 0.919067 4.66128 1.09175 4.56805 1.3492L4.14269 2.53046C3.93656 3.10526 3.60569 3.62728 3.17386 4.05903C2.74202 4.49077 2.21993 4.82153 1.64508 5.02753L0.464879 5.45342C0.206908 5.54612 0.0336914 5.79191 0.0336914 6.06577C0.0336914 6.33964 0.206908 6.58542 0.46382 6.67812L1.64508 7.10401C2.21981 7.31012 2.74178 7.64091 3.17352 8.07265C3.60526 8.50439 3.93605 9.02636 4.14216 9.60109L4.56805 10.7829C4.66075 11.0398 4.90707 11.2125 5.1804 11.2125C5.45373 11.2125 5.70005 11.0393 5.79222 10.7824L6.21811 9.60109C6.42428 9.02639 6.7551 8.50446 7.18683 8.07273C7.61855 7.641 8.14049 7.31018 8.71518 7.10401L9.89539 6.67812Z",fill:"url(#paint0_linear_8573_5744)"}),(0,r.jsx)("path",{d:"M13.6629 11.7821C13.8087 11.73 13.9066 11.5908 13.9066 11.436C13.9066 11.2812 13.8087 11.142 13.6635 11.0899L12.9958 10.8492C12.671 10.7326 12.376 10.5456 12.1319 10.3016C11.8879 10.0576 11.7009 9.76259 11.5844 9.43776L11.3437 8.77009C11.3179 8.69906 11.271 8.63765 11.2092 8.59417C11.1474 8.55069 11.0737 8.52724 10.9982 8.52698C10.8437 8.52698 10.7045 8.62458 10.6518 8.77009L10.4113 9.43776C10.2948 9.76265 10.1078 10.0577 9.86374 10.3017C9.61966 10.5458 9.32457 10.7327 8.99965 10.8492L8.33258 11.0899C8.18677 11.1423 8.08887 11.2812 8.08887 11.436C8.08887 11.5908 8.18677 11.7297 8.33198 11.7821L8.99965 12.0228C9.3245 12.1393 9.61953 12.3263 9.86355 12.5703C10.1076 12.8143 10.2945 13.1094 10.411 13.4342L10.6518 14.1022C10.7042 14.2474 10.8434 14.345 10.9979 14.345C11.1524 14.345 11.2916 14.2471 11.3437 14.1019L11.5844 13.4342C11.7009 13.1094 11.8879 12.8144 12.1319 12.5704C12.376 12.3263 12.671 12.1393 12.9958 12.0228L13.6629 11.7821Z",fill:"url(#paint1_linear_8573_5744)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_8573_5744",x1:"5.69478",y1:"1.07347",x2:"5.28302",y2:"11.0581",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#654985"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#E16490"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_8573_5744",x1:"11.2886",y1:"8.61425",x2:"11.0559",y2:"14.2577",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#654985"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#E16490"})]})]})]}),c=()=>(0,r.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M9.95199 6.53749C10.2123 6.44448 10.3871 6.19591 10.3871 5.91954C10.3871 5.64317 10.2123 5.39459 9.95305 5.30158L8.76098 4.87179C8.18102 4.66373 7.65431 4.32989 7.21863 3.8942C6.78294 3.45852 6.4491 2.93181 6.24104 2.35185L5.81125 1.15977C5.76526 1.03295 5.68143 0.923309 5.5711 0.845677C5.46077 0.768045 5.32927 0.726168 5.19436 0.725708C4.91853 0.725708 4.66995 0.899976 4.57587 1.15977L4.14662 2.35185C3.9386 2.93192 3.60471 3.45872 3.16892 3.89442C2.73313 4.33011 2.20625 4.6639 1.62614 4.87179L0.435135 5.30158C0.174803 5.39513 0 5.64317 0 5.91954C0 6.19591 0.174803 6.44394 0.434066 6.53749L1.62614 6.96728C2.20614 7.17527 2.73289 7.5091 3.16858 7.94479C3.60427 8.38048 3.93809 8.90723 4.14608 9.48722L4.57587 10.6798C4.66942 10.9391 4.91799 11.1134 5.19383 11.1134C5.46966 11.1134 5.71824 10.9386 5.81125 10.6793L6.24104 9.48722C6.4491 8.90726 6.78294 8.38055 7.21863 7.94487C7.65431 7.50919 8.18102 7.17534 8.76098 6.96728L9.95199 6.53749Z",fill:"white"}),(0,r.jsx)("path",{d:"M13.7539 11.688C13.9011 11.6354 13.9999 11.4949 13.9999 11.3387C13.9999 11.1825 13.9011 11.042 13.7545 10.9894L13.0808 10.7465C12.753 10.6289 12.4553 10.4402 12.209 10.194C11.9627 9.94771 11.774 9.65 11.6564 9.3222L11.4135 8.64842C11.3875 8.57674 11.3402 8.51476 11.2778 8.47088C11.2154 8.42701 11.1411 8.40334 11.0648 8.40308C10.9089 8.40308 10.7684 8.50158 10.7153 8.64842L10.4726 9.3222C10.3551 9.65006 10.1663 9.94782 9.92003 10.1941C9.67372 10.4403 9.37592 10.629 9.04803 10.7465L8.37485 10.9894C8.22771 11.0423 8.12891 11.1825 8.12891 11.3387C8.12891 11.4949 8.22771 11.6351 8.37425 11.688L9.04803 11.9309C9.37585 12.0485 9.67358 12.2372 9.91984 12.4834C10.1661 12.7297 10.3548 13.0274 10.4723 13.3552L10.7153 14.0293C10.7681 14.1759 10.9086 14.2744 11.0645 14.2744C11.2205 14.2744 11.361 14.1756 11.4135 14.029L11.6564 13.3552C11.774 13.0274 11.9627 12.7297 12.209 12.4835C12.4553 12.2372 12.753 12.0485 13.0808 11.9309L13.7539 11.688Z",fill:"white"})]});class d extends s.Component{constructor(e){var t,i;super(e),this.handleHide=e=>this.setState({uploadHide:!1}),this.aiPromptFun=e=>{""!=String(this.state.aiPromptCopy).trim()&&String(this.state.aiPromptCopy).trim()!=String(e.target.value).trim()&&this.setState({isRegenrate:!0}),this.setState({aiPrompt:e.target.value})},this.typeWriterEffect=()=>{const{isActiveIndex:e,addAICaption:t,addAIReview:i,item:s,layout:a}=this.props,{aiResponse:n,currentIndex:o}=this.state;var r,l;o<n.length?1==a?(t(e,(null!==(r=null===s||void 0===s?void 0:s.caption)&&void 0!==r?r:"")+n[o]),this.setState(e=>({currentIndex:e.currentIndex+1}),()=>{setTimeout(this.typeWriterEffect,20)})):(i(e,(null!==(l=null===s||void 0===s?void 0:s.review)&&void 0!==l?l:"")+n[o]),this.setState(e=>({currentIndex:e.currentIndex+1}),()=>{setTimeout(this.typeWriterEffect,20)})):this.setState({isTyping:!1,loadbtn:!1})},this.aiReviewFun=e=>{const{aiPrompt:t,rateProduct:i,layout:s}=this.state,{addAICaption:n,addAIReview:r,isActiveIndex:l}=this.props;if(this.setState({aiInput:!0,aiReadOnly:!0,isTyping:!0,currentIndex:0,review:"",aiPromptError:""}),(!i||i<=0)&&2==s)return this.setState({rateProductError:!0}),!1;const c=t.split(/\s+/).map(e=>e.length);if(!t||c.length<=2)return this.setState({aiPromptError:"Please enter at least 3 words."}),!1;this.setState({writeAiReview:!0,loadbtn:!0,aiSpinner:!0,isRegenrate:!1,aiResponse:"",rateProductError:!1}),1==s?n(l,null):r(l,null),o().post(a.Cy,{input_text:t,stars:2==s?i:0}).then(e=>{200==e.data.status_code?this.setState({aiResponse:e.data.body,aiSpinner:!1,aiPromptCopy:t,isRegenrate:!0,captionError:!1},()=>{this.typeWriterEffect()}):this.setState({loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:e.data.body,aiPromptCopy:t,isRegenrate:!1,captionError:!1})}).catch(e=>{this.setState({error:e.message,loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:"Internal Server Error",aiPromptCopy:t,isRegenrate:!1,captionError:!1})})},this.aiPromptEditFun=()=>{this.setState({aiReadOnly:!1},()=>{if(this.textAreaRef.current){const e=this.textAreaRef.current;e.focus(),e.setSelectionRange(e.value.length,e.value.length)}})},this.WriteWithAI=e=>{try{const{isActiveIndex:e,addAICaption:t,addAIReview:i,layout:s}=this.props;1==s?t(e,null):i(e,null),this.setState({aiInput:!0})}catch(t){console.log("WriteWithAI error",t)}},this.closeAIPrompt=e=>{try{const{isActiveIndex:e,addAICaption:t,addAIReview:i,layout:s}=this.props;1==s?t(e,null):i(e,null),this.setState({aiInput:!1,aiPromptError:""})}catch(t){console.log("closeAIPrompt",t)}},this.closeInputAIPrompt=e=>{try{const{isActiveIndex:e,addAICaption:t,addAIReview:i,layout:s}=this.props;1==s?t(e,null):i(e,null),this.setState({writeAiReview:!1,aiPrompt:"",review:"",aiPromptError:"",aiInput:!1,isRegenrate:!1})}catch(t){console.log("closeInputAIPrompt",t)}},this.state={layout:e.layout,rateProduct:e.rating,uploadHide:!0,aiInput:!1,aiPrompt:"",writeAiReview:!1,aiReadOnly:!0,aiSpinner:!1,aiPromptError:"",isRegenrate:!1,aiPromptCopy:"",captionError:!1,review:1==e.layout?null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.caption:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.review},this.textAreaRef=(0,s.createRef)()}static getDerivedStateFromProps(e,t){var i,s;return e.item!==t.item?{layout:e.layout,rateProduct:e.item.rating,review:(1==e.layout?null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.caption:null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.review)||""}:null}render(){const{onClickToUpdateStep:e,isActiveIndex:t,isAddMoreActive:i,addCaption:s,addReview:a,item:n,onClickToUpdateMoreStep:o,defaultLabel:d}=this.props,{aiInput:u,aiPrompt:h,writeAiReview:p,aiReadOnly:m,aiPromptError:_,aiSpinner:g,isRegenrate:v,captionError:b,review:f,layout:x,rateProductError:S}=this.state,{reviewPH:C,reviewErr:j,skipBtn:w,nextBtn:y,captionPH:N,captionErr:E}=d;return console.log("layout",this.state),(0,r.jsxs)("div",{className:"tb_onsite_add_caption_tab",children:[(0,r.jsxs)("div",{className:"t_f_group",children:[p?(0,r.jsxs)("div",{className:"t_f_textarea ai_input_wrap",children:[(0,r.jsxs)("div",{className:"t_f_ai_input_wrap_",children:[(0,r.jsx)("div",{className:"t_f_ai_ico",children:(0,r.jsx)(l,{})}),(0,r.jsx)("textarea",{id:"ai_input",ref:this.textAreaRef,className:"t_from_ai_input t_f_textarea",value:h,onChange:this.aiPromptFun,placeholder:"Write Ai Review",readOnly:m,disabled:m}),(0,r.jsxs)("div",{className:"t_f_ai_btn_wrap",children:[(0,r.jsx)("div",{className:"t_f_ai_btn",onClick:this.aiPromptEditFun,children:(0,r.jsx)("div",{className:"tb__icon tb-edit"})}),(0,r.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeInputAIPrompt,children:(0,r.jsx)("div",{className:"tb__icon tb-close-alt"})})]})]}),(0,r.jsxs)("div",{className:"t_f_ai_res_wrap",children:[g?(0,r.jsxs)("div",{className:"t_f_skel_wrap",children:[(0,r.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,r.jsx)("div",{class:"t_f_s_bar",children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,r.jsx)("div",{class:"t_f_s_bar",children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{class:"t_f_s_bar_wrap",style:{maxWidth:"50%"},children:(0,r.jsx)("div",{class:"t_f_s_bar",children:(0,r.jsx)("div",{})})})]}):null,(0,r.jsx)("textarea",{className:"t_from_textarea ".concat(b?"t_f_invalid":""),value:f,onChange:1==x?s(t):a(t)}),(0,r.jsx)("div",{className:"t_f_p_btn t_f_rg_btn t_f_l_btn".concat(v?"":" tb_disabled"),onClick:()=>!!v&&this.aiReviewFun(!1),children:"Regenerate"})]})]}):(0,r.jsxs)("div",{className:"t_f_ai_res_wrap",children:[u?(0,r.jsx)("textarea",{className:"t_from_textarea t_f_ai_prompt",value:h,onChange:this.aiPromptFun,placeholder:1==x?"Describe what your caption should be about.":"Provide a brief of the product or service for the review."}):(0,r.jsx)("textarea",{className:"t_from_textarea ".concat(b?"t_f_invalid":""),placeholder:1==x?N:C,value:f,onChange:1==x?s(t):a(t)}),u?(0,r.jsx)("div",{className:"t_f_ai_ico_text",children:(0,r.jsx)(l,{})}):"",u?(0,r.jsx)("div",{className:"t_f_ai_btn_wrap",children:(0,r.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeAIPrompt,children:(0,r.jsx)("div",{className:"tb__icon tb-close-alt"})})}):"",u?(0,r.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(h.length<=0&&u?" tb_disabled":""),onClick:this.aiReviewFun,children:[(0,r.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,r.jsx)(c,{})}),"Generate"]}):(0,r.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(h.length<=0&&u?" tb_disabled":""),onClick:this.WriteWithAI,children:[(0,r.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,r.jsx)(c,{})})," Write with AI"]})]}),_?(0,r.jsxs)("div",{className:"t_f_error",children:[" * ",_]}):null,b?(0,r.jsxs)("div",{className:"t_f_error",children:[" * ",String(f).length<=0?"".concat(1==x?"Caption":"Review"," is required."):"".concat(1==x?"Caption":"Review"," limit of 500 exceeded!")]}):null]}),2==x?(0,r.jsx)("div",{className:"t_f_group",children:S?(0,r.jsx)("div",{className:"t_f_error t_text_center",children:" * Rating is required."}):null}):null]})}}const u=d},43488:(e,t,i)=>{"use strict";var s=i(93959);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,t,i,a,n,o){if(o!==s){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return i.PropTypes=i,i}},90004:(e,t,i)=>{"use strict";var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,a=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(s=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(l){a=!0,n=l}finally{try{!s&&r.return&&r.return()}finally{if(a)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=i(9950),n=c(a),o=c(i(11942)),r=c(i(21185)),l=c(i(5575));function c(e){return e&&e.__esModule?e:{default:e}}var d={overflow:"hidden",position:"relative"};function u(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function h(e){var t=(0,a.useState)(""),i=s(t,2),o=i[0],c=i[1],h=(0,a.useState)(0),p=s(h,2),m=p[0],_=p[1],g=(0,a.useState)([]),v=s(g,2),b=v[0],f=v[1],x=(0,a.useState)(!1),S=s(x,2),C=S[0],j=S[1],w=(0,r.default)(e),y=s(w,2),N=y[0],E=y[1],T=(0,a.useState)(0),A=s(T,2),I=A[0],k=A[1],P=(0,a.useState)(!1),M=s(P,2),R=M[0],U=M[1],L=(0,a.useState)(""),z=s(L,2),H=z[0],B=z[1];function O(e){"undefined"===typeof e&&(e=N.isHalf?Math.floor(m):Math.round(m));for(var t=[],i=0;i<N.count;i++)t.push({active:i<=e-1});return t}function D(e){if(N.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(N.isHalf){var i=W(e);U(i),i&&(t+=1),k(t)}else t+=1;!function(e){var t=b.filter(function(e){return e.active});e!==t.length&&f(O(e))}(t)}}function W(e){var t=e.target.getBoundingClientRect(),i=e.clientX-t.left;return(i=Math.round(Math.abs(i)))>t.width/2}function q(){N.edit&&(F(m),f(O()))}function F(e){N.isHalf&&(U(function(e){return e%1===0}(e)),k(Math.floor(e)))}function V(e){if(N.edit){var t=Number(e.currentTarget.getAttribute("data-index")),i=void 0;if(N.isHalf){var s=W(e);U(s),s&&(t+=1),i=s?t:t+.5,k(t)}else i=t+=1;Z(i)}}function Z(t){t!==m&&(f(O(t)),_(t),e.onChange(t))}return(0,a.useEffect)(function(){var t,i;!function(){var t="react-stars";B(e.classNames+" "+t)}(),t=e.value,i=e.count,_(t<0||t>i?0:t),f(O(e.value)),E(e),c((Math.random()+"").replace(".","")),j(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),k(Math.floor(e.value)),U(e.isHalf&&e.value%1<.5)},[]),n.default.createElement("div",{className:"react-stars-wrapper-"+o,style:{display:"flex"}},n.default.createElement("div",{tabIndex:N.a11y&&N.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(N.a11y||N.edit){var t=e.key,i=m,s=Number(t);s?Number.isInteger(s)&&s>0&&s<=N.count&&(i=s):("ArrowUp"===t||"ArrowRight"===t)&&i<N.count?(e.preventDefault(),i+=N.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&i>.5&&(e.preventDefault(),i-=N.isHalf?.5:1),F(i),Z(i)}},className:H,style:d},N.isHalf&&function(){return n.default.createElement("style",{dangerouslySetInnerHTML:{__html:C?(e=N.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):u(N.activeColor,o)}});var e}(),b.map(function(e,t){return n.default.createElement(l.default,{key:t,index:t,active:e.active,config:N,onMouseOver:D,onMouseLeave:q,onClick:V,halfStarHidden:R,halfStarAt:I,isUsingIcons:C,uniqueness:o})}),n.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},m)))}h.propTypes={classNames:o.default.string,edit:o.default.bool,half:o.default.bool,value:o.default.number,count:o.default.number,char:o.default.string,size:o.default.number,color:o.default.string,activeColor:o.default.string,emptyIcon:o.default.element,halfIcon:o.default.element,filledIcon:o.default.element,a11y:o.default.bool},h.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.A=h},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95925:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>M});var s=i(89379),a=i(9950),n=i(73878),o=i(40347),r=i(44414);class l extends a.Component{constructor(){super(...arguments),this.state={uploadHide:!0},this.handleHide=e=>this.setState({uploadHide:!1})}render(){const{onClickToUpdateStep:e,isActiveIndex:t,isAddMoreActive:i,addCaption:a,item:n,onClickToUpdateMoreStep:l,defaultLabel:c}=this.props,{captionPH:d,captionErr:u,skipBtn:h,nextBtn:p}=c;return(0,r.jsxs)("div",{className:"tb_onsite_add_caption_tab",children:[(0,r.jsx)(o.Ay,(0,s.A)((0,s.A)({},this.props),{},{rating:0,layout:1})),n.error?(0,r.jsxs)("div",{className:"tb_onsite_error",children:["* ",u]}):null,(0,r.jsxs)("div",{className:"tb_onsite_form_actions",style:n&&i?{justifyContent:"space-between"}:null,children:[n&&i?(0,r.jsx)("div",{className:"tb_onsite_btn_secondary",onClick:l(2),children:h}):null,(0,r.jsx)("div",{className:"tb_onsite_btn_primary",id:"tb_onsite_btn_id",onClick:e(2),children:p})]})]})}}const c=l;var d=i(90004);class u extends a.Component{render(){const{upload_image:e,onClickToRemove:t,onClickToEdit:i}=this.props;return(0,r.jsx)(r.Fragment,{children:e&&e.map((e,s)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"tb_onsite_post_area",children:[(0,r.jsxs)("div",{className:"tb_onsite_post_info",children:[e.thumb_file?(0,r.jsx)("div",{className:"tb_onsite_post_media",style:{backgroundImage:"url(".concat(e.thumb_file,")")}}):null,(0,r.jsxs)("div",{className:"tb_onsite_post_content_wrap",children:[(0,r.jsxs)("div",{className:"tb_onsite_post_content__",children:[" ",e.caption&&e.caption.length>0?e.caption:e.review&&e.review.length>0?e.review:null]}),""==e.caption&&e.rating||e.review&&e.review.length>0?(0,r.jsx)(d.A,{edit:!1,count:5,size:20,value:e.rating}):null]})]}),(0,r.jsxs)("div",{className:"tb_onsite_post_actions",children:[(0,r.jsx)("div",{className:"tb_onsite_edit_post",onClick:i(s),children:(0,r.jsx)("div",{className:"tb_onsite_edit_icon tb__icon tb-edit",children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{className:"tb_onsite_remove_post",onClick:t(s),children:(0,r.jsx)("div",{className:"tb_onsite_remove_icon tb__icon tb-delete",children:(0,r.jsx)("div",{})})})]})]})}))})}}const h=u;var p=i(66345);class m extends a.Component{render(){var e,t,i,s;const{submitError:a,termsCheck:n,submitErrorMessage:o,wall:l,onTextOrganazation:c,onTextDesignation:d,onClickToaddMore:u,onTextlstName:m,onSubmitPostData:_,upload_image:g,onClickToRemove:v,isEdit:b,orgnizationError:f,designationError:x,onTextName:S,onTextEmail:C,lstName:j,designation:w,orgnization:y,email:N,name:E,nameError:T,emailError:A,onClickToEdit:I,apiRequest:k,errorClickMore:P,defaultLabel:M}=this.props,{infoH:R,infoSubH:U,inputNL:L,inputNPH:z,inputNErr:H,inputEL:B,inputEPH:O,inputEErr:D,termsText:W,termsLT:q,onePostErr:F,detailErr:V,addMPBtn:Z,submitBtn:G}=M;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tb_onsite_box_title",children:[(0,r.jsx)("div",{className:"tb_onsite_title",children:R}),(0,r.jsxs)("div",{className:"tb_onsite_sub_heading",children:[(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})," ",U]})]}),(0,r.jsx)("div",{className:"tb_onsite_box_body",children:(0,r.jsxs)("div",{className:"tb_onsite_tabs_content",children:[g&&g.length>0?(0,r.jsx)(h,{upload_image:g,onClickToRemove:v,isEdit:b,onClickToEdit:I}):null,(0,r.jsx)("div",{className:"tb_onsite_form",children:(0,r.jsxs)("div",{children:[p.aD&&[1e4].includes(l.Wall.owner)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:["First Name",(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"tb_onsite_form_control",placeholder:"First Name",onChange:S,value:E}),T?(0,r.jsx)("div",{className:"tb_onsite_error",children:H}):null]}),(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsx)("div",{className:"tb_onsite_form_label",children:"Last Name"}),(0,r.jsx)("input",{type:"text",className:"tb_onsite_form_control",placeholder:"Last Name",onChange:m,value:j})]}),(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:["Organization",(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"tb_onsite_form_control",placeholder:"Organization",onChange:c,value:y}),f?(0,r.jsx)("div",{className:"tb_onsite_error",children:"Please enter your Organization"}):null]}),(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:["Designation",(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"tb_onsite_form_control",placeholder:"Designation",onChange:d,value:w}),x?(0,r.jsx)("div",{className:"tb_onsite_error",children:"Please enter your Designation"}):null]}),(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:[B,(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"email",className:"tb_onsite_form_control",placeholder:O,onChange:C,value:N}),A?(0,r.jsx)("div",{className:"tb_onsite_error",children:D}):null]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:[L,(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"tb_onsite_form_control",placeholder:z,onChange:S,value:E}),T?(0,r.jsx)("div",{className:"tb_onsite_error",children:H}):null]}),(0,r.jsxs)("div",{className:"tb_onsite_form_group",children:[(0,r.jsxs)("div",{className:"tb_onsite_form_label",children:[B,(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})]}),(0,r.jsx)("input",{type:"email",className:"tb_onsite_form_control",placeholder:O,onChange:C,value:N}),A?(0,r.jsx)("div",{className:"tb_onsite_error",children:D}):null]})]}),[104746].includes(l.Wall.owner)?(0,r.jsxs)("div",{className:"tb_onsite_terms_condition",children:[(0,r.jsxs)("label",{style:{display:"flex"},children:[(0,r.jsx)("input",{onClick:e=>n(e.target.checked?1:0),className:"display-flex",type:"checkbox"}),(0,r.jsx)("span",{style:{marginLeft:"5px"},children:" I agree to CALM using my story for marketing purposes --"})]}),(0,r.jsx)("a",{style:{color:"#1154cc",fontWeight:"normal",fontSize:"11px",paddingLeft:"26px"},href:(null===l||void 0===l||null===(e=l.UgcSettings)||void 0===e?void 0:e.onsite_terms_url)||(null===l||void 0===l||null===(t=l.UgcSettings)||void 0===t?void 0:t.onsite_term_url),target:"_blank",children:" click for more information on how your story will be used."})]}):(0,r.jsxs)("div",{className:"tb_onsite_terms_condition",children:[W,(0,r.jsxs)("a",{href:(null===l||void 0===l||null===(i=l.UgcSettings)||void 0===i?void 0:i.onsite_terms_url)||(null===l||void 0===l||null===(s=l.UgcSettings)||void 0===s?void 0:s.onsite_term_url),target:"_blank",children:[" ",q," *"]})]}),a?(0,r.jsxs)("div",{className:"tb_onsite_error",children:["* ",o||(g&&0==g.length?F:V)]}):null,(0,r.jsxs)("div",{className:"tb_onsite_form_actions_footer",children:[(0,r.jsxs)("div",{className:"tb_onsite_btn_wrapper",children:[(0,r.jsxs)("div",{className:"tb_onsite_btn_secondary",onClick:u,children:["+ ",Z]}),(0,r.jsxs)("div",{className:"tb_onsite_post_limits",children:[(0,r.jsx)("div",{className:"tb_onsite_sup",children:"*"})," Max 20 Posts"]})]}),(0,r.jsx)("div",{className:"tb_onsite_btn_primary".concat(k?" tb_onsite_spinner":""),onClick:_,children:l.UgcSettings.onsite_popup_btn_txt})]}),P?(0,r.jsx)("div",{className:"tb_onsite_error",children:"* Max 20 posts are allowed."}):null]})})]})})]})}}const _=m;class g extends a.Component{constructor(){super(...arguments),this.ratingChanged=e=>{const{isActiveIndex:t,addRatings:i}=this.props;i(e,t)}}render(){const{onClickToUpdateStep:e,isAddMoreActive:t,isActiveIndex:i,addReview:a,item:n,onClickToUpdateMoreStep:l,defaultLabel:c}=this.props,{reviewPH:u,reviewErr:h,skipBtn:p,nextBtn:m}=c;return(0,r.jsxs)("div",{className:"tb_onsite_add_caption_tab",children:[(0,r.jsx)(o.Ay,(0,s.A)((0,s.A)({},this.props),{},{rating:n&&n.rating?n.rating:0,layout:2})),n.error?(0,r.jsxs)("div",{className:"tb_onsite_error",children:["* ",h]}):null,(0,r.jsx)("div",{className:"tb_onsite_rating",children:(0,r.jsx)(d.A,{size:24,count:5,onChange:this.ratingChanged,value:n&&n.rating?n.rating:0})}),(0,r.jsxs)("div",{className:"tb_onsite_form_actions",style:n&&t?{justifyContent:"space-between"}:null,children:[n&&t?(0,r.jsx)("div",{className:"tb_onsite_btn_secondary",onClick:l(2),children:p}):null,(0,r.jsx)("div",{className:"tb_onsite_btn_primary",id:"tb_onsite_btn_id",onClick:e(2),children:m})]})]})}}const v=g;var b=i(19015);const f=e=>{let{onClosePopUp:t}=e;return(0,r.jsx)("div",{className:"tb_onsite_close_btn_wrapper",onClick:t,children:(0,r.jsx)("div",{className:"tb_onsite_close_btn tb__icon tb-close-alt",children:(0,r.jsx)("div",{})})})},x=e=>{const{wall:t}=e;return t.UgcSettings&&t.UgcSettings.onsite_logo&&""!=t.UgcSettings.onsite_logo?(0,r.jsx)("div",{className:"tb_onsite_logo_wrap",children:(0,r.jsx)("img",{loading:"lazy",src:t.UgcSettings.onsite_logo,className:"tb_onsite_popup_logo",width:"400",height:"50",alt:"logo"})}):null},S=e=>{let{item:t,isActiveIndex:i,onClickToImageRemove:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{loading:"lazy",className:"tb_onsite_uploaded",src:t.thumb_file,height:"200",width:"300",alt:"Post"}),(0,r.jsx)("div",{className:"tb_onsite_remove_ico",onClick:s(i),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{"data-name":"Group 4331",transform:"translate(10956 -4533)",children:[(0,r.jsx)("rect",{id:"Rectangle_2069","data-name":"Rectangle 2069",width:"24",height:"24",transform:"translate(-10956 4533)",fill:"none",opacity:"0"}),(0,r.jsx)("g",{id:"Group_4324","data-name":"Group 4324",transform:"translate(-10952 4536)",children:(0,r.jsx)("path",{id:"Path_5188","data-name":"Path 5188",d:"M2.722,16.328A2,2,0,0,0,4.694,18h6.612a2,2,0,0,0,1.972-1.672L14,6H2ZM9,9.5A.5.5,0,0,1,9.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5Zm-4,0A.5.5,0,0,1,5.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5ZM15,2H11A2,2,0,0,0,9,0H7A2,2,0,0,0,5,2H1A1,1,0,0,0,1,4H15a1,1,0,0,0,0-2Z",fill:"#545454",fillRule:"evenodd"})})]})})})]})},C=a.lazy(()=>Promise.all([i.e(2896),i.e(7096)]).then(i.bind(i,44362)));class j extends a.Component{render(){const{updateImageWithData:e,isActiveIndex:t,addPostImage:i,item:s,onClickToImageRemove:n,onsite_token:o,defaultLabel:l}=this.props;return(0,r.jsx)("div",{className:"tb_onsite_add_caption_tab",children:(0,r.jsx)("div",{className:"tb_onsite_image_upload_box",children:(0,r.jsx)("div",{className:"tb_onsite_upload_box_content",children:s&&Object.keys(s).length>0&&s.thumb_file?(0,r.jsx)(S,{item:s,isActiveIndex:t,onClickToImageRemove:n}):(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(C,{updateImageWithData:e,isActiveIndex:t,addPostImage:i,onsite_token:o,defaultLabel:l})})})})})}}const w=j;const y=function(e){const{wall:t}=e;return(0,r.jsx)("div",{className:"tb_success_post",children:(0,r.jsxs)("div",{className:"tb_success_post_box",children:[(0,r.jsx)("svg",{width:"70",height:"70",version:"1.1",viewBox:"0 0 700 700",xmlns:"http://www.w3.org/2000/svg",fill:"#6DC05E",children:(0,r.jsx)("path",{d:"m350 536.67c68.07 0 133.36-27.043 181.49-75.176 48.133-48.137 75.176-113.42 75.176-181.49s-27.043-133.36-75.176-181.49c-48.137-48.133-113.42-75.176-181.49-75.176s-133.36 27.043-181.49 75.176c-48.133 48.137-75.176 113.42-75.176 181.49s27.043 133.36 75.176 181.49c48.137 48.133 113.42 75.176 181.49 75.176zm-133.23-249.9c4.3711-4.3438 10.285-6.7852 16.449-6.7852 6.168 0 12.078 2.4414 16.453 6.7852l53.664 53.668 135.1-135.1c6.0078-5.1445 14.211-6.8945 21.793-4.6523 7.5859 2.2422 13.516 8.1758 15.758 15.758 2.2461 7.5859 0.49219 15.789-4.6523 21.797l-151.67 151.67 0.003907-0.003906c-4.375 4.3477-10.285 6.7852-16.453 6.7852-6.1641 0-12.078-2.4375-16.449-6.7852l-70-70c-4.418-4.3789-6.9023-10.344-6.9023-16.566 0-6.2188 2.4844-12.184 6.9023-16.566z"})}),(0,r.jsxs)("div",{className:"tb_onsite_success_title cTBfont-".concat(t.UgcSettings.onsite_font_varient_btn),style:{color:t.UgcSettings.onsite_thank_txt_color,fontFamily:t.UgcSettings.onsite_css_font_msg,fontSize:parseInt(t.UgcSettings.onsite_thank_fontSize)},children:[" ",t.UgcSettings.onsite_status?t.UgcSettings.onsite_succ_msg:"Thank you for sharing your amazing content with us."]}),(0,r.jsx)("button",{className:"tb_onsite_btn_primary",onClick:e.onClosePopUp,children:"Close"})]})})};var N=i(52867),E=i(46256),T=i.n(E),A=i(80415);const I=e=>{switch(e){case"french":return{captionTabT:"Ajouter une l\xe9gende",reviewTabT:"Poster le commentaire",uploadText:"Choisir une photo / vid\xe9o (facultatif)",contentSize:"Taille de la vid\xe9o : 100 MB max | Taille de la photo : 15 MB max | Max 20 Post",limitErr:"Taille du fichier --size-- Limite d\xe9pass\xe9e.",captionPH:"Ajouter un message ici...",captionErr:"Veuillez ajouter une l\xe9gende.",reviewPH:"Ajoutez votre avis ici....",reviewErr:"Veuillez ajouter des commentaires et des notes.",skipBtn:"Sauter",nextBtn:" >>> ",infoH:"Remplir les informations suivantes. Merci !",infoSubH:"champ obligatoire",inputNL:"NOM/NAME",inputNPH:"Entrer le nom",inputNErr:"S'il vous pla\xeet entrez votre nom.",inputEL:"E-MAIL",inputEPH:"Entrer l'e-mail",inputEErr:"Veuillez saisir l'\xe9-mail correct.",termsText:"En cliquant sur ENVOYER, vous acceptez les ",termsLT:"termes et conditions d'utilisation",onePostErr:"Veuillez inclure au moins un post.",detailErr:"Veuillez v\xe9rifier tous les d\xe9tails.",addMPBtn:"Ajouter une autre photo",submitBtn:"ENVOYER"};case"spanish":return{captionTabT:"A\xf1adir un subt\xedtulo",reviewTabT:"Enviar opini\xf3n",uploadText:"Arrastre un video/imagen para cargar (opcional)",contentSize:"Tama\xf1o del v\xeddeo: M\xe1ximo 100 MB | Tama\xf1o de la foto: M\xe1ximo 15 MB | M\xe1ximo 20 publicaciones",limitErr:"Tama\xf1o del archivo --size-- L\xedmite excedido.",captionPH:"A\xf1ade tu t\xedtulo aqu\xed....",captionErr:"Por favor agregue t\xedtulo.",reviewPH:"A\xf1ade tu rese\xf1a aqu\xed....",reviewErr:"Por favor agregue rese\xf1as y calificaciones.",skipBtn:"Saltar",nextBtn:"Pr\xf3ximo",infoH:"Llene la siguiente informaci\xf3n",infoSubH:"Indica campo requerido",inputNL:"Su nombre",inputNPH:"Introduzca su nombre",inputNErr:"por favor, escriba su nombre.",inputEL:"Direcci\xf3n de correo electr\xf3nico",inputEPH:"Introduce tu correo electr\xf3nico",inputEErr:"Please enter correct email.",termsText:"Al hacer clic en Enviar, aceptas nuestro ",termsLT:"T\xe9rminos y condiciones",onePostErr:"Por favor incluya al menos una publicaci\xf3n.",detailErr:"Por favor verifique los detalles completos",addMPBtn:"Agregar m\xe1s publicaci\xf3n",submitBtn:"Enviar mensaje"};case"german":return{captionTabT:"Beschriftung hinzuf\xfcgen",reviewTabT:"Bewertung abschicken",uploadText:"Ziehen Sie ein Video/Bild zum Hochladen (optional)",contentSize:"Videogr\xf6\xdfe: Max. 100 MB | Fotogr\xf6\xdfe: Max. 15 MB | Maximal 20 Beitr\xe4ge",limitErr:"Dateigr\xf6\xdfe --size-- Limit \xfcberschritten",captionPH:"F\xfcgen Sie hier Ihre Bildunterschrift hinzu....",captionErr:"Bitte Bildunterschrift hinzuf\xfcgen.",reviewPH:"F\xfcgen Sie hier Ihre Bewertung hinzu....",reviewErr:"Bitte f\xfcgen Sie eine Rezension und Bewertungen hinzu.",skipBtn:"\xdcberspringen",nextBtn:"N\xe4chste",infoH:"F\xfcllen Sie die folgenden Informationen aus",infoSubH:"Zeigt ein erforderliches Feld an",inputNL:"IHR NAME",inputNPH:"Gib deinen Namen ein",inputNErr:"Bitte geben Sie Ihren Namen ein.",inputEL:"E-MAIL-ADRESSE",inputEPH:"Geben sie ihre E-Mail Adresse ein",inputEErr:"Bitte geben Sie die richtige E-Mail-Adresse ein.",termsText:"Indem Sie auf \u201eSenden\u201c klicken, stimmen Sie unserem zu ",termsLT:"Gesch\xe4ftsbedingungen",onePostErr:"Bitte f\xfcgen Sie mindestens einen Beitrag bei.",detailErr:"Bitte \xfcberpr\xfcfen Sie die vollst\xe4ndigen Details.",addMPBtn:"Weitere Beitr\xe4ge hinzuf\xfcgen",submitBtn:"BEITRAG ABSENDEN"};default:return{captionTabT:"Add Caption",reviewTabT:"Submit Review",uploadText:"Drag a video / image to upload (optional)",contentSize:"Video Size : Max 100MB | Photo Size : Max 15MB | Max 20 Posts",limitErr:"File Size --size-- Limit Exceeded.",captionPH:"Add your caption here....",captionErr:"Please add caption.",reviewPH:"Add your review here....",reviewErr:"Please add review and ratings.",skipBtn:"Skip",nextBtn:"Next",infoH:"Fill out the following information",infoSubH:"Indicates required field",inputNL:"YOUR NAME",inputNPH:"Enter Your Name",inputNErr:"Please enter your name.",inputEL:"EMAIL ADDRESS",inputEPH:"Enter Your Email",inputEErr:"Please enter correct email.",termsText:"By clicking on Submit, you are agreeing to our ",termsLT:"terms and conditions",onePostErr:"Please include atleast one post.",detailErr:"Please check complete details.",addMPBtn:"Add more Post",submitBtn:"SUBMIT POST"}}},k=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());class P extends a.Component{constructor(){super(...arguments),this.state={submitPost:!0,activeTab:1,isOpen:!0,step:1,wall_id:null,name:null,lstName:null,orgnization:null,designation:null,email:null,upload_image:[{file:null,caption:null,review:null,rating:0,error:!1,activeTab:1,type:1,thumb_file:"",videoPath:"",isAiStatus:!1}],receiveMail:!1,tandc:!0,orgnizationError:!1,designationError:!1,nameError:!1,emailError:!1,submitErrorMessage:null,apiRequest:!1,isActiveIndex:0,isAddMoreActive:!1,isEdit:!1,submitError:!1,is_terms_check:0,errorClickMore:!1},this.handleNext=e=>this.setState({submitPost:!1}),this.hanleTab1=e=>this.setState({activeTab:1}),this.hanleTab2=e=>this.setState({activeTab:2}),this.onShowCloseSubmitPicPopUp=e=>{const{isOpen:t}=this.state;this.setState({isOpen:!t})},this.updateImageWithData=e=>{const{upload_image:t}=this.state;t&&t.length<20&&(t.push(e),this.setState({upload_image:t}))},this.onClickToaddMore=e=>{const{upload_image:t}=this.state,{wall:i}=this.props;if(t&&t.length<20){const e=3==i.UgcSettings.choose_content_category?2:1;t.push({file:null,caption:null,review:null,rating:0,error:!1,activeTab:e,type:1,thumb_file:"",videoPath:""}),this.setState({isAddMoreActive:!0,upload_image:t,isActiveIndex:0==t.length||1==t.length?0:parseInt(t.length)-1,step:1,activeTab:e,submitError:!1,errorClickMore:!1})}else t.length>=20&&this.setState({errorClickMore:!0})},this.onClickToUpdateMoreStep=e=>t=>{const{isAddMoreActive:i,isActiveIndex:s,upload_image:a}=this.state;i&&a[s]&&a.splice(s,1),this.setState({isAddMoreActive:!1,upload_image:a,step:e,isEdit:!1,isActiveIndex:a&&a.length>0&&parseInt(a.length)-1>0?parseInt(a.length)-1:0,activeTab:1,errorClickMore:!1})},this.onClickToUpdateStep=e=>t=>{var i=!1;const{upload_image:s,isActiveIndex:a,activeTab:n}=this.state;s&&s[a]&&(1==n?null==s[a].caption||""==s[a].caption||0==s[a].caption.trim().length?(s[a].error=!0,i=!0):s[a].error=!1:2==n&&(null==s[a].review||""==s[a].review||0==s[a].review.length||0==s[a].rating?(s[a].error=!0,i=!0):s[a].error=!1)),i?this.setState({upload_image:s}):this.setState({isAddMoreActive:!1,upload_image:s,step:e,isEdit:!1,activeTab:1,submitErrorMessage:null,errorClickMore:!1})},this.onSubmitPostData=e=>{const{name:t,email:i,orgnization:a,designation:n,lstName:o,upload_image:r,is_terms_check:l,tandc:c,receiveMail:d}=this.state,{wallId:u,modalPop:h,wall:m,feeds:_}=this.props;if(this.setState({submitError:!1}),c&&t&&t.length>0&&i&&i.length>0&&k(i)&&!i.includes("mailinator")&&r&&r.length>0&&c){this.setState({apiRequest:!0});var g=!!window.ugcSuite||!!window.location.href.includes("ugcSuite=1"),v={};g&&_&&_.length>0&&_.map(e=>{e&&e.Network&&Object.keys(e.Network).length>0&&29==e.Network.id&&e.value1&&(v={feedId:e.value1})});var f=p.aD&&[1e4].includes(m.Wall.owner)?{orgnization:a,designation:n,name:"".concat(t," ").concat(o)}:{};const e=(0,s.A)((0,s.A)({wall_id:null!==m&&void 0!==m&&m.Wall.wallId?null===m||void 0===m?void 0:m.Wall.wallId:u,name:t,email:i,upload_file:r,receive_mail:d,onsite_token:h.onsite_token},v),f);[104746].includes(m.Wall.owner)&&(e.is_terms_check=l),(0,b.VT)(e).then(e=>{const{onsite_token:t,message:i}=e.data;if(!window.location.href.includes("studio=1")&&!m.UgcSettings.onsite_moderation&&i){const e=T()("".concat(p._6),{transports:["websocket"],transport:["websocket"],upgrade:!0,reconnection:!0,reconnectionDelay:3e3,reconnectionDelayMax:5e3,reconnectionAttempts:2});var s=new Array;s.push(u),s.push(i[0].synced),e.emit("poststatus",s),e.on("reconnect_attempt",t=>{console.log("Reconnect attempt #".concat(t)),t>2&&e.disconnect()})}this.props.onsiteTokenUpdate(t),this.setState({step:3,apiRequest:!1},()=>setTimeout(()=>{p.aD&&!p.yR&&(window.location.href="".concat(p.EP).concat(u).concat(p.dq?"?embed=true":"")),this.props.onSitePopup(!1)},5e4),document.querySelector("html").style.overflow="auto")}).catch(e=>{const{message:t}=e.toJSON(),{data:i}=e.response;t&&this.setState({submitError:!0,submitErrorMessage:(null===i||void 0===i?void 0:i.resposne_message)||t,apiRequest:!1}),console.error(e)})}else null!=this.state.name&&0!=this.state.name.trim().length||this.setState({nameError:!0,apiRequest:!1}),(null==this.state.orgnization||0==this.state.orgnization.trim().length)&&p.aD&&[1e4].includes(m.Wall.owner)&&this.setState({orgnizationError:!0,apiRequest:!1}),(null==this.state.designation||0==this.state.designation.trim().length)&&p.aD&&[1e4].includes(m.Wall.owner)&&this.setState({designationError:!0,apiRequest:!1}),null!=this.state.email&&0!=this.state.email.trim().length&&k(this.state.email)&&!i.includes("mailinator")||this.setState({emailError:!0,apiRequest:!1}),r&&0==r.length&&this.setState({submitError:!0})},this.addCaption=e=>t=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].caption=t.target.value,i[e].review="",i[e].rating=0,i[e].error=!1,i[e].activeTab=1,i[e].isAiStatus=!1,this.setState({upload_image:i}))},this.addReview=e=>t=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].review=t.target.value,i[e].caption="",i[e].error=!1,i[e].activeTab=2,i[e].isAiStatus=!1,this.setState({upload_image:i}))},this.addAICaption=(e,t)=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].caption=t,i[e].review="",i[e].rating=0,i[e].error=!1,i[e].activeTab=1,i[e].isAiStatus=!0,this.setState({upload_image:i}))},this.addAIReview=(e,t)=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].review=t,i[e].caption="",i[e].error=!1,i[e].activeTab=2,i[e].isAiStatus=!0,this.setState({upload_image:i}))},this.addRatings=(e,t)=>{const{upload_image:i}=this.state;i&&i[t]&&(i[t].caption="",i[t].rating=e,i[t].error=!1,i[t].activeTab=2,i[t].isAiStatus=!1,this.setState({upload_image:i}))},this.addPostImage=(e,t,i,s,a,n,o,r,l,c)=>{const{upload_image:d}=this.state;d&&d[a]&&(d[a].file=e,d[a].thumb_file=t,d[a].videoPath=i,d[a].type=s,d[a].ext=n,d[a].size=o,d[a].fileName=r,d[a].mediaHeight=l,d[a].mediaWidth=c,this.setState({upload_image:d}))},this.onClickToRemove=e=>t=>{const{upload_image:i}=this.state;i&&i.length>0&&i.splice(e,1),this.setState({upload_image:i,errorClickMore:!1})},this.onClickToImageRemove=e=>t=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].file=null,i[e].thumb_file="",i[e].videoPath="",i[e].type=1,i[e].ext=null,i[e].size=0,i[e].fileName=null,i[e].mediaHeight=0,i[e].mediaWidth=0,this.setState({upload_image:i}),(0,N.Uy)(2))},this.onClickToEdit=e=>t=>{const{upload_image:i}=this.state;let s=1;i&&i[e]&&(s=i[e].activeTab),this.setState({isActiveIndex:e,isEdit:!0,step:1,activeTab:s})},this.onTextName=e=>{this.setState({name:e.target.value,nameError:!1},()=>{null!=this.state.name&&0!=this.state.name.length||this.setState({nameError:!0})})},this.onTextOrganazation=e=>{this.setState({orgnization:e.target.value,orgnizationError:!1},()=>{null!=this.state.orgnization&&0!=this.state.orgnization.length||this.setState({orgnizationError:!0})})},this.onTextlstName=e=>{this.setState({lstName:e.target.value})},this.onTextDesignation=e=>{this.setState({designation:e.target.value,designationError:!1},()=>{null!=this.state.designation&&0!=this.state.designation.length||this.setState({designationError:!0})})},this.onTextEmail=e=>{this.setState({email:e.target.value,emailError:!1},()=>{null!=this.state.email&&0!=this.state.email.length&&k(this.state.email)&&!this.state.email.includes("mailinator")||this.setState({emailError:!0})})},this.onUpdatereceiveMail=e=>{const{receiveMail:t}=this.state;this.setState({receiveMail:!t})},this.onUpdatetandc=e=>{const{tandc:t}=this.state;this.setState({tandc:!t})},this.onClosePopUp=()=>{const{wallId:e}=this.props;p.aD&&!p.yR?window.location.href="".concat(p.EP).concat(e).concat(p.dq?"?embed=true":""):(this.props.onSitePopup(!1),document.querySelector("html").style.overflow="auto")},this.termsCheck=e=>{this.setState({is_terms_check:e})}}componentDidMount(){const{wall:e}=this.props;window._mfq=window._mfq||[],function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//cdn.mouseflow.com/projects/5d24672d-901f-43be-86a6-a92685f165a6.js",document.getElementsByTagName("head")[0].appendChild(e)}(),window._mfq.push(["setVariable","useProduct","socialwalls.com"]),window._mfq.push(["setVariable","UserType","AIReviewWriter"]),this.setState({activeTab:3==e.UgcSettings.choose_content_category?2:1})}render(){const{orgnization:e,designation:t,activeTab:i,lstName:s,isActiveIndex:a,step:n,orgnizationError:o,designationError:l,upload_image:d,isAddMoreActive:u,isEdit:h,name:m,email:g,receiveMail:b,tandc:S,nameError:C,emailError:j,apiRequest:N,submitError:E,submitErrorMessage:T,errorClickMore:k}=this.state,{wall:P,modalPop:M}=this.props,R={backgroundImage:"url(".concat(A.th,"/media/images/error/nopost.png?v=2)")},{onClosePopUp:U}=this,L=P&&P.UgcSettings&&Object.keys(P.UgcSettings).length>0&&P.UgcSettings.onsite_status;var z=I(L?P.UgcSettings.onsite_language:"en");return L&&z?(0,r.jsx)("div",{className:"onsite_submit_post_main",style:{backgroundImage:P.UgcSettings.onsite_background_image?"url(".concat(P.UgcSettings.onsite_background_image,")"):null,backgroundColor:P.UgcSettings.onsite_background_color},children:(0,r.jsx)("div",{className:"tb_onsite_post_inner",children:(0,r.jsx)("div",{className:"tb_onsite_upload_post",children:(0,r.jsxs)("div",{className:"tb_onsite_box",children:[(0,r.jsxs)("div",{className:"tb_onsite_box_header",children:[(0,r.jsx)(f,{onClosePopUp:U}),(0,r.jsx)(x,{wall:P})]}),1==n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tb_onsite_box_title",children:[(0,r.jsx)("div",{className:"tb_onsite_title",children:P.UgcSettings.onsite_status?P.UgcSettings.onsite_popup_title:"Share Your Images With Us"}),(0,r.jsx)("div",{className:"tb_onsite_sub_heading",children:P.UgcSettings.onsite_status?P.UgcSettings.onsite_popup_sub_heading:"Upload your image featuring our brand products and get a chance to feature in our UGC lookbook. "})]}),(0,r.jsxs)("div",{className:"tb_onsite_box_body",children:[p.HY||1==P.UgcSettings.choose_content_category?(0,r.jsxs)("div",{className:"tb_onsite_post_tabs",children:[1==P.UgcSettings.choose_content_category?(0,r.jsx)("div",{className:"tb_onsite_separator",children:"OR"}):null,(0,r.jsxs)("div",{className:"tb_onsite_tabs_nav",children:[p.HY||1==P.UgcSettings.choose_content_category||2==P.UgcSettings.choose_content_category?(0,r.jsx)("div",{className:"tb_onsite_tabs ".concat(1!=P.UgcSettings.choose_content_category?"active-single-tab":""," ").concat(1==i||2==P.UgcSettings.choose_content_category?" active":""),style:2==P.UgcSettings.choose_content_category?{width:"100%"}:{},onClick:this.hanleTab1,children:z.captionTabT}):null,p.HY||1==P.UgcSettings.choose_content_category||3==P.UgcSettings.choose_content_category?(0,r.jsx)("div",{className:"tb_onsite_tabs ".concat(1!=P.UgcSettings.choose_content_category?"active-single-tab":""," ").concat(2==i||3==P.UgcSettings.choose_content_category?" active":""),style:3==P.UgcSettings.choose_content_category?{width:"100%"}:{},onClick:this.hanleTab2,children:z.reviewTabT}):null]})]}):null,(0,r.jsxs)("div",{className:"tb_onsite_tabs_content",children:[(0,r.jsx)(w,{updateImageWithData:this.updateImageWithData,isActiveIndex:a,addPostImage:this.addPostImage,item:d[a],onClickToImageRemove:this.onClickToImageRemove,onsite_token:M.onsite_token,defaultLabel:z},d[a].thumb_file),1==i?(0,r.jsx)(c,{hasActive:this.handleNext,isActiveIndex:a,onClickToUpdateStep:this.onClickToUpdateStep,onClickToUpdateMoreStep:this.onClickToUpdateMoreStep,isAddMoreActive:u,addCaption:this.addCaption,addAICaption:this.addAICaption,item:d[a],defaultLabel:z}):(0,r.jsx)(v,{isActiveIndex:a,onClickToUpdateStep:this.onClickToUpdateStep,onClickToUpdateMoreStep:this.onClickToUpdateMoreStep,isAddMoreActive:u,addReview:this.addReview,addAIReview:this.addAIReview,item:d[a],addAICaption:this.addAICaption,addRatings:this.addRatings,addAIRatings:this.addRatings,defaultLabel:z})]})]})]}):2==n?(0,r.jsx)(_,{termsCheck:this.termsCheck,submitError:E,submitErrorMessage:T,onClickToaddMore:this.onClickToaddMore,onSubmitPostData:this.onSubmitPostData,upload_image:d,isEdit:h,onClickToRemove:this.onClickToRemove,onTextName:this.onTextName,onTextEmail:this.onTextEmail,name:m,onTextDesignation:this.onTextDesignation,onTextOrganazation:this.onTextOrganazation,onTextlstName:this.onTextlstName,orgnizationError:o,designationError:l,orgnization:e,designation:t,lstName:s,email:g,receiveMail:b,tandc:S,onUpdatereceiveMail:this.onUpdatereceiveMail,nameError:C,emailError:j,wall:P,onClickToEdit:this.onClickToEdit,apiRequest:N,errorClickMore:k,defaultLabel:z}):3==n?(0,r.jsx)(y,{wall:P,onClosePopUp:U}):null]})})})}):(0,r.jsx)("div",{className:"onsite_submit_post_main",children:(0,r.jsxs)("div",{className:"tb_error_page wall_error",children:[(0,r.jsx)("div",{className:"tb_error_page_bg",style:R,children:" "}),(0,r.jsx)("div",{className:"tb_error_page_wrapper",children:(0,r.jsxs)("div",{className:"tb_error_content",children:[(0,r.jsx)("div",{className:"tb_error_title",children:"Thanks for Your Efforts!"}),(0,r.jsx)("div",{className:"tb_error_des",children:"Our review collection campaign has come to an end. We appreciate your interest. \ud83d\ude42"})]})})]})})}}const M=(0,n.Ng)(e=>(void 0!=e.modalPop&&1==e.modalPop.onSiteIsShowPopUp&&(document.querySelector("html").style.overflow="hidden"),{modalPop:e.modalPop}),e=>({onSitePopup:t=>e((0,b.b8)(t)),onsiteTokenUpdate:t=>e((0,b.du)(t))}))(P)}}]);