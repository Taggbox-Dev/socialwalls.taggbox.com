"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2484],{40334:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var n=l(72791),o=l(88890),i=l.n(o),a=l(58290),s=l(39852),r=l.n(s),c=l(54122),d=l(2703),h=l(80184);const u={transitionDuration:0,horizontalOrder:!0};var p,m,g=!1,w=0;const y=(0,d.oF)(),f=(0,d.hz)();class b extends n.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,newPersons:[],count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0},this.scrollDiv_init=()=>{m=document.getElementById("marqueecontainer"),g=!1,(m||{}).scrollTop=0,w=0,this.onScrollData(),this.onScrollWPosts()},this.onScrollData=()=>{const{wall:e}=this.props;e.Personalization.scrollDelay&&(p=setInterval((()=>{this.scrollDiv()}),90))},this.onScrollWPosts=()=>{const{themeHeight:e}=this.props;m=document.getElementById("marqueecontainer");var t=document.getElementById("wPosts");if(t)if(window.innerHeight>t.clientHeight){var l=window.innerHeight,n=t.clientHeight;t.setAttribute("style","position: relative; margin-bottom: ".concat(l,"px; min-height:").concat(n,"px"))}else m.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(e||0,"px)"))},this.scrollDiv=()=>{const{postData:e}=this.props,t=e&&e.length?i()(".postItem").eq(e.length-1).height()/2:300;p&&clearInterval(p),g?((m||{}).scrollTop=w=0,g=!1,this.onScrollData()):((m||{}).scrollTop=w,w++,g=122464==this.props.wall.Personalization.wallId?(m||{}).scrollTop>=i()("#wPosts").height()-(m||{}).offsetHeight:(m||{}).scrollTop>=(m||{}).scrollHeight-(m||{}).offsetHeight-t,this.onScrollData())},this.onLoadTheme=()=>{const{postData:e}=this.props;e&&e.length>0&&setTimeout((()=>this.setState({loading:!1},(()=>this.scrollDiv_init()))),1e3)},this.onResponsiveTheme=()=>{const{wall:e}=this.props,t=document.querySelector(".tb_app_container").clientWidth-1;if(t>0){let l=null,n=null,o=null,i=null;const a=e.Personalization.minimumPostWidth;l=t/a;let s=Math.trunc(l);o=t%a,n=o/s,i=l>=1?a+n:a-n,this.setState({postWidth:i,cardNumber:l,wHeight:window.innerHeight})}}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),y){document.querySelector(".tb_app_container").addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.onLoadTheme(),this.props.heightUpdate()}}componentWillUnmount(){setTimeout((()=>{p&&f&&(clearInterval(p),this.setState({loading:!1}))}),1e3)}componentDidUpdate(e,t){const{postData:l,wall:n}=e;setTimeout((()=>this.onResponsiveTheme()),f?1e3:0),f&&this.props.heightUpdate(),l!=this.props.postData&&y&&setTimeout((()=>this.setState({loading:!1},(()=>{p&&clearInterval(p),this.scrollDiv_init()}))),1e3)}render(){const{loading:e,postWidth:t}=this.state,{themeHeight:l}=this.props;let{postData:o,completeDataObject:i,wall:s,adjustWidth:d,onClickToCTA:p,clickToShowPopUp:m}=this.props;const g={backgroundColor:s.ThemeRule.cardColor,padding:"".concat(s.ThemeRule.spacing,"px"),borderRadius:"".concat(s.ThemeRule.borderRadius,"px")};return(0,h.jsx)(h.Fragment,{children:t?(0,h.jsx)("div",{className:"themeSquare ".concat(y?"themeModrnWatrFall display":"widget"),children:(0,h.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(l,"px)")},children:(0,h.jsx)(r(),{id:"wPosts",className:"theme".concat(s.ThemeRule.themeId),elementType:"div",options:u,disableImagesLoaded:!1,updateOnEachImageLoad:!0,children:o.map(((l,r)=>{const u=i[l];return o&&o.length-1==r&&setTimeout((()=>{let e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((e=>{e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1500),t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{id:'"postId'.concat(u.id),className:"feedId".concat(u.feedId," postItem item flatCard  ").concat(u.network.name,"Taggbox ").concat(u.theme48&&"onlyTextCard"===u.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":u.id,"data-highlight":u.highlight,"data-pin":u.pin,style:{padding:s.ThemeRule.padding/2,margin:0,width:t,minWidth:0,left:0,top:0},"data-created":u.createdAt,children:(0,h.jsx)("div",{className:"post",style:g,children:(0,h.jsx)("div",{className:"postContent",children:e?(0,h.jsx)(a.Z,{height:300}):(0,h.jsx)(n.Suspense,{fallback:(0,h.jsx)(a.Z,{height:300}),children:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{ownerId:s.Wall.owner,wall:s,itemData:u,itemIndex:r,adjustWidth:d,personalization:s.Personalization,ThemeRule:s.ThemeRule,clickToShowPopUp:m,wallID:s.Wall.id,onClickToCTA:p},r)})})})})},r)," "]}):null}))})},l)}):null})}}const v=(0,n.memo)(b)},64277:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(72791),o=l(31725),i=l.n(o),a=function(){return a=Object.assign||function(e){for(var t,l=1,n=arguments.length;l<n;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(e){for(var t=e.url,l=e.allowFullScreen,o=e.position,s=e.display,r=e.height,c=e.width,d=e.overflow,h=e.styles,u=e.onLoad,p=e.onMouseOver,m=e.onMouseOut,g=e.scrolling,w=e.id,y=e.frameBorder,f=e.ariaHidden,b=e.sandbox,v=e.allow,T=e.className,x=e.title,S=e.ariaLabel,j=e.ariaLabelledby,D=e.name,I=e.target,W=e.loading,k=e.importance,C=e.referrerpolicy,H=e.allowpaymentrequest,P=e.src,R=i()({src:P||t,target:I||null,style:{position:o||null,display:s||"block",overflow:d||null},scrolling:g||null,allowpaymentrequest:H||null,importance:k||null,sandbox:b||null,loading:W||null,styles:h||null,name:D||null,className:T||null,referrerpolicy:C||null,title:x||null,allow:v||null,id:w||null,"aria-labelledby":j||null,"aria-hidden":f||null,"aria-label":S||null,width:c||null,height:r||null,onLoad:u||null,onMouseOver:p||null,onMouseOut:m||null}),O=Object.create(null),_=0,q=Object.keys(R);_<q.length;_++){var E=q[_];null!=R[E]&&(O[E]=R[E])}for(var N=0,A=Object.keys(O.style);N<A.length;N++){var z=A[N];null==O.style[z]&&delete O.style[z]}if(l)if("allow"in O){var L=O.allow.replace("fullscreen","");O.allow=("fullscreen "+L.trim()).trim()}else O.allow="fullscreen";return y>=0&&(O.style.hasOwnProperty("border")||(O.style.border=y)),n.createElement("iframe",a({},O))}},58290:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(72791);const o=n.createContext({}),i=!0;function a(e){let{baseColor:t,highlightColor:l,width:n,height:o,borderRadius:a,circle:s,direction:r,duration:c,enableAnimation:d=i}=e;const h={};return"rtl"===r&&(h["--animation-direction"]="reverse"),"number"===typeof c&&(h["--animation-duration"]="".concat(c,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(h.width=n),"string"!==typeof o&&"number"!==typeof o||(h.height=o),"string"!==typeof a&&"number"!==typeof a||(h.borderRadius=a),s&&(h.borderRadius="50%"),"undefined"!==typeof t&&(h["--base-color"]=t),"undefined"!==typeof l&&(h["--highlight-color"]=l),h}function s(e){let{count:t=1,wrapper:l,className:s,containerClassName:r,containerTestId:c,circle:d=!1,style:h,...u}=e;var p,m,g;const w=n.useContext(o),y={...u};for(const[n,o]of Object.entries(u))"undefined"===typeof o&&delete y[n];const f={...w,...y,circle:d},b={...h,...a(f)};let v="react-loading-skeleton";s&&(v+=" ".concat(s));const T=null!==(p=f.inline)&&void 0!==p&&p,x=[],S=Math.ceil(t);for(let o=0;o<S;o++){let e=b;if(S>t&&o===S-1){const l=null!==(m=e.width)&&void 0!==m?m:"100%",n=t%1,o="number"===typeof l?l*n:"calc(".concat(l," * ").concat(n,")");e={...e,width:o}}const l=n.createElement("span",{className:v,style:e,key:o},"\u200c");T?x.push(l):x.push(n.createElement(n.Fragment,{key:o},l,n.createElement("br",null)))}return n.createElement("span",{className:r,"data-testid":c,"aria-live":"polite","aria-busy":null!==(g=f.enableAnimation)&&void 0!==g?g:i},l?x.map(((e,t)=>n.createElement(l,{key:t},e))):x)}}}]);
//# sourceMappingURL=2484.71e9f9ed.chunk.js.map