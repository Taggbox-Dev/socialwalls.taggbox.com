"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[952],{35738:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var l=n(72791),o=n(88890),i=n.n(o),a=n(58290),s=n(39852),r=n.n(s),c=n(54122),d=n(2703),h=n(80184);const u={transitionDuration:0,horizontalOrder:!0};var p,m,g=!1,w=0;const y=(0,d.oF)(),f=(0,d.hz)();class b extends l.PureComponent{constructor(){super(...arguments),this.state={rootWidth:document.querySelector(".tb_app_container").clientWidth-1,wHeight:window.innerHeight,height:0,switcher:0,aiy:0,newPersons:[],count:0,loading:!1,scrollheight:0,postWidth:0,cardNumber:0},this.scrollDiv_init=()=>{m=document.getElementById("marqueecontainer"),g=!1,m.scrollTop=0,w=0,this.onScrollData(),this.onScrollWPosts()},this.onScrollData=()=>{const{wall:e}=this.props;p=setInterval((()=>{this.scrollDiv()}),(e=>{switch(e){case 80:return 60;case 70:return 40;case 50:return 30;case 30:default:return 20;case 20:return 10}})(e.Personalization.scrollDelay))},this.onScrollWPosts=()=>{const{themeHeight:e}=this.props;m=document.getElementById("marqueecontainer");var t=document.getElementById("wPosts");if(t)if(window.innerHeight>t.clientHeight){var n=window.innerHeight,l=t.clientHeight;t.setAttribute("style","position: relative; margin-bottom: ".concat(n,"px; min-height:").concat(l,"px"))}else m.setAttribute("style","overflow: auto; height : calc(100vh - ".concat(e&&y?e:0,"px)"))},this.scrollDiv=()=>{const{postData:e}=this.props,t=e&&e.length?i()(".postItem").eq(e.length-1).height()/2:300;p&&clearInterval(p),g?(m.scrollTop=w=0,g=!1,this.onScrollData()):(m.scrollTop=w,w++,g=122464==this.props.wall.Personalization.wallId?m.scrollTop>=i()("#wPosts").height()-m.offsetHeight:m.scrollTop>=m.scrollHeight-m.offsetHeight-t,this.onScrollData())},this.onLoadTheme=()=>{const{postData:e}=this.props;e&&e.length>0&&setTimeout((()=>this.setState({loading:!1},(()=>this.scrollDiv_init()))),1e3)},this.onResponsiveTheme=()=>{const{wall:e}=this.props,t=document.querySelector(".tb_app_container").clientWidth-1;if(t>0){let n=null,l=null,o=null,i=null;const a=e.Personalization.minimumPostWidth;n=t/a;let s=Math.trunc(n);o=t%a,l=o/s,i=n>=1?a+l:a-l,this.setState({postWidth:i||a,cardNumber:n,wHeight:window.innerHeight})}}}componentDidMount(){if(setTimeout((()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth})}),2e3),this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({rootWidth:document.querySelector(".tb_app_container").clientWidth,wHeight:window.innerHeight},(()=>this.onResponsiveTheme())),this.props.heightUpdate()})),y){document.querySelector(".tb_app_container").addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.onLoadTheme(),this.props.heightUpdate()}}componentWillUnmount(){p&&f&&(clearInterval(p),this.setState({loading:!1}))}componentDidUpdate(e,t){const{postData:n,wall:l}=e;setTimeout((()=>this.onResponsiveTheme()),f?1e3:0),this.props.heightUpdate(),n!=this.props.postData&&y&&setTimeout((()=>this.setState({loading:!1},(()=>{p&&clearInterval(p),this.scrollDiv_init()}))),1e3)}render(){const{themeHeight:e}=this.props,{loading:t,postWidth:n}=this.state;let{postData:o,completeDataObject:i,wall:s,adjustWidth:d,onClickToCTA:p,clickToShowPopUp:m}=this.props;const g={padding:"".concat(s.ThemeRule.spacing,"px"),borderRadius:"".concat(s.ThemeRule.borderRadius,"px")};return(0,h.jsx)("div",{className:"themeModrnWatrFall ".concat(y?"display":""),children:(0,h.jsx)("div",{id:"marqueecontainer",style:{overflow:"auto",height:"calc(100vh - ".concat(e,"px)")},children:(0,h.jsx)(r(),{id:"wPosts",className:"theme".concat(s.ThemeRule.themeId),elementType:"div",options:u,disableImagesLoaded:!1,updateOnEachImageLoad:!0,children:o.map(((e,r)=>{const u=i[e];return o&&o.length-1==r&&setTimeout((()=>{let e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((e=>{e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1500),n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{id:'"postId'.concat(u.id),className:"feedId".concat(u.feedId," postItem item flatCard pixel65 ").concat(u.network.name,"Taggbox ").concat("onlyTextCard"===u.theme48.class1?"onlyTextCard":""," completeFadeIn"),"data-post-id":u.id,"data-highlight":u.highlight,"data-pin":u.pin,style:{padding:s.ThemeRule.padding/2,margin:0,width:n,minWidth:0,left:0,top:0},"data-created":u.createdAt,children:(0,h.jsx)("div",{className:"post",style:g,children:(0,h.jsx)("div",{className:"postContent",children:t?(0,h.jsx)(a.Z,{height:300}):(0,h.jsx)(l.Suspense,{fallback:(0,h.jsx)(a.Z,{height:300}),children:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{ownerId:s.Wall.owner,wall:s,itemData:u,itemIndex:r,adjustWidth:d,personalization:s.Personalization,ThemeRule:s.ThemeRule,clickToShowPopUp:m,wallID:s.Wall.id,onClickToCTA:p},r)})})})})},r)," "]}):null}))})})})}}const v=(0,l.memo)(b)},64277:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(72791),o=n(31725),i=n.n(o),a=function(){return a=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(e){for(var t=e.url,n=e.allowFullScreen,o=e.position,s=e.display,r=e.height,c=e.width,d=e.overflow,h=e.styles,u=e.onLoad,p=e.onMouseOver,m=e.onMouseOut,g=e.scrolling,w=e.id,y=e.frameBorder,f=e.ariaHidden,b=e.sandbox,v=e.allow,T=e.className,x=e.title,D=e.ariaLabel,S=e.ariaLabelledby,j=e.name,I=e.target,W=e.loading,k=e.importance,C=e.referrerpolicy,H=e.allowpaymentrequest,P=e.src,O=i()({src:P||t,target:I||null,style:{position:o||null,display:s||"block",overflow:d||null},scrolling:g||null,allowpaymentrequest:H||null,importance:k||null,sandbox:b||null,loading:W||null,styles:h||null,name:j||null,className:T||null,referrerpolicy:C||null,title:x||null,allow:v||null,id:w||null,"aria-labelledby":S||null,"aria-hidden":f||null,"aria-label":D||null,width:c||null,height:r||null,onLoad:u||null,onMouseOver:p||null,onMouseOut:m||null}),R=Object.create(null),_=0,E=Object.keys(O);_<E.length;_++){var N=E[_];null!=O[N]&&(R[N]=O[N])}for(var q=0,A=Object.keys(R.style);q<A.length;q++){var z=A[q];null==R.style[z]&&delete R.style[z]}if(n)if("allow"in R){var L=R.allow.replace("fullscreen","");R.allow=("fullscreen "+L.trim()).trim()}else R.allow="fullscreen";return y>=0&&(R.style.hasOwnProperty("border")||(R.style.border=y)),l.createElement("iframe",a({},R))}},58290:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(72791);const o=l.createContext({}),i=!0;function a(e){let{baseColor:t,highlightColor:n,width:l,height:o,borderRadius:a,circle:s,direction:r,duration:c,enableAnimation:d=i}=e;const h={};return"rtl"===r&&(h["--animation-direction"]="reverse"),"number"===typeof c&&(h["--animation-duration"]="".concat(c,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof l&&"number"!==typeof l||(h.width=l),"string"!==typeof o&&"number"!==typeof o||(h.height=o),"string"!==typeof a&&"number"!==typeof a||(h.borderRadius=a),s&&(h.borderRadius="50%"),"undefined"!==typeof t&&(h["--base-color"]=t),"undefined"!==typeof n&&(h["--highlight-color"]=n),h}function s(e){let{count:t=1,wrapper:n,className:s,containerClassName:r,containerTestId:c,circle:d=!1,style:h,...u}=e;var p,m,g;const w=l.useContext(o),y={...u};for(const[l,o]of Object.entries(u))"undefined"===typeof o&&delete y[l];const f={...w,...y,circle:d},b={...h,...a(f)};let v="react-loading-skeleton";s&&(v+=" ".concat(s));const T=null!==(p=f.inline)&&void 0!==p&&p,x=[],D=Math.ceil(t);for(let o=0;o<D;o++){let e=b;if(D>t&&o===D-1){const n=null!==(m=e.width)&&void 0!==m?m:"100%",l=t%1,o="number"===typeof n?n*l:"calc(".concat(n," * ").concat(l,")");e={...e,width:o}}const n=l.createElement("span",{className:v,style:e,key:o},"\u200c");T?x.push(n):x.push(l.createElement(l.Fragment,{key:o},n,l.createElement("br",null)))}return l.createElement("span",{className:r,"data-testid":c,"aria-live":"polite","aria-busy":null!==(g=f.enableAnimation)&&void 0!==g?g:i},n?x.map(((e,t)=>l.createElement(n,{key:t},e))):x)}}}]);
//# sourceMappingURL=952.31821fff.chunk.js.map