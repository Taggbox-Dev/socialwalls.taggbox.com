"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6638],{66638:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(72791),o=a(97234),n=a(27668),i=a(70757),l=a(80184);class r extends s.PureComponent{render(){const{author:e,personalization:t,postTime:a,network:s,ThemeRule:r,font:h,ownerId:c}=this.props,p=e.username&&e.username.length>0?"@".concat(e.username):"",d={color:r.authorColor,FontFamily:r.authorFont,FontStyle:r.authorFontVariant},m={backgroundColor:r.authorColor},u=!!t.postAuthor,_=!(!t.postAuthor||!t.postTime);return(0,l.jsxs)("div",{className:"tb_ap_author_wrapper",children:[(0,l.jsxs)("div",{className:"tb_ap_author",children:[u||100231===c?(0,l.jsx)(o.default,{author:e,network:s,authorClass:"tb_ap_author_profile"}):"",(0,l.jsxs)("div",{className:"tb_ap_author_info",children:[u||100231===c?(0,l.jsx)("div",{className:"tb_ap_authorname sGFfonte-".concat(r.authorFontVariant),style:d,children:e.name}):"",(0,l.jsxs)("div",{className:"tb_ap_post_info",children:[u||100231===c?(0,l.jsx)("div",{className:"tb_ap_username sGFfonte-".concat(r.authorFontVariant),style:d,children:p}):"",_?(0,l.jsx)("div",{className:"tb_ap_seprator",style:m,children:" "}):"",t.postTime?(0,l.jsx)(n.default,{postTime:a,timeClass:"tb_ap_time",authorNameStyle:d}):""]})]})]}),s.id&&r.socialAction?(0,l.jsx)("div",{className:"tb_ap_social_",children:(0,l.jsx)(i.default,{networkClass:"tb_ap_social__ico",network:s,ThemeRule:r,font:h})}):null]})}}var h=a(42308),c=a(2703),p=a(68329);const d=(0,c.oF)(),m=(0,c.hz)();class u extends s.PureComponent{constructor(){super(...arguments),this.state={themeHeightMange:this.props.themeHeight,randomkey:0},this.onFullscreenChange=()=>{const{themeHeight:e,heightUpdate:t}=this.props;setTimeout((()=>{this.setState({themeHeightMange:e,randomkey:Math.random()}),t()}),100)}}componentDidMount(){if(d){const{themeHeight:e,heightUpdate:t}=this.props;window.addEventListener("resize",(()=>this.onFullscreenChange)),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),this.setState({themeHeightMange:e}),t()}}componentDidUpdate(){if(d)if(m)this.onFullscreenChange();else{const{themeHeight:e}=this.props;this.setState({themeHeightMange:e})}}render(){const{itemData:e,personalization:t,ThemeRule:a,clickToShowPopUp:s,itemIndex:o,wallID:n,ownerId:i,largeBlock:m}=this.props,{themeHeightMange:u}=this.state,_=2===e.type||3===e.type||4===e.type||5===e.type,g=a.trimcontent?(0,c.Sv)(e.content,200):e.content,x={backgroundColor:a.cardColor},b=d?[17,13].includes(a.numberOfCoumn)?4:[5,7].includes(a.numberOfCoumn)?2:3:0,f=d?(window.innerHeight-u)/b:0,C=(0,c.tf)(),k={padding:"".concat(a.padding/2,"px"),height:f?o||C?"".concat(f,"px"):"calc(100vh - ".concat(u,"px)"):""};return e&&e.id?(0,l.jsx)("div",{id:"tb-sp-post-".concat(e.id),className:"tb_ap_post_wrapper ".concat(d?"in-left":""),"tb-network":e.network.id,style:k,children:(0,l.jsx)("div",{className:"tb_ap_post_in",onClick:s(o,e),children:(0,l.jsxs)("div",{className:"tb_ap_post_media_wrapp",style:{borderRadius:"".concat(a.borderRadius,"px")},children:[_?(0,l.jsx)(p.Z,{...this.props,itemData:e,wallID:n}):"",(0,l.jsxs)("div",{className:"overlay-main",children:[a.captionStatus?null:(0,l.jsxs)("div",{className:"tb_ap_post_details postContentCard",children:[(0,l.jsx)(r,{ownerId:i,postTime:e.createdAt,author:e.author,network:e.network,font:e.font,personalization:t,ThemeRule:a}),(0,l.jsx)("div",{className:"tb_ap_contant_wrapper post-card-outer",style:{padding:"".concat(a.spacing,"px")},children:a.hideContent?"":(0,l.jsx)(h.Z,{largeBlock:m,contentClass:"tb_ap_content",item:e,content:g,font:e.font,ThemeRule:a,personalization:t,contentTitle:e.contentTitle})})]}),(0,l.jsx)("div",{className:"tb_ap_post_overlay",style:x,children:(0,l.jsx)("div",{})})]})]})})}):null}}var _=a(77581),g=a(79200),x=a(67945),b=a.n(x);a(24655);const f=(0,c.oF)();function C(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const k=e=>{let{children:t,id:a,index:o,addClass:n,completeAnimation:i,speed:r}=e;return(0,s.useEffect)((()=>{f&&((e,t,a,s,o)=>{const n=document.getElementById("tb-sp-post-".concat(e)).querySelector(".tb_ap_post_in .tb_ap_post_media_wrapp"),i=setTimeout((()=>{Array.from(document.querySelectorAll(".tb_ap_post_media_wrapp")).map((e=>e.classList.remove("zoom-in-effect"))),Array.from(document.querySelectorAll(".overlay-main")).map((e=>e.classList.remove("aos-init","start"))),setTimeout((()=>{n.classList.add("zoom-in-effect"),n.children[1].classList.add("aos-init","start"),(0,c.OX)(e,1)}),1e3),t==s&&a()}),t*(o.slideDelay&&o.slideDelay>=3?1e3*o.slideDelay:3e3))})(a,o,n,i,r)}),[]),(0,l.jsx)(l.Fragment,{children:t})},T=e=>{let{wall:t,itemIndex:a,clickToShowPopUp:s,onClickToCTA:o,itemData:n,largeBlock:i,heightUpdate:r,themeHeight:h}=e;return(0,l.jsx)(u,{ownerId:t.Wall.owner,heightUpdate:r,themeHeight:h,itemData:n,largeBlock:i,itemIndex:a,personalization:t.Personalization,ThemeRule:t.ThemeRule,wallID:t.Wall.id,clickToShowPopUp:s,onClickToCTA:o},a)};class w extends s.PureComponent{constructor(){super(...arguments),this.state={postData:[],postDataUpdate:[],postDataContent:[],count:1,key:1,checkThemeheight:!1},this.themeheight=()=>{setTimeout((()=>{this.props.heightUpdate(),this.setState({checkThemeheight:!0})}),100)},this.dataFilter=()=>{const{postData:e,wall:t}=this.props;let a=(0,c.tf)();const s=f?1==a?4:2==a?6:t.ThemeRule.numberOfCoumn?t.ThemeRule.numberOfCoumn:7:7,o=e&&e.length>0&&e.map(((e,t)=>this.props.completeDataObject[e])),n=o&&Object.keys(o).length>0&&o.map(((e,t)=>t<s?{...e,stopAnimation:!0}:e)),i=n&&Object.keys(n).length>0&&n.filter(((e,t)=>e.file&&""!=e.file&&e));let l=(0,c.td)(i,s),r=l.length>0?l[l.length-1]:0;if(i&&r.length<s){const e=((e,t)=>{let a=[];for(let s=0;s<t;s++)a.push(e[C(0,e.length-1)]);return a})(i,s-r.length);l[l.length-1]=[...r,...e]}f?(b().init(),this.setState({postDataContent:Object.keys(l.slice(0,1)).length>0?l.slice(0,1)[0]:[],postDataUpdate:l})):this.setState({postDataUpdate:i})},this.addClass=()=>{const{postDataUpdate:e,count:t,key:a}=this.state,{wall:s}=this.props;let o=(0,c.tf)();const n=1==o?4:2==o?6:s.ThemeRule.numberOfCoumn?s.ThemeRule.numberOfCoumn:7;let i=t>1?t==e.length?0:t:1;for(;i<e.length;i++){setTimeout((()=>{this.setState({postDataContent:e[i].length==n?e[i]:e[0],count:0==i||e[i].length!=n?1:t+1,key:a+1})}),5e3*i);break}},this.onLoadMasonry=()=>{var e=document.querySelector(".tb_ap_post_container");e&&this.props.managePostHeight(e.style.height)}}componentDidMount(){const{postData:e}=this.props;this.setState({postData:e},(()=>this.onLoadMasonry())),this.dataFilter(),f&&this.themeheight()}componentDidUpdate(){f&&this.props.heightUpdate()}componentWillReceiveProps(e){const{postData:t}=e;this.setState({postData:t},(()=>{this.onLoadMasonry(),f||this.dataFilter()}))}render(){var e,t;const{wall:a,clickToShowPopUp:s,onClickToCTA:o,heightUpdate:n,themeHeight:i}=this.props,{postDataContent:r,postDataUpdate:h,key:p,checkThemeheight:d}=this.state;let m=(0,c.tf)();return d?f?r&&r.length>0?(0,l.jsx)("div",{id:"focus_68",className:"tb_ap_post_container clearfix",children:(0,l.jsxs)("div",{className:"tb_ap_post_row",children:[m?null:(0,l.jsx)("div",{className:"tb_ap_post_large",children:(0,l.jsx)(k,{id:null===(e=r[0])||void 0===e?void 0:e.id,index:1,addClass:this.addClass,completeAnimation:r.length,speed:a.Personalization,children:(0,l.jsx)(T,{heightUpdate:n,themeHeight:i,wall:a,itemIndex:0,clickToShowPopUp:s,onClickToCTA:o,itemData:r[0],largeBlock:!0})},null===(t=r[0])||void 0===t?void 0:t.id)}),(0,l.jsx)("div",{className:"tb_ap_post_small cards_".concat(a.ThemeRule.numberOfCoumn||7),children:r.map(((e,t)=>0!=t||[1,2].includes(m)?(0,l.jsx)(k,{id:null===e||void 0===e?void 0:e.id,index:t+1,addClass:this.addClass,completeAnimation:r.length,speed:a.Personalization,largeBlock:!1,children:(0,l.jsx)(T,{wall:a,heightUpdate:n,themeHeight:i,itemIndex:t,clickToShowPopUp:s,onClickToCTA:o,itemData:e})},null===e||void 0===e?void 0:e.id):null))})]})},p):null:(0,l.jsx)("div",{id:"focus_68",className:"tb_ap_post_container clearfix embed",children:h&&h.length>0&&h.map(((e,t)=>(0,l.jsxs)("div",{className:"tb_ap_post_row",children:[(0,l.jsx)("div",{className:"tb_ap_post_large",children:(0,l.jsx)(T,{wall:a,itemIndex:t,clickToShowPopUp:s,onClickToCTA:o,itemData:e[0],largeBlock:!1})}),(0,l.jsx)("div",{className:"tb_ap_post_small",children:e.map(((e,r)=>0==r?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(T,{wall:a,heightUpdate:n,themeHeight:i,itemIndex:t,clickToShowPopUp:s,onClickToCTA:o,itemData:e,largeBlock:!1})))})]})))}):null}}const v=(0,_.$j)(null,(e=>({managePostHeight:t=>e((0,g.B0)(t))})))(w)},24655:()=>{}}]);
//# sourceMappingURL=6638.c24c090a.chunk.js.map